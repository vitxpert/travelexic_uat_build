"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1938],{1938:(J,f,c)=>{c.r(f),c.d(f,{CurrencyPageModule:()=>w});var m=c(6895),i=c(4006),a=c(8058),g=c(3317),p=c(7391),e=c(8256),d=c(529),y=c(5146),h=c(1692),v=c(3646);function C(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",23),e._uU(1),e.qZA()),2&n){const o=r.$implicit;e.Q6J("value",o.key),e.xp6(1),e.AsE("",o.key," (",o.value,") ")}}function _(n,r){if(1&n&&(e.TgZ(0,"div",25)(1,"span"),e._uU(2),e.qZA()()),2&n){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.message)}}function Z(n,r){if(1&n&&(e.ynx(0),e.YNc(1,_,3,1,"div",24),e.BQk()),2&n){const o=r.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.get("fromCurrency").hasError(o.type)&&(t.form.get("fromCurrency").dirty||t.form.get("fromCurrency").touched))}}function x(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",23),e._uU(1),e.qZA()),2&n){const o=r.$implicit;e.Q6J("value",o.key),e.xp6(1),e.AsE("",o.key," (",o.value,") ")}}function T(n,r){if(1&n&&(e.TgZ(0,"div",25)(1,"span"),e._uU(2),e.qZA()()),2&n){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.message)}}function A(n,r){if(1&n&&(e.ynx(0),e.YNc(1,T,3,1,"div",24),e.BQk()),2&n){const o=r.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.get("toCurrency").hasError(o.type)&&(t.form.get("toCurrency").dirty||t.form.get("toCurrency").touched))}}function P(n,r){if(1&n&&(e.TgZ(0,"div",25)(1,"span"),e._uU(2),e.qZA()()),2&n){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.message)}}function F(n,r){if(1&n&&(e.ynx(0),e.YNc(1,P,3,1,"div",24),e.BQk()),2&n){const o=r.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.get("amountFrom").hasError(o.type)&&(t.form.get("amountFrom").dirty||t.form.get("amountFrom").touched))}}function b(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",16)(2,"h4"),e._uU(3,"Click below to buy "),e.TgZ(4,"span",26),e._uU(5,"Forex"),e.qZA()(),e.TgZ(6,"a",27)(7,"ion-button",28),e._uU(8,"("),e._UZ(9,"ion-icon",29),e._uU(10,") Buy Forex"),e.qZA()()(),e.BQk()),2&n){const o=e.oxw();e.xp6(6),e.MGl("href","tel:",o.forex_contact,"",e.LSH)}}const N=[{path:"",component:(()=>{class n{constructor(o,t,s,u,l){this.location=o,this.router=t,this.http=s,this.apiService=u,this.globalService=l,this.showCurrency=[],this.validationMessages={fromCurrency:[{type:"required",message:"From Currency is required!"}],toCurrency:[{type:"required",message:"To Currency is required!"}],amountFrom:[{type:"required",message:"Amount is required!"}]},this.driver_id="",this.driver_name="",this.forex_contact="",this.initializeForm()}initializeForm(){this.form=new i.cw({fromCurrency:new i.NI("",i.kI.required),toCurrency:new i.NI("",i.kI.required),exchangeRate:new i.NI("0"),amountFrom:new i.NI(""),amountTo:new i.NI("")})}ngOnInit(){for(const[o,t]of Object.entries(p.Aq))this.showCurrency.push({key:o,value:t});this.loadInitialData()}loadInitialData(){const o=JSON.parse(localStorage.getItem("user"))||"";this.actionGroup=localStorage.getItem("cc_selected_group_id"),o.forEach((t,s)=>{t.order_id===Number(this.actionGroup)&&(this.data=o[s],this.forex_contact=this.data.forex_contact)})}getRate(o){let t=o.target.value.trim(),s=this.form.get("fromCurrency").value.trim();const u=new FormData;u.append("to",t),u.append("from",s),u.append("amount","1"),this.apiService.getCurrencyData(u).subscribe(l=>{this.form.get("exchangeRate").setValue(l.info.rate)})}convert(){let o=this.form.get("toCurrency").value.trim(),t=this.form.get("fromCurrency").value.trim(),s=this.form.get("amountFrom").value;const u=new FormData;u.append("to",o),u.append("from",t),u.append("amount",s),this.apiService.getCurrencyData(u).subscribe(l=>{this.form.get("amountTo").setValue(l.result)})}submitPost(){this.form.valid?this.convert():this.form.markAllAsTouched()}back(){this.location.back()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(m.Ye),e.Y36(g.F0),e.Y36(d.eN),e.Y36(y.s),e.Y36(h.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-currency"]],decls:54,vars:8,consts:[["collapse","fade"],["slot","start",3,"click"],["name","chevron-back-outline",1,"back-arrow"],[3,"fullscreen"],[1,"menu-page"],[3,"formGroup","ngSubmit"],[1,"content"],["size","5"],[1,"form-group"],["formControlName","fromCurrency","interface","action-sheet"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["size","2"],[1,"divider"],["formControlName","toCurrency","interface","action-sheet",3,"ionChange"],["size","12"],[2,"text-align","center"],["type","number","formControlName","exchangeRate","placeholder","",1,"form-control",2,"text-align","center"],["type","number","formControlName","amountFrom","placeholder","",1,"form-control"],["type","submit",1,"primary-btn",2,"color","#fff"],[2,"margin-top","10px"],["type","number","formControlName","amountTo","placeholder","",1,"form-control"],[4,"ngIf"],[3,"value"],["class","error-message",4,"ngIf"],[1,"error-message"],[2,"color","red"],[3,"href"],["button",""],["name","logo-yen"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.NdJ("click",function(){return t.back()}),e._UZ(3,"ion-icon",2),e.qZA(),e._UZ(4,"app-header"),e.qZA()(),e.TgZ(5,"ion-content",3)(6,"div",4)(7,"label"),e._uU(8,"Currency"),e.qZA()(),e.TgZ(9,"form",5),e.NdJ("ngSubmit",function(){return t.submitPost()}),e.TgZ(10,"div",6)(11,"ion-card")(12,"ion-card-content")(13,"ion-row")(14,"ion-col",7)(15,"label"),e._uU(16,"From"),e.qZA(),e.TgZ(17,"div",8)(18,"ion-select",9),e.YNc(19,C,2,3,"ion-select-option",10),e.qZA(),e.YNc(20,Z,2,1,"ng-container",11),e.qZA()(),e.TgZ(21,"ion-col",12)(22,"div",13),e._uU(23,"-"),e.qZA()(),e.TgZ(24,"ion-col",7)(25,"label"),e._uU(26,"To"),e.qZA(),e.TgZ(27,"div",8)(28,"ion-select",14),e.NdJ("ionChange",function(u){return t.getRate(u)}),e.YNc(29,x,2,3,"ion-select-option",10),e.qZA(),e.YNc(30,A,2,1,"ng-container",11),e.qZA()()(),e.TgZ(31,"ion-row")(32,"ion-col",15)(33,"div",16),e._uU(34,"Exchange Rate"),e.qZA(),e.TgZ(35,"div",8),e._UZ(36,"input",17),e.qZA()()(),e.TgZ(37,"ion-row")(38,"ion-col",15)(39,"div",16),e._uU(40,"Amount"),e.qZA(),e.TgZ(41,"div",8),e._UZ(42,"input",18),e.YNc(43,F,2,1,"ng-container",11),e.qZA()()(),e.TgZ(44,"ion-row")(45,"ion-button",19),e._uU(46,"Convert"),e.qZA()(),e.TgZ(47,"ion-row",20)(48,"ion-col",15)(49,"div",16),e._uU(50,"Converted Amount"),e.qZA(),e.TgZ(51,"div",8),e._UZ(52,"input",21),e.qZA()()()()()()(),e.YNc(53,b,11,1,"ng-container",22),e.qZA()),2&o&&(e.xp6(5),e.Q6J("fullscreen",!0),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngForOf",t.showCurrency),e.xp6(1),e.Q6J("ngForOf",t.validationMessages.fromCurrency),e.xp6(9),e.Q6J("ngForOf",t.showCurrency),e.xp6(1),e.Q6J("ngForOf",t.validationMessages.toCurrency),e.xp6(13),e.Q6J("ngForOf",t.validationMessages.amountFrom),e.xp6(10),e.Q6J("ngIf",t.forex_contact))},dependencies:[m.sg,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,a.YG,a.Sm,a.PM,a.FN,a.wI,a.W2,a.Gu,a.gu,a.Nd,a.t9,a.n0,a.sr,a.QI,v.G,i.sg,i.u],styles:[".menu-page[_ngcontent-%COMP%]{padding:10px}.menu-page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:25px}ion-select[_ngcontent-%COMP%]{border:1px solid grey;border-radius:5px;margin:8px 0}.divider[_ngcontent-%COMP%]{width:100%;text-align:center;vertical-align:middle;margin-top:32px;font-size:20px}ion-button[_ngcontent-%COMP%]{--background: #10394e;background:#10394e}"]}),n})()}];let q=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(N),g.Bz]}),n})();var U=c(4546);let w=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,i.u5,a.Pc,q,U.O,i.UX]}),n})()}}]);