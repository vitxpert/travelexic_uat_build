"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4898],{4898:(O,h,l)=>{l.r(h),l.d(h,{WeatherPageModule:()=>D});var s=l(6895),g=l(4006),r=l(8058),p=l(3317),Z=l(655),f=l(7423);const m=(0,f.fo)("Geolocation",{web:()=>l.e(4561).then(l.bind(l,4561)).then(n=>new n.GeolocationWeb)});var v=l(7391),t=l(8256),x=l(1228),P=l(5146),A=l(1692),T=l(529),U=l(3646);function b(n,u){if(1&n&&(t.TgZ(0,"div")(1,"div",5)(2,"p",6),t._UZ(3,"ion-icon",7),t._uU(4),t.qZA(),t.TgZ(5,"ion-row")(6,"ion-col",8),t._UZ(7,"img",9),t.TgZ(8,"p",10),t._uU(9),t.qZA()(),t.TgZ(10,"ion-col",11)(11,"p",12),t._uU(12),t.qZA(),t.TgZ(13,"p",12),t._uU(14),t.qZA()()(),t.TgZ(15,"ion-row")(16,"ion-col",13)(17,"p",14)(18,"span"),t._uU(19,"Feels Like"),t.qZA(),t._uU(20),t.qZA()(),t.TgZ(21,"ion-col",13)(22,"p",14)(23,"span"),t._uU(24,"Sunset"),t.qZA(),t._uU(25),t.qZA()()(),t._UZ(26,"hr"),t.TgZ(27,"ion-row")(28,"ion-col",15)(29,"p"),t._uU(30),t.qZA(),t.TgZ(31,"p",16),t._uU(32,"Wind"),t.qZA()(),t.TgZ(33,"ion-col",15)(34,"p"),t._uU(35),t.qZA(),t.TgZ(36,"p",16),t._uU(37,"Humidity"),t.qZA()(),t.TgZ(38,"ion-col",13)(39,"p"),t._uU(40),t.qZA(),t.TgZ(41,"p",16),t._uU(42,"Chance of rain"),t.qZA()()(),t._UZ(43,"hr"),t.qZA(),t.TgZ(44,"h3",17),t._uU(45,"3 Days Weather Report"),t.qZA(),t.TgZ(46,"div",18)(47,"ion-row")(48,"ion-col",19)(49,"div",20)(50,"p",21),t._uU(51),t.qZA(),t._UZ(52,"img",9),t.TgZ(53,"p"),t._uU(54),t.qZA()()(),t.TgZ(55,"ion-col",19)(56,"div",20)(57,"p",21),t._uU(58),t.qZA(),t._UZ(59,"img",9),t.TgZ(60,"p"),t._uU(61),t.qZA()()(),t.TgZ(62,"ion-col",19)(63,"div",20)(64,"p",21),t._uU(65),t.qZA(),t._UZ(66,"img",9),t.TgZ(67,"p"),t._uU(68),t.qZA()()()()()()),2&n){const a=t.oxw();t.xp6(4),t.lnq(" ",null==a.data||null==a.data.location?null:a.data.location.name,", ",null==a.data||null==a.data.location?null:a.data.location.region,", ",null==a.data||null==a.data.location?null:a.data.location.country," "),t.xp6(3),t.Q6J("src","https:"+(null==a.data||null==a.data.current||null==a.data.current.condition?null:a.data.current.condition.icon),t.LSH),t.xp6(2),t.Oqu(null==a.data||null==a.data.current||null==a.data.current.condition?null:a.data.current.condition.text),t.xp6(3),t.hij("",null==a.data||null==a.data.current?null:a.data.current.temp_c," \xb0C Today"),t.xp6(2),t.Oqu(a.getDate(null==a.data||null==a.data.current?null:a.data.current.last_updated)),t.xp6(6),t.hij(" ",null==a.data||null==a.data.current?null:a.data.current.feelslike_c,""),t.xp6(5),t.hij(" ",null==a.data||null==a.data.current?null:a.data.current.temp_c,""),t.xp6(5),t.Oqu(null==a.data||null==a.data.current?null:a.data.current.wind_kph),t.xp6(5),t.hij("",null==a.data||null==a.data.current?null:a.data.current.humidity,"%"),t.xp6(5),t.hij("",null==a.data||null==a.data.current?null:a.data.current.cloud,"%"),t.xp6(11),t.Oqu(a.getDate(null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[0].date)),t.xp6(1),t.Q6J("src","https:"+(null==a.data||null==a.data.forecast||null==a.data.forecast.forecastday[0].day||null==a.data.forecast.forecastday[0].day.condition?null:a.data.forecast.forecastday[0].day.condition.icon),t.LSH),t.xp6(2),t.AsE("",null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[0].day.maxtemp_c,"\xb0 / ",null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[0].day.mintemp_c,"\xb0"),t.xp6(4),t.Oqu(a.getDate(null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[1].date)),t.xp6(1),t.Q6J("src","https:"+(null==a.data||null==a.data.forecast||null==a.data.forecast.forecastday[1].day||null==a.data.forecast.forecastday[1].day.condition?null:a.data.forecast.forecastday[1].day.condition.icon),t.LSH),t.xp6(2),t.AsE("",null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[1].day.maxtemp_c,"\xb0 / ",null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[1].day.mintemp_c,"\xb0"),t.xp6(4),t.Oqu(a.getDate(null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[2].date)),t.xp6(1),t.Q6J("src","https:"+(null==a.data||null==a.data.forecast||null==a.data.forecast.forecastday[2].day||null==a.data.forecast.forecastday[2].day.condition?null:a.data.forecast.forecastday[2].day.condition.icon),t.LSH),t.xp6(2),t.AsE("",null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[2].day.maxtemp_c,"\xb0 / ",null==a.data||null==a.data.forecast?null:a.data.forecast.forecastday[2].day.mintemp_c,"\xb0")}}function C(n,u){1&n&&(t.TgZ(0,"div")(1,"h4",17),t._uU(2,"Not found"),t.qZA()())}const M=[{path:"",component:(()=>{class n{constructor(a,e,o,i,d,c){this.locationSvc=a,this.auth=e,this.apiService=o,this.globalService=i,this.zone=d,this.http=c,this.location="",this.time="",this.temp_c="",this.token="",this.keyword=""}ngOnInit(){this.auth.getUserStatus.subscribe(a=>{"0"!==a&&this.loadInitialData()}),this.globalService.groupSwitchEvent.subscribe(a=>{null!==a&&this.loadInitialData()}),this.requestPermissions()}loadInitialData(){const a=JSON.parse(localStorage.getItem("user"))||"";this.actionGroup=localStorage.getItem("cc_selected_group_id"),a.forEach((e,o)=>{if(e.order_id===Number(this.actionGroup)){this.token=a[o].auth_token,this.tour_date=a[o].tour_date,this.loadDays(a[o].resREGFinal);var i=new Date(1e3*this.tour_date),d=new Date,c=i.getTime()-d.getTime();this.difference_In_Days=Number((c/864e5).toFixed(0))}})}loadDays(a){const e=new Date;let c=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;this.daysActivity=[],a.forEach(y=>{y.checkIn===c&&this.requestPermissions(),this.daysActivity.push(y)}),""===this.location&&(this.location=this.daysActivity[0].location,this.getWeather(this.daysActivity[0].location_latitude,this.daysActivity[0].location_longitude))}requestPermissions(){return(0,Z.mG)(this,void 0,void 0,function*(){const a=yield m.requestPermissions();console.log("Perm request result: ",a),this.getCurrentCoordinate()})}getCurrentCoordinate(){f.dV.isPluginAvailable("Geolocation")?m.getCurrentPosition().then(a=>{this.coordinate={latitude:a.coords.latitude,longitude:a.coords.longitude,accuracy:a.coords.accuracy},this.getWeather(this.coordinate.latitude,this.coordinate.longitude)}).catch(a=>{console.error(a)}):console.log("Plugin geolocation not available")}getWeather(a,e){const o=new FormData;o.append("q",a+","+e),this.apiService.getWeather(o).subscribe(i=>{this.data=i})}back(){this.locationSvc.back()}getDate(a){var e=new Date(a);return v.an[e.getDay()]}getItems(a){if(this.keyword=a.target.value,""==this.keyword)return void this.loadInitialData();const e=new FormData;e.append("q",this.keyword),this.apiService.getWeather(e).subscribe(o=>{this.data=o})}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(s.Ye),t.Y36(x.e),t.Y36(P.s),t.Y36(A.U),t.Y36(t.R0b),t.Y36(T.eN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-weather"]],decls:10,vars:3,consts:[["collapse","fade"],["slot","start",3,"click"],["name","chevron-back-outline",1,"back-arrow"],["debounce","500","placeholder","Search for a place",3,"ngModel","ionChange","ngModelChange"],[4,"ngIf"],[1,"weather"],[1,"location-name"],["name","location"],["size","5"],[3,"src"],[1,"weather-status"],["size","7"],[1,"today-temp"],["size","6"],[1,"feels-like"],["size","3"],[2,"font-size","13px"],["align","center"],[2,"padding","20px"],["size","4"],[1,"bottom-box"],[1,"bottom-date"]],template:function(a,e){1&a&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.NdJ("click",function(){return e.back()}),t._UZ(3,"ion-icon",2),t.qZA(),t._UZ(4,"app-header"),t.qZA()(),t.TgZ(5,"ion-toolbar")(6,"ion-searchbar",3),t.NdJ("ionChange",function(i){return e.getItems(i)})("ngModelChange",function(i){return e.keyword=i}),t.qZA()(),t.TgZ(7,"ion-content"),t.YNc(8,b,69,24,"div",4),t.YNc(9,C,3,0,"div",4),t.qZA()),2&a&&(t.xp6(6),t.Q6J("ngModel",e.keyword),t.xp6(2),t.Q6J("ngIf",null==e.data?null:e.data.location),t.xp6(1),t.Q6J("ngIf",!(null!=e.data&&e.data.location)))},dependencies:[s.O5,g.JJ,g.On,r.Sm,r.wI,r.W2,r.Gu,r.gu,r.Nd,r.VI,r.sr,r.j9,U.G],styles:[".menu-page[_ngcontent-%COMP%]{padding:10px}.menu-page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:25px}.weather[_ngcontent-%COMP%]{margin:20px;background:#181f32;padding:20px;text-align:center;color:#fff;border-radius:20px;box-shadow:3px 3px 10px 2px #ddd}.bottom-box[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:10px;text-align:center;box-shadow:3px 3px 10px 2px #ddd}.location-name[_ngcontent-%COMP%]{font-size:19px}p[_ngcontent-%COMP%]{margin:5px;padding:0}.today-temp[_ngcontent-%COMP%]{margin-top:10px;font-size:22px}.weather-status[_ngcontent-%COMP%]{font-size:18px}.feels-like[_ngcontent-%COMP%]{font-size:20px}.feels-like[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#999}.bottom-date[_ngcontent-%COMP%]{font-size:12px}"]}),n})()}];let W=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(M),p.Bz]}),n})();var S=l(4546);let D=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,g.u5,r.Pc,W,S.O]}),n})()}}]);