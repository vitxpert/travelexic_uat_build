"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7303],{7303:(_,g,n)=>{n.r(g),n.d(g,{MyProfilePageModule:()=>b});var i=n(6895),u=n(4006),c=n(8058),d=n(3317),m=n(655),s=n(2340),e=n(8256),p=n(5146),h=n(1228),f=n(1692),v=n(3646);function P(t,r){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"ion-button",9),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.deleteAccount())}),e._uU(3," Forget Me"),e.qZA()(),e.BQk()}}const M=[{path:"",component:(()=>{class t{constructor(o,a,l,O,S){this.location=o,this.apiService=a,this.alertController=l,this.auth=O,this.globalService=S,this.data={},this.deleteShow=!1,this.name="",this.loadInitialData()}ngOnInit(){("adiona"==s.N.app||"urplan"==s.N.app||"tbi"==s.N.app)&&(this.deleteShow=!0),this.globalService.groupSwitchEvent.subscribe(o=>{null!==o&&this.loadInitialData()}),this.name=this.auth.user.name,this.user_mobile=localStorage.getItem("user_mobile")||""}loadInitialData(){}back(){this.location.back()}deleteAccount(){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Delete Account",message:"Are you sure want to delete account?",mode:"ios",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:a=>{console.log("Confirm Cancel: blah")}},{text:"Confirm",handler:()=>{this.deleteAcc()}}]})).present()})}deleteAcc(){const o=localStorage.getItem("ca_user_id"),a=new FormData;a.append("traveller_id",o),this.apiService.userAccountDelete(a).subscribe(l=>{1==l.success?(this.globalService.presentToast(l.message),this.logout()):this.globalService.presentToast(l.message)})}logout(){this.globalService.removeFiles(),this.globalService.removeTmpFiles(),localStorage.removeItem("user"),localStorage.removeItem("ca_user_id"),localStorage.removeItem("ca_auth_key"),localStorage.removeItem("cc_selected_group_id"),localStorage.removeItem("cc_notification_history"),localStorage.removeItem("cc_documents"),localStorage.removeItem("cc_explore_eat"),localStorage.removeItem("cc_explore_buy"),localStorage.removeItem("cc_explore_about"),localStorage.removeItem("cc_explore_see"),localStorage.removeItem("user_mobile"),localStorage.removeItem("verify_login_user"),this.auth.getUserStatus.next("0")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(i.Ye),e.Y36(p.s),e.Y36(c.Br),e.Y36(h.e),e.Y36(f.U))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-my-profile"]],decls:15,vars:5,consts:[[1,"card"],[1,"header"],[1,"avatar"],["alt","",3,"src"],[1,"card-body"],[1,"user-meta","ion-text-center"],[1,"playername"],[4,"ngIf"],[2,"text-align","center"],["button","","color","danger",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-content"),e._UZ(1,"app-header"),e.TgZ(2,"div",0)(3,"div",1)(4,"div",2),e._UZ(5,"img",3),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"h3",6),e._uU(9),e.qZA(),e.TgZ(10,"h3",6),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA()(),e.YNc(14,P,4,0,"ng-container",7),e.qZA()()()),2&o&&(e.xp6(5),e.Q6J("src",null==a.data?null:a.data.AgentLogourl,e.LSH),e.xp6(4),e.Oqu(a.name),e.xp6(2),e.Oqu(a.user_mobile),e.xp6(2),e.Oqu(null==a.data?null:a.data.tour_name),e.xp6(1),e.Q6J("ngIf",a.deleteShow))},dependencies:[i.O5,c.YG,c.W2,v.G],styles:[".menu-page[_ngcontent-%COMP%]{padding:10px}.menu-page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:25px}ion-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}ion-toolbar[_ngcontent-%COMP%]{--background: transparent}ion-chip[_ngcontent-%COMP%]{--background: var(--ion-color-bgcolor);--color: #fff}.card[_ngcontent-%COMP%]{margin:0 auto}.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:200px;background-color:#fff}.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:160px;height:160px;position:relative;margin:0 auto}.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;position:absolute;bottom:-84px;border:0px solid var(--ion-color-bgcolor);background-color:#fff}.card-body[_ngcontent-%COMP%]{background-color:#fff;padding:30px;height:calc(100vh - 256px);overflow:hidden}.card-body[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]{padding-top:40px}.card-body[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .playername[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#303940}.card-body[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]{font-size:90%;color:#949ea6;text-transform:uppercase;margin:0 auto}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(M),d.Bz]}),t})();var C=n(4546);let b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[i.ez,u.u5,c.Pc,y,C.O]}),t})()}}]);