"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8382],{8382:(wn,G,h)=>{h.r(G),h.d(G,{FillFormPageModule:()=>Pn});var p=h(6895),r=h(4006),l=h(8058),C=h(3317),m=h(655),ie=h(5838),e=h(8256),oe=h(727);class ne extends oe.w0{constructor(a,t){super()}schedule(a,t=0){return this}}const N={setInterval(o,a,...t){const{delegate:i}=N;return i?.setInterval?i.setInterval(o,a,...t):setInterval(o,a,...t)},clearInterval(o){const{delegate:a}=N;return(a?.clearInterval||clearInterval)(o)},delegate:void 0};var ae=h(8737),re=h(6063);class k{constructor(a,t=k.now){this.schedulerActionCtor=a,this.now=t}schedule(a,t=0,i){return new this.schedulerActionCtor(this,a).schedule(i,t)}}k.now=re.l.now;const ce=new class le extends k{constructor(a,t=k.now){super(a,t),this.actions=[],this._active=!1}flush(a){const{actions:t}=this;if(this._active)return void t.push(a);let i;this._active=!0;do{if(i=a.execute(a.state,a.delay))break}while(a=t.shift());if(this._active=!1,i){for(;a=t.shift();)a.unsubscribe();throw i}}}(class se extends ne{constructor(a,t){super(a,t),this.scheduler=a,this.work=t,this.pending=!1}schedule(a,t=0){var i;if(this.closed)return this;this.state=a;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(a,t,i=0){return N.setInterval(a.flush.bind(a,this),i)}recycleAsyncId(a,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&N.clearInterval(t)}execute(a,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(a,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,t){let n,i=!1;try{this.work(a)}catch(s){i=!0,n=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:a,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(i,this),null!=a&&(this.id=this.recycleAsyncId(t,a,null)),this.delay=null,super.unsubscribe()}}});var de=h(4482),pe=h(5403);function I(o,a=ce){return(0,de.e)((t,i)=>{let n=null,s=null,c=null;const d=()=>{if(n){n.unsubscribe(),n=null;const _=s;s=null,i.next(_)}};function u(){const _=c+o,g=a.now();if(g<_)return n=this.schedule(void 0,_-g),void i.add(n);d()}t.subscribe((0,pe.x)(i,_=>{s=_,c=a.now(),n||(n=a.schedule(u,o),i.add(n))},()=>{d(),i.complete()},void 0,()=>{s=n=null}))})}function ue(o,a){1&o&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function _e(o,a){if(1&o&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function me(o,a){if(1&o&&(e.ynx(0),e.YNc(1,_e,3,1,"div",11),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("address").hasError(t.type)&&(i.addressForm.get("address").dirty||i.addressForm.get("address").touched))}}function ge(o,a){1&o&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function he(o,a){if(1&o&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function fe(o,a){if(1&o&&(e.ynx(0),e.YNc(1,he,3,1,"div",11),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("city").hasError(t.type)&&(i.addressForm.get("city").dirty||i.addressForm.get("city").touched))}}function ve(o,a){1&o&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function be(o,a){if(1&o&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function xe(o,a){if(1&o&&(e.ynx(0),e.YNc(1,be,3,1,"div",11),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("state").hasError(t.type)&&(i.addressForm.get("state").dirty||i.addressForm.get("state").touched))}}function Fe(o,a){1&o&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function ye(o,a){if(1&o&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Te(o,a){if(1&o&&(e.ynx(0),e.YNc(1,ye,3,1,"div",11),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("pincode").hasError(t.type)&&(i.addressForm.get("pincode").dirty||i.addressForm.get("pincode").touched))}}function Ze(o,a){1&o&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function Ie(o,a){if(1&o&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ce(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Ie,3,1,"div",11),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("country").hasError(t.type)&&(i.addressForm.get("country").dirty||i.addressForm.get("country").touched))}}let j=(()=>{class o{constructor(){this.addressEvent=new e.vpe,this.attribute_lang={},this.address_status=!1,this.validationMessages={address:[{type:"required",message:"Address is required"}],city:[{type:"required",message:"City is required"}],state:[{type:"required",message:"State is required"}],pincode:[{type:"required",message:"Pincode is required"}],country:[{type:"required",message:"Country is required"}]}}ngOnInit(){var t,i,n,s,c,d,u;this.attribute_lang=null===(t=this.item.value)||void 0===t?void 0:t.attribute_lang,console.log(null===(i=this.item)||void 0===i?void 0:i.value),this.addressForm=new r.cw({address:new r.NI(null===(n=this.item.value.value)||void 0===n?void 0:n.address,this.item.value.is_required?[r.kI.required]:[]),city:new r.NI(null===(s=this.item.value.value)||void 0===s?void 0:s.city,this.item.value.is_required?[r.kI.required]:[]),state:new r.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.state,this.item.value.is_required?[r.kI.required]:[]),pincode:new r.NI(null===(d=this.item.value.value)||void 0===d?void 0:d.pincode,this.item.value.is_required?[r.kI.required]:[]),country:new r.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.country,this.item.value.is_required?[r.kI.required]:[])}),this.address_status=this.item.value.is_locked,this.addressForm.valueChanges.pipe(I(500)).subscribe(_=>{this.addressEvent.emit(_)})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-address"]],inputs:{item:"item",isRequired:"isRequired"},outputs:{addressEvent:"addressEvent"},decls:33,vars:17,consts:[[3,"formGroup"],[3,"disabled"],[1,"form-group"],["class","compulsory",4,"ngIf"],["formControlName","address","rows","5","placeholder","Type something here"],[4,"ngFor","ngForOf"],["type","text","formControlName","city"],["type","text","formControlName","state"],["type","text","formControlName","pincode"],["type","text","formControlName","country"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"div",2)(4,"label"),e._uU(5),e.YNc(6,ue,2,0,"span",3),e.qZA(),e._UZ(7,"ion-textarea",4),e.YNc(8,me,2,1,"ng-container",5),e.qZA(),e.TgZ(9,"div",2)(10,"label"),e._uU(11),e.YNc(12,ge,2,0,"span",3),e.qZA(),e._UZ(13,"ion-input",6),e.YNc(14,fe,2,1,"ng-container",5),e.qZA(),e.TgZ(15,"div",2)(16,"label"),e._uU(17),e.YNc(18,ve,2,0,"span",3),e.qZA(),e._UZ(19,"ion-input",7),e.YNc(20,xe,2,1,"ng-container",5),e.qZA(),e.TgZ(21,"div",2)(22,"label"),e._uU(23),e.YNc(24,Fe,2,0,"span",3),e.qZA(),e._UZ(25,"ion-input",8),e.YNc(26,Te,2,1,"ng-container",5),e.qZA(),e.TgZ(27,"div",2)(28,"label"),e._uU(29),e.YNc(30,Ze,2,0,"span",3),e.qZA(),e._UZ(31,"ion-input",9),e.YNc(32,Ce,2,1,"ng-container",5),e.qZA()()()()),2&t&&(e.Q6J("formGroup",i.addressForm),e.xp6(1),e.Q6J("disabled",i.address_status),e.xp6(4),e.hij("",null==i.attribute_lang?null:i.attribute_lang.address," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.address),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.city," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.city),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.state," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.state),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.pincode," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.pincode),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.country," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.country))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.pK,l.g2,l.j9,r.sg,r.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}"]}),o})();var F=h(7391);function ke(o,a){1&o&&e._UZ(0,"img",4)}function Pe(o,a){1&o&&e._UZ(0,"img",5)}let M=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-content-uploading"]],decls:8,vars:4,consts:[[1,"ion-padding","my-popup"],[2,"text-align","center"],["src","assets/images/loader2.gif","width","300px",4,"ngIf"],["src","assets/images/loader3.gif","width","300px",4,"ngIf"],["src","assets/images/loader2.gif","width","300px"],["src","assets/images/loader3.gif","width","300px"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,ke,1,0,"img",2),e.YNc(5,Pe,1,0,"img",3),e.qZA(),e.TgZ(6,"p",1),e._uU(7),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(i.heading),e.xp6(2),e.Q6J("ngIf","scan"==i.content_type),e.xp6(1),e.Q6J("ngIf","scan"!=i.content_type),e.xp6(2),e.Oqu(i.content))},dependencies:[p.O5,l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #EEEEEE !important}"]}),o})();function we(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"Recheck your photo before submitting."),e.qZA())}function qe(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"Recheck your pdf before submitting."),e.qZA())}function Ae(o,a){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",5),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.imgPath,e.LSH)}}function Ue(o,a){1&o&&(e.TgZ(0,"div",6),e._UZ(1,"img",7),e.qZA())}function Ne(o,a){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.imgPath)}}let P=(()=>{class o{constructor(t){this.modalController=t,this.isModalOpen=!1}ngOnInit(){}setOpen(t){this.isModalOpen=t}uploadExit(){this.modalController.dismiss("start_upload")}exitScreen(){this.modalController.dismiss("close")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-popup"]],decls:10,vars:5,consts:[[1,"ion-padding"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],["type","button","ion-button","","size","full",3,"click"],["ion-button","","size","full","color","danger",3,"click"],[1,"selected-image",3,"src"],[2,"text-align","center"],["src","assets/images/pdf_icon.jpg","width","300px"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,we,2,0,"p",1),e.YNc(2,qe,2,0,"p",1),e.YNc(3,Ae,2,1,"div",1),e.YNc(4,Ue,2,0,"div",2),e.YNc(5,Ne,2,1,"p",1),e.TgZ(6,"ion-button",3),e.NdJ("click",function(){return i.uploadExit()}),e._uU(7,"Upload"),e.qZA(),e.TgZ(8,"ion-button",4),e.NdJ("click",function(){return i.exitScreen()}),e._uU(9,"Close"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","image"==i.type),e.xp6(1),e.Q6J("ngIf","pdf"==i.type),e.xp6(1),e.Q6J("ngIf","image"==i.type),e.xp6(1),e.Q6J("ngIf","pdf"==i.type),e.xp6(1),e.Q6J("ngIf","pdf"==i.type))},dependencies:[p.O5,l.YG,l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #fff !important}.selected-image[_ngcontent-%COMP%]{width:100%;height:350px;object-fit:contain;border-radius:20px;background-color:#ddd}"]}),o})();var w=h(1692),y=h(1270);const Me=["fileInput"];function Ee(o,a){1&o&&(e.TgZ(0,"ion-item",14)(1,"p"),e._uU(2,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA()())}function Je(o,a){1&o&&(e.TgZ(0,"span",15),e._uU(1,"*"),e.qZA())}function Qe(o,a){1&o&&(e.TgZ(0,"div",16),e._UZ(1,"ion-icon",17),e.TgZ(2,"div")(3,"span",18),e._uU(4,"Choose File"),e.qZA()()())}function Oe(o,a){if(1&o&&e._UZ(0,"img",19),2&o){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function Se(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"img",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.removeFile())}),e.qZA()}}function Ye(o,a){if(1&o&&(e.TgZ(0,"div",21)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function De(o,a){if(1&o&&(e.TgZ(0,"div",23)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Be(o,a){if(1&o&&(e.ynx(0),e.YNc(1,De,3,1,"div",22),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.fileUploadForm.get("value").hasError(t.type)&&(i.fileUploadForm.get("value").dirty||i.fileUploadForm.get("value").touched))}}let O=(()=>{class o{constructor(t,i,n){this.globalService=t,this.formApiService=i,this.modalController=n,this.fileUploadEvent=new e.vpe,this.uploadSubmit=!1,this.uploadedID=!1,this.attribute_lang={},this.uploadPDFFileName="",this.file_status=!1,this.document_status="",this.validationMessages={value:[{type:"required",message:"File is required"}]}}ngOnInit(){var t,i,n,s,c,d,u;this.attribute_lang=this.item.value.attribute_lang,!(null===(i=null===(t=this.item)||void 0===t?void 0:t.value)||void 0===i)&&i.value&&(""!=this.item.value.value&&(this.uploadPDFFileName=null===(c=null===(s=null===(n=this.item)||void 0===n?void 0:n.value)||void 0===s?void 0:s.value)||void 0===c?void 0:c.split("/").pop()),this.imgPath="pdf"==this.item.value.value.split(".").pop()?"assets/images/pdf_icon.jpg":null===(u=null===(d=this.item)||void 0===d?void 0:d.value)||void 0===u?void 0:u.value),this.file_status=this.item.value.is_locked,this.fileUploadForm=new r.cw({value:new r.NI(this.item.value.value,this.item.value.is_required?[r.kI.required]:[])}),this.globalService.fileUploadEvent.subscribe(_=>{_?.forEach(g=>{this.document_status=g.status})})}takePhoto(){return(0,m.mG)(this,void 0,void 0,function*(){this.fileInput.nativeElement.click()})}uploadPhoto(t){const i=t.target.files[0];if(this.extension=i.type,this.uploadPDFFileName=i.name,i.size>=F.m_)this.globalService.showError("Image file should be less than 10 MB");else{var n=new FileReader;n.onload=s=>{let c=s.target.result;this.imgPath=c,this.openImageModal(c),"application/pdf"==this.extension&&(this.imgPath="assets/images/pdf_icon.jpg")},n.readAsDataURL(i),this.selectedFile=i}this.fileInput.nativeElement.value=""}openImageModal(t){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:"application/pdf"==this.extension?"file.pdf":t,type:"application/pdf"==this.extension?"pdf":"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(i=>{"start_upload"==i.data?this.uploadDoc():"close"==i.data&&(this.uploadPDFFileName="",this.imgPath="",this.selectedFile=void 0)})})}uploadDoc(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading();const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","file"),t.append("name","file"),t.append("file",this.selectedFile),this.formApiService.uploadDocument(t).subscribe(i=>{var n;this.contentUploadModal.dismiss(),i.success&&(this.uploadedID=!0,this.fileUploadForm.get("value").setValue(null===(n=i.data)||void 0===n?void 0:n.url),this.fileUploadEvent.emit(this.fileUploadForm.value))},i=>{console.log(i)})})}removeFile(){this.selectedFile="",this.imgPath="",this.uploadPDFFileName="",this.fileUploadForm.get("value").setValue("")}contentUploading(t="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:M,backdropDismiss:!0,mode:"ios",componentProps:{content:"Please give us a moment while we are uploading your file",heading:"File Details",content_type:t}}),yield this.contentUploadModal.present()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.U),e.Y36(y.$),e.Y36(l.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-upload"]],viewQuery:function(t,i){if(1&t&&e.Gf(Me,7),2&t){let n;e.iGM(n=e.CRH())&&(i.fileInput=n.first)}},inputs:{item:"item",is_required:"is_required"},outputs:{fileUploadEvent:"fileUploadEvent"},decls:25,vars:13,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],["class","compulsory",4,"ngIf"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileInput","hidden","","accept","image/png, image/jpg, image/jpeg , application/pdf",3,"change"],["fileInput",""],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["class","cross_pic_choose","src","assets/icon/close.svg",3,"click",4,"ngIf"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[4,"ngFor","ngForOf"],["color","danger"],[1,"compulsory"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],["src","assets/icon/close.svg",1,"cross_pic_choose",3,"click"],[1,"error-message",2,"color","black","width","100%"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){if(1&t&&(e.TgZ(0,"form",0),e.YNc(1,Ee,3,0,"ion-item",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"label"),e._uU(5),e.YNc(6,Je,2,0,"span",3),e.qZA(),e.TgZ(7,"ion-row")(8,"ion-col",4),e.YNc(9,Qe,5,0,"div",5),e.TgZ(10,"input",6,7),e.NdJ("change",function(s){return i.uploadPhoto(s)}),e.qZA(),e.YNc(12,Oe,1,1,"img",8),e.YNc(13,Se,1,0,"img",9),e.qZA(),e.TgZ(14,"ion-col",10)(15,"ion-button",11),e.NdJ("click",function(){return i.takePhoto()}),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()()(),e.TgZ(21,"ion-row"),e.YNc(22,Ye,3,1,"div",12),e.qZA(),e.TgZ(23,"ion-row"),e.YNc(24,Be,2,1,"ng-container",13),e.qZA()()()()),2&t){let n,s;e.Q6J("formGroup",i.fileUploadForm),e.xp6(1),e.Q6J("ngIf","rejected"==i.document_status),e.xp6(1),e.Q6J("disabled",i.file_status),e.xp6(3),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required||i.is_required),e.xp6(3),e.Q6J("ngIf",!i.imgPath),e.xp6(3),e.Q6J("ngIf",i.imgPath),e.xp6(1),e.Q6J("ngIf",i.imgPath&&!i.file_status),e.xp6(3),e.Oqu(i.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null!==(n=null==i.attribute_lang?null:i.attribute_lang.size)&&void 0!==n?n:"Size: below 10 MB"),e.xp6(2),e.Oqu(null!==(s=null==i.attribute_lang?null:i.attribute_lang.format_both)&&void 0!==s?s:"Format: JPEG/JPG/PNG/PDF"),e.xp6(2),e.Q6J("ngIf",""!=i.uploadPDFFileName),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.value)}},dependencies:[p.sg,p.O5,r._Y,r.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.Ie,l.Nd,r.sg],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),o})();function Ge(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"p",7),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.web_form?null:t.web_form.submit_success_content)}}function je(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"div",2)(2,"a",8),e._uU(3,"Open Link"),e.qZA()(),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("href",null==t.web_form?null:t.web_form.submit_success_content,e.LSH)}}let $e=(()=>{class o{constructor(t,i){this.modalController=t,this.navCtrl=i}ngOnInit(){}exitPage(){this.modalController.dismiss(),this.navCtrl.navigateRoot(["/"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.IN),e.Y36(l.SH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-sucess"]],decls:11,vars:3,consts:[[1,"ion-padding","my-popup"],[2,"margin","20px"],[2,"text-align","center"],["src","assets/images/form-success.png","width","300px"],[2,"text-align","center","color","white"],[4,"ngIf"],["type","button","color","secondary","ion-button","",3,"click"],[2,"color","white","text-align","center"],[2,"color","white",3,"href"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h3",4),e._uU(5),e.qZA(),e.YNc(6,Ge,3,1,"ng-container",5),e.YNc(7,je,4,1,"ng-container",5),e.TgZ(8,"div",2)(9,"ion-button",6),e.NdJ("click",function(){return i.exitPage()}),e._uU(10,"Close"),e.qZA()()()),2&t&&(e.xp6(5),e.Oqu(i.heading),e.xp6(1),e.Q6J("ngIf","message"==(null==i.web_form?null:i.web_form.submit_success_action)),e.xp6(1),e.Q6J("ngIf","link"==(null==i.web_form?null:i.web_form.submit_success_action)))},dependencies:[p.O5,l.YG,l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #0D4DA4}"]}),o})();function Re(o,a){if(1&o&&(e.TgZ(0,"ion-card",13)(1,"ion-card-content")(2,"p"),e._uU(3,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&o){const t=e.oxw();e.xp6(5),e.hij("Remarks: ",t.document_reject_remark,"")}}function Ve(o,a){1&o&&(e.TgZ(0,"div",14),e._UZ(1,"ion-icon",15),e.TgZ(2,"div")(3,"span",16),e._uU(4,"Choose File"),e.qZA()()())}function He(o,a){if(1&o&&e._UZ(0,"img",17),2&o){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function Le(o,a){1&o&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function ze(o,a){if(1&o&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function Ke(o,a){if(1&o&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Xe(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Ke,3,1,"div",9),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.imageUploadForm.get("value").hasError(t.type)&&(i.imageUploadForm.get("value").dirty||i.imageUploadForm.get("value").touched))}}function We(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"li"),e._uU(2),e.qZA(),e.BQk()),2&o){const t=a.$implicit;e.xp6(2),e.Oqu(t)}}let $=(()=>{class o{constructor(t,i,n){this.globalService=t,this.formApiService=i,this.modalController=n,this.imageUploadEvent=new e.vpe,this.category="",this.document_status="",this.document_reject_remark="",this.uploadSubmit=!1,this.uploadedID=!1,this.validation="",this.inputReadOnly=!0,this.photo_id_status="",this.ocr_error=[],this.uploadPDFFileName="",this.validationMessages={value:[{type:"required",message:"File is required"}]},this.label="",this.conf=75,this.extension="png",this.attribute_lang={}}ngOnInit(){var t,i,n;this.attribute_lang=this.item.value.attribute_lang,this.imageUploadForm=new r.cw({value:new r.NI(this.item.value.value,this.item.value.is_required?[r.kI.required]:[])}),this.label=this.item.value.name,this.validation=this.item.value.validation,this.photo_id_status=this.item.value.is_locked,""!=this.item.value.value&&(this.imgPath=this.item.value.value,this.uploadPDFFileName=null===(n=null===(i=null===(t=this.item.value)||void 0===t?void 0:t.value)||void 0===i?void 0:i.split("/"))||void 0===n?void 0:n.pop()),this.imageUploadForm.valueChanges.pipe(I(500)).subscribe(s=>{console.log(s),this.imageUploadEvent.emit(s)}),this.globalService.imageUploadEvent2.subscribe(s=>{s?.forEach(c=>{this.document_status=c.status,this.document_reject_remark=c.remark})})}takePhoto(){return(0,m.mG)(this,void 0,void 0,function*(){this.globalService.takePhoto().then(t=>(0,m.mG)(this,void 0,void 0,function*(){this.openImageModal(t),this.imgPath=t.imageUrl,this.selectedFile=t.selectedFile}))})}openImageModal(t){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t?.imageUrl,type:"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(i=>{"start_upload"==i.data?this.uploadDoc():"close"==i.data&&(this.imgPath="",this.selectedFile=void 0)})})}removeFile(){this.selectedFile="",this.imgPath=""}uploadDoc(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading();const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","file"),t.append("name","file"),t.append("file",this.selectedFile,"image."+this.extension),this.formApiService.uploadDocument(t).subscribe(i=>{var n;console.log(i),i.success&&(this.uploadedID=!0,this.imageUploadForm.get("value").setValue(null===(n=i.data)||void 0===n?void 0:n.url),this.contentUploadModal.dismiss())})})}contentUploading(t="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:M,backdropDismiss:!0,mode:"ios",componentProps:{content:"Please give us a moment while we are uploading your Photo ID",heading:"Photo ID Details",content_type:t}}),yield this.contentUploadModal.present()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.U),e.Y36(y.$),e.Y36(l.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-upload"]],inputs:{item:"item"},outputs:{imageUploadEvent:"imageUploadEvent"},decls:26,vars:13,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],[1,"compulsory"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["size","8"],["ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"color","red"],["color","danger"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],[1,"error-message"],[1,"error-message",2,"color","black","width","100%"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.YNc(1,Re,6,1,"ion-card",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"label"),e._uU(5),e.TgZ(6,"span",3),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"ion-row")(9,"ion-col",4),e.YNc(10,Ve,5,0,"div",5),e.YNc(11,He,1,1,"img",6),e.qZA(),e.TgZ(12,"ion-col",7)(13,"ion-button",8),e.NdJ("click",function(){return i.takePhoto()}),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()(),e.TgZ(19,"ion-row"),e.YNc(20,Le,3,0,"div",9),e.qZA(),e.TgZ(21,"ion-row"),e.YNc(22,ze,3,1,"div",10),e.qZA(),e.YNc(23,Xe,2,1,"ng-container",11),e.qZA()()(),e.TgZ(24,"ul",12),e.YNc(25,We,3,1,"ng-container",11),e.qZA()),2&t&&(e.Q6J("formGroup",i.imageUploadForm),e.xp6(1),e.Q6J("ngIf","rejected"==i.document_status),e.xp6(1),e.Q6J("disabled",i.photo_id_status),e.xp6(3),e.hij("",i.label," "),e.xp6(5),e.Q6J("ngIf",!i.imgPath),e.xp6(1),e.Q6J("ngIf",i.imgPath),e.xp6(3),e.Oqu(i.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.size),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===i.selectedFile&&i.uploadSubmit),e.xp6(2),e.Q6J("ngIf",""!=i.uploadPDFFileName),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.value),e.xp6(2),e.Q6J("ngForOf",i.ocr_error))},dependencies:[p.sg,p.O5,r._Y,r.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.Nd,r.sg],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),o})();function et(o,a){1&o&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function tt(o,a){if(1&o&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function it(o,a){if(1&o&&(e.ynx(0),e.YNc(1,tt,3,1,"div",11),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.inputEmailForm.get("value").hasError(t.type)&&(i.inputEmailForm.get("value").dirty||i.inputEmailForm.get("value").touched))}}let R=(()=>{class o{constructor(t,i){this.fb=t,this.formApiService=i,this.inputEmailEvent=new e.vpe,this.records=[],this.email_status=!1,this.validationMessages={value:[{type:"required",message:"Email is required"}],label:[{type:"required",message:"Email type is required"}]}}ngOnInit(){var t,i,n,s,c,d,u;this.inputEmailForm=new r.cw({value:new r.NI(null===(n=null===(i=null===(t=this.item)||void 0===t?void 0:t.value)||void 0===i?void 0:i.value)||void 0===n?void 0:n.value,this.item.value.is_required?[r.kI.required]:[]),label:new r.NI(null!==(c=null===(s=this.item.value)||void 0===s?void 0:s.value)&&void 0!==c&&c.label?null===(u=null===(d=this.item.value)||void 0===d?void 0:d.value)||void 0===u?void 0:u.label:"work",this.item.value.is_required?[r.kI.required]:[])}),this.email_status=this.item.value.is_locked,this.inputEmailForm.valueChanges.pipe(I(500)).subscribe(_=>{this.inputEmailEvent.emit(_)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(y.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-input-email"]],inputs:{item:"item"},outputs:{inputEmailEvent:"inputEmailEvent"},decls:17,vars:5,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["lines","none"],["formControlName","label"],["value",""],["value","work"],["value","home"],["type","text","formControlName","value","placeholder","Email Address"],[4,"ngFor","ngForOf"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,et,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-item",3)(7,"ion-select",4)(8,"ion-select-option",5),e._uU(9,"Select"),e.qZA(),e.TgZ(10,"ion-select-option",6),e._uU(11,"Work"),e.qZA(),e.TgZ(12,"ion-select-option",7),e._uU(13,"Home"),e.qZA()(),e._uU(14," \xa0 "),e._UZ(15,"ion-input",8),e.qZA(),e.YNc(16,it,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.inputEmailForm),e.xp6(1),e.Q6J("disabled",i.email_status),e.xp6(3),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(11),e.Q6J("ngForOf",i.validationMessages.value))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.QI,l.j9,r.sg,r.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-item[_ngcontent-%COMP%]{padding:0;margin:0}ion-item[_ngcontent-%COMP%]::part(native){padding:0;--inner-padding-end: 0px;--padding-start:0px }ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;height:50px;padding:5px;--inner-padding-end: 0px;--padding-start:0px }.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),o})();function ot(o,a){1&o&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function nt(o,a){if(1&o&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function at(o,a){if(1&o&&(e.ynx(0),e.YNc(1,nt,3,1,"div",11),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.inputPhoneForm.get("value").hasError(t.type)&&(i.inputPhoneForm.get("value").dirty||i.inputPhoneForm.get("value").touched))}}let V=(()=>{class o{constructor(t,i){this.fb=t,this.formApiService=i,this.inputPhoneEvent=new e.vpe,this.records=[],this.phone_status=!1,this.validationMessages={value:[{type:"required",message:"Phone is required"}],label:[{type:"required",message:"Phone type is required"}]}}ngOnInit(){var t,i,n,s,c,d;console.log(this.item.value),this.inputPhoneForm=new r.cw({value:new r.NI(null===(i=null===(t=this.item.value)||void 0===t?void 0:t.value)||void 0===i?void 0:i.value,this.item.value.is_required?[r.kI.required]:[]),label:new r.NI(null!==(s=null===(n=this.item.value)||void 0===n?void 0:n.value)&&void 0!==s&&s.label?null===(d=null===(c=this.item.value)||void 0===c?void 0:c.value)||void 0===d?void 0:d.label:"work",this.item.value.is_required?[r.kI.required]:[])}),this.phone_status=this.item.value.is_locked,this.inputPhoneForm.valueChanges.pipe(I(500)).subscribe(u=>{this.inputPhoneEvent.emit(u)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(y.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-input-phone"]],inputs:{item:"item"},outputs:{inputPhoneEvent:"inputPhoneEvent"},decls:17,vars:5,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["lines","none"],["formControlName","label"],["value",""],["value","work"],["value","home"],["type","text","formControlName","value","placeholder","Phone Number"],[4,"ngFor","ngForOf"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,ot,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-item",3)(7,"ion-select",4)(8,"ion-select-option",5),e._uU(9,"Select"),e.qZA(),e.TgZ(10,"ion-select-option",6),e._uU(11,"Work"),e.qZA(),e.TgZ(12,"ion-select-option",7),e._uU(13,"Home"),e.qZA()(),e._uU(14," \xa0 "),e._UZ(15,"ion-input",8),e.qZA(),e.YNc(16,at,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.inputPhoneForm),e.xp6(1),e.Q6J("disabled",i.phone_status),e.xp6(3),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(11),e.Q6J("ngForOf",i.validationMessages.value))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.QI,l.j9,r.sg,r.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-item[_ngcontent-%COMP%]{padding:0;margin:0}ion-item[_ngcontent-%COMP%]::part(native){padding:0;--inner-padding-end: 0px;--padding-start:0px }ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;height:50px;padding:5px;--inner-padding-end: 0px;--padding-start:0px }.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),o})();function st(o,a){1&o&&(e.TgZ(0,"span",5),e._uU(1,"*"),e.qZA())}function rt(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-select-option",6),e._uU(2),e.qZA(),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function lt(o,a){if(1&o&&(e.TgZ(0,"div",8)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ct(o,a){if(1&o&&(e.ynx(0),e.YNc(1,lt,3,1,"div",7),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.lookupForm.get("lookup").hasError(t.type)&&(i.lookupForm.get("lookup").dirty||i.lookupForm.get("lookup").touched))}}let H=(()=>{class o{constructor(t,i){this.fb=t,this.formApiService=i,this.lookupEvent=new e.vpe,this.records=[],this.lookup_status=!1,this.validationMessages={lookup:[{type:"required",message:"Lookup is required"}]}}ngOnInit(){console.log(this.item.value),this.lookupForm=new r.cw({lookup:new r.NI(this.item.value.value,this.item.value.is_required?[r.kI.required]:[])}),""!=this.item.value.lookup_type&&this.loadLookupData(this.item.value.lookup_type),this.lookup_status=this.item.value.is_locked,console.log("lookup",this.lookup_status)}loadLookupData(t){this.formApiService.getLookupData(t).subscribe(i=>{i.success&&(this.records=i.data)})}changeLookup(t){this.lookupForm.get("lookup").setValue(t.target.value),this.lookupEvent.emit(t.target.value)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(y.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-lookup"]],inputs:{item:"item"},outputs:{lookupEvent:"lookupEvent"},decls:9,vars:6,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["formControlName","lookup",3,"ionChange"],[4,"ngFor","ngForOf"],[1,"compulsory"],[3,"value"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,st,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-select",3),e.NdJ("ionChange",function(s){return i.changeLookup(s)}),e.YNc(7,rt,3,2,"ng-container",4),e.qZA(),e.YNc(8,ct,2,1,"ng-container",4),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.lookupForm),e.xp6(1),e.Q6J("disabled",i.lookup_status),e.xp6(3),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.records),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.lookup))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.Q$,l.t9,l.n0,l.QI,r.sg,r.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}"]}),o})();function dt(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"li"),e._uU(2),e.qZA(),e.BQk()),2&o){const t=a.$implicit;e.xp6(2),e.Oqu(t)}}function pt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmPopup())}),e._uU(2),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("Yes, this is my ",t.button_message,"")}}let L=(()=>{class o{constructor(t,i){this.modalController=t,this.alertCtrl=i,this.ocr_error=[],this.critical_case=!1,this.button_message="Passport"}ngOnInit(){}exitScreen(){this.modalController.dismiss()}confirmPopup(){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({cssClass:"wordCloudPoll",header:"Confirm for submission",message:"Type 'confirm' to continue",mode:"ios",inputs:[{name:"res",placeholder:"Enter the text to confirm"}],buttons:[{text:"Submit",id:"confirm-button",handler:i=>(0,m.mG)(this,void 0,void 0,function*(){"confirm"==i.res.toLowerCase().replaceAll(" ","")&&this.modalController.dismiss("confirm")})}]})).present()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.IN),e.Y36(l.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-error-screen"]],decls:11,vars:2,consts:[[1,"ion-padding","my-popup"],[2,"text-align","center"],[2,"color","red"],[4,"ngFor","ngForOf"],[4,"ngIf"],["ion-button","","color","danger",3,"click"],["ion-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0)(1,"h3",1),e._uU(2,"Oops!"),e.qZA(),e.TgZ(3,"ul",2),e.YNc(4,dt,3,1,"ng-container",3),e.qZA(),e.TgZ(5,"div",1)(6,"ion-row"),e.YNc(7,pt,3,1,"ion-col",4),e.TgZ(8,"ion-col")(9,"ion-button",5),e.NdJ("click",function(){return i.exitScreen()}),e._uU(10,"No, I will upload again"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.ocr_error),e.xp6(3),e.Q6J("ngIf",i.critical_case))},dependencies:[p.sg,p.O5,l.YG,l.wI,l.W2,l.Nd],styles:["ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}"]}),o})();var E,ut=new Uint8Array(16);function _t(){if(!E&&!(E=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(ut)}const mt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ht=function gt(o){return"string"==typeof o&&mt.test(o)};for(var v=[],S=0;S<256;++S)v.push((S+256).toString(16).substr(1));const q=function bt(o,a,t){var i=(o=o||{}).random||(o.rng||_t)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,a){t=t||0;for(var n=0;n<16;++n)a[t+n]=i[n];return a}return function ft(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(v[o[a+0]]+v[o[a+1]]+v[o[a+2]]+v[o[a+3]]+"-"+v[o[a+4]]+v[o[a+5]]+"-"+v[o[a+6]]+v[o[a+7]]+"-"+v[o[a+8]]+v[o[a+9]]+"-"+v[o[a+10]]+v[o[a+11]]+v[o[a+12]]+v[o[a+13]]+v[o[a+14]]+v[o[a+15]]).toLowerCase();if(!ht(t))throw TypeError("Stringified UUID is invalid");return t}(i)};var Y=h(2340),xt=h(529);let z=(()=>{class o{constructor(t){this.http=t,this.headers={},this.baseURL=""}uploadDocument(t,i){return this.http.post(Y.N.hypervergeApi+"readId",t,{headers:{transactionId:i,appId:Y.N.appId,appKey:Y.N.appKey}})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(xt.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ft=["fileFront"],yt=["fileInput"],Tt=["fileBack"];function Zt(o,a){1&o&&(e.TgZ(0,"ion-item",31)(1,"p"),e._uU(2,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA()())}function It(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e._UZ(3,"hr"),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.label)}}function Ct(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function kt(o,a){1&o&&(e.TgZ(0,"div",16),e._UZ(1,"ion-icon",33),e.TgZ(2,"div")(3,"span",20),e._uU(4,"Choose File"),e.qZA()()())}function Pt(o,a){if(1&o&&e._UZ(0,"img",34),2&o){const t=e.oxw();e.Q6J("src",t.imgPathFront,e.LSH)}}function wt(o,a){1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function qt(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function At(o,a){1&o&&(e.TgZ(0,"div",16),e._UZ(1,"ion-icon",33),e.TgZ(2,"div")(3,"span",20),e._uU(4,"Choose File"),e.qZA()()())}function Ut(o,a){if(1&o&&e._UZ(0,"img",34),2&o){const t=e.oxw();e.Q6J("src",t.imgPathBack,e.LSH)}}function Nt(o,a){1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function Mt(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function Et(o,a){1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function Jt(o,a){if(1&o&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function Qt(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function Ot(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideField("exp_date"))}),e._uU(4," OK "),e.qZA()()()}}function St(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Yt(o,a){if(1&o&&(e.ynx(0),e.YNc(1,St,3,1,"div",12),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("exp_date").hasError(t.type)&&(i.passportForm.get("exp_date").dirty||i.passportForm.get("exp_date").touched))}}function Dt(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function Bt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideField("issue_date"))}),e._uU(4," OK "),e.qZA()()()}}function Gt(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function jt(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Gt,3,1,"div",12),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("issue_date").hasError(t.type)&&(i.passportForm.get("issue_date").dirty||i.passportForm.get("issue_date").touched))}}function $t(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function Rt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideField("issue_place"))}),e._uU(4," OK "),e.qZA()()()}}function Vt(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ht(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Vt,3,1,"div",12),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("issue_place").hasError(t.type)&&(i.passportForm.get("issue_place").dirty||i.passportForm.get("issue_place").touched))}}function Lt(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function zt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideField("name_first"))}),e._uU(4," OK "),e.qZA()()()}}function Kt(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Xt(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Kt,3,1,"div",12),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("name_first").hasError(t.type)&&(i.passportForm.get("name_first").dirty||i.passportForm.get("name_first").touched))}}function Wt(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function ei(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideField("name_last"))}),e._uU(4," OK "),e.qZA()()()}}function ti(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ii(o,a){if(1&o&&(e.ynx(0),e.YNc(1,ti,3,1,"div",12),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("name_last").hasError(t.type)&&(i.passportForm.get("name_last").dirty||i.passportForm.get("name_last").touched))}}function oi(o,a){1&o&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function ni(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideField("passportno"))}),e._uU(4," OK "),e.qZA()()()}}function ai(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function si(o,a){if(1&o&&(e.ynx(0),e.YNc(1,ai,3,1,"div",12),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("passportno").hasError(t.type)&&(i.passportForm.get("passportno").dirty||i.passportForm.get("passportno").touched))}}function ri(o,a){if(1&o&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function li(o,a){if(1&o&&(e.ynx(0),e.YNc(1,ri,3,1,"div",12),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("is_document_uploaded").hasError(t.type)&&(i.passportForm.get("is_document_uploaded").dirty||i.passportForm.get("is_document_uploaded").touched))}}let K=(()=>{class o{constructor(t,i,n,s){this.globalService=t,this.formApiService=i,this.modalController=n,this.hypervergeApiService=s,this.scrollEvent=new e.vpe,this.criticalEvent=new e.vpe,this.passportEvent=new e.vpe,this.submitPassportEvent=new e.vpe,this.imgPathFront="",this.imgPathBack="",this.category="",this.passport_status=!1,this.document_status="",this.uploadedFront=!1,this.uploadedBack=!1,this.uploadedMerged=!1,this.uploadPDFFileName="",this.uploadSubmitFront=!1,this.uploadSubmitBack=!1,this.uploadSubmitFull=!1,this.attribute_lang={},this.uploadType="",this.inputReadOnly=!0,this.front_id_value="",this.back_id_value="",this.ocr_error_back="",this.is_document_uploaded=!1,this.extracted_json_front="",this.extracted_json_back="",this.hit_count_front=0,this.hit_count_back=0,this.ocr_transaction_id_front="",this.ocr_transaction_id_back="",this.country_code="",this.member_name="",this.ocr_member_name="",this.date_of_expiry="",this.front_not_detected=0,this.back_not_detected=0,this.other_traveller=!1,this.blur_score=0,this.glare_score=0,this.validationMessages={exp_date:[{type:"required",message:"Exp date is required"}],issue_date:[{type:"required",message:"Issue date is required"}],issue_place:[{type:"required",message:"Issue place is required"}],name_first:[{type:"required",message:"First name is required"}],name_last:[{type:"required",message:"Last name is required"}],passportno:[{type:"required",message:"Passport no. is required"}],is_document_uploaded:[{type:"required",message:"Please upload passport."}]},this.conf=75,this.ocr_enabled=!1,this.document_reject_remark="",this.flag=!1,this.label=""}ngOnInit(){var t,i,n,s,c,d,u,_,g,b,f,x,Z,A;this.attribute_lang=this.item.value.attribute_lang,this.member_name=this.form_data.name,this.ocr_enabled=this.item.value.ocr_enabled,this.other_traveller=this.item.value.other_traveller,this.label=this.item.value.name,this.passportForm=new r.cw({exp_date:new r.NI(null===(t=this.item.value.value)||void 0===t?void 0:t.exp_date,this.item.value.is_required?[r.kI.required]:[]),issue_date:new r.NI(null===(i=this.item.value.value)||void 0===i?void 0:i.issue_date,this.item.value.is_required?[r.kI.required]:[]),issue_place:new r.NI(null===(n=this.item.value.value)||void 0===n?void 0:n.issue_place,this.item.value.is_required?[r.kI.required]:[]),name_first:new r.NI(null===(s=this.item.value.value)||void 0===s?void 0:s.name_first,this.item.value.is_required?[r.kI.required]:[]),name_last:new r.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.name_last,this.item.value.is_required?[r.kI.required]:[]),passportno:new r.NI(null===(d=this.item.value.value)||void 0===d?void 0:d.passportno,this.item.value.is_required?[r.kI.required]:[]),status:new r.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.status,null),gender:new r.NI(null===(_=this.item.value.value)||void 0===_?void 0:_.gender,null),dob:new r.NI(null===(g=this.item.value.value)||void 0===g?void 0:g.dob,null),address:new r.NI(null===(b=this.item.value.value)||void 0===b?void 0:b.address,null),filled_manually:new r.NI(null===(f=this.item.value.value)||void 0===f?void 0:f.filled_manually,null),is_document_uploaded:new r.NI(null!==(x=this.item.value.value)&&void 0!==x&&x.exp_date?"uploaded":"",this.item.value.is_required?[r.kI.required]:[])}),this.passportForm.valueChanges.pipe(I(500)).subscribe(U=>{this.passportEvent.emit(U)}),this.globalService.passportFilesEvent.subscribe(U=>{U?.forEach(T=>{var D,B;"passport-merged"==T.type&&(this.document_status=T.status,this.document_reject_remark=T.remark,this.uploadedMerged=!0,this.uploadPDFFileName=null===(B=null===(D=T.path)||void 0===D?void 0:D.split("/"))||void 0===B?void 0:B.pop()),"passport-front"==T.type&&(this.imgPathFront=T.path,this.uploadedFront=!0),"passport-back"==T.type&&(this.imgPathBack=T.path,this.uploadedBack=!0)})}),this.passport_status=null===(Z=this.item.value)||void 0===Z?void 0:Z.is_locked,""!=(null===(A=this.item.value.value)||void 0===A?void 0:A.exp_date)&&(this.inputReadOnly=!1),0==this.ocr_enabled&&(this.inputReadOnly=!1)}takePhoto(t){return(0,m.mG)(this,void 0,void 0,function*(){"front"==t&&this.fileFront.nativeElement.click(),"back"==t&&this.fileBack.nativeElement.click()})}uploadFrontPhoto(t){const i=t.target.files[0];if(i.size>=F.m_)this.globalService.showError("Image file should be less than 10 MB");else{var n=new FileReader;n.onload=s=>{let c=s.target.result;this.openImageModal(c,"front"),this.imgPathFront=c},n.readAsDataURL(i),this.selectedFileFront=i}}uploadBackPhoto(t){const i=t.target.files[0];if(i.size>=F.m_)this.globalService.showError("Image file should be less than 10 MB");else{var n=new FileReader;n.onload=s=>{let c=s.target.result;this.openImageModal(c,"back"),this.imgPathBack=c},n.readAsDataURL(i),this.selectedFileBack=i}}openImageModal(t,i){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t,type:"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(n=>{"start_upload"==n.data?("front"==i&&1==this.ocr_enabled&&this.uploadDocFront(),"front"==i&&0==this.ocr_enabled&&(this.uploadedFront=!0,this.is_document_uploaded=!0),"back"==i&&1==this.ocr_enabled&&this.uploadDocBack(),"back"==i&&0==this.ocr_enabled&&(this.uploadedBack=!0,this.is_document_uploaded=!0)):"close"==n.data&&("front"==i&&(this.imgPathFront="",this.selectedFileFront=void 0),"back"==i&&(this.imgPathBack="",this.selectedFileBack=void 0))})})}removeFileFront(){this.selectedFileFront="",this.imgPathFront=""}removeFileBack(){this.selectedFileBack="",this.imgPathBack=""}uploadDocFront(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitFront=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileFront)return;this.uploadType="image",this.contentUploading("Scanning your passport\u2014sit tight, this won't take long!");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","front"),t.append("preferences.returnConfidence","yes"),t.append("preferences.returnScore","yes"),t.append("qualityChecks.blur","yes"),t.append("qualityChecks.glare","yes"),t.append("image",this.selectedFileFront);const i=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,i).subscribe(n=>{this.contentUploadModal.dismiss(),"success"==n.status&&(this.hit_count_front++,this.passportForm.get("exp_date").setValue(n.result.details[0].fieldsExtracted.dateOfExpiry.value),this.exp_date_conf=n.result.details[0].fieldsExtracted.dateOfExpiry.score,this.passportForm.get("issue_date").setValue(n.result.details[0].fieldsExtracted.dateOfIssue.value),this.issue_date_conf=n.result.details[0].fieldsExtracted.dateOfIssue.score,this.passportForm.get("issue_place").setValue(n.result.details[0].fieldsExtracted.placeOfIssue.value),this.issue_place_conf=n.result.details[0].fieldsExtracted.placeOfIssue.score,this.passportForm.get("name_first").setValue(n.result.details[0].fieldsExtracted.firstName.value),this.name_first_conf=n.result.details[0].fieldsExtracted.firstName.score,this.passportForm.get("name_last").setValue(n.result.details[0].fieldsExtracted.lastName.value),this.name_last_conf=n.result.details[0].fieldsExtracted.lastName.score,this.passportForm.get("passportno").setValue(n.result.details[0].fieldsExtracted.idNumber.value),this.passportno_conf=n.result.details[0].fieldsExtracted.idNumber.score,this.passportForm.get("gender").setValue(n.result.details[0].fieldsExtracted.gender.value),this.passportForm.get("dob").setValue(n.result.details[0].fieldsExtracted.dateOfBirth.value),this.country_code=n.result.details[0].fieldsExtracted.countryCode.value,this.front_id_value=n.result.details[0].fieldsExtracted.idNumber.value,this.ocr_member_name=n.result.details[0].fieldsExtracted.fullName.value,this.date_of_expiry=n.result.details[0].fieldsExtracted.dateOfExpiry.value,this.extracted_json_front=n.result,this.ocr_transaction_id_front=q(),this.uploadSubmitBack=!0,this.uploadedFront=!0,this.criticalEvent.emit(!1))},n=>{this.contentUploadModal.dismiss(),0==this.front_not_detected?this.globalService.showError(n.error.result.error):(this.passportForm.get("filled_manually").setValue(!0),this.uploadedFront=!0,this.globalService.showError("Front Page Not Detected. Please fill passport details manually.")),this.front_not_detected++})})}uploadDocBack(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitBack=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileBack)return;this.uploadType="image",this.contentUploading("Scanning your passport\u2014sit tight, this won't take long!");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","back"),t.append("preferences.returnConfidence","yes"),t.append("preferences.returnScore","yes"),t.append("qualityChecks.blur","yes"),t.append("qualityChecks.glare","yes"),t.append("image",this.selectedFileBack);const i=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,i).subscribe(n=>{if(this.contentUploadModal.dismiss(),console.log(n),"success"==n.status){this.hit_count_back++;const _={address:n.result.details[0].fieldsExtracted.address.value,city:n.result.details[0].fieldsExtracted.address.district,state:n.result.details[0].fieldsExtracted.address.province,pincode:n.result.details[0].fieldsExtracted.address.zipCode,country:F.rQ[this.country_code]};this.passportForm.get("address").setValue(_),this.passportForm.get("is_document_uploaded").setValue(""),this.back_id_value=n.result.details[0].fieldsExtracted.idNumber.value,this.ocr_transaction_id_back=q(),this.criticalEvent.emit(!1),this.extracted_json_back=n.result,this.uploadedBack=!0;var s=[],c=!1;if(""!=this.date_of_expiry){const g=new Date;var d=this.date_of_expiry.split("-");g>new Date(d[2],d[1]-1,d[0])&&(s.push("Your passport has expired. Please upload the latest passport"),this.passportForm.get("exp_date").setValue(""))}""!=this.member_name&&""!=this.ocr_member_name&&0==this.other_traveller&&this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore<75&&(s.push("The user's registered Full Name is "+this.member_name+", whereas the Full Name listed on their document is "+this.ocr_member_name+". It's important to verify this information for consistency and accuracy."),c=!0),""==this.back_id_value?(s.push("We could not retreive passport number from the image. Please ensure it is a valid back page of same passport"),c=!0):""!=this.back_id_value&&this.front_id_value!=this.back_id_value&&(s.push("User Passport Front & Back Number Doesn't Match. Please Verify. Passport Number given in Front: "+this.front_id_value+", Passport Number given in Back: "+this.back_id_value),c=!0),s.length>0?(this.errorScreen(s,c),1==c?this.criticalEvent.emit(!0):(this.is_document_uploaded=!0,this.criticalEvent.emit(!1))):(this.criticalEvent.emit(!1),this.is_document_uploaded=!0,this.globalService.showMessage("We've filled out your details. Kindly double-check and you're good to go!")),this.ocr_error_back=s,this.scrollEvent.emit("scroll")}},n=>{if(this.contentUploadModal.dismiss(),0==this.back_not_detected){var s=[];s.push(n.error.result.error),this.errorScreen(s,!1)}else this.passportForm.get("filled_manually").setValue(!0),this.uploadedBack=!0,this.globalService.showError("Back Page Not Detected. Please fill passport details manually.");this.back_not_detected++})})}contentUploading(t,i="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:M,backdropDismiss:!0,mode:"ios",componentProps:{content:t,heading:"Passport Details",content_type:i}}),yield this.contentUploadModal.present()})}errorScreen(t,i){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:L,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{critical_case:i,button_message:"Passport",ocr_error:t,heading:"Oops!"}}),yield this.contentUploadModal.present(),yield this.contentUploadModal.onDidDismiss().then(n=>{"confirm"==n.data?(this.inputReadOnly=!1,this.criticalEvent.emit(!1),this.passportForm.get("filled_manually").setValue(!0),this.is_document_uploaded=!0,console.log("confirm clicked")):console.log("confirm not clicked")})})}uploadDocuments(){1==this.uploadedMerged?this.uploadMergeAWS():this.uploadDocAWSFront()}uploadDocAWSFront(){return(0,m.mG)(this,void 0,void 0,function*(){if(1==this.uploadedFront){this.contentUploading("Relax! We're securely uploading your passports to our vault for future reference.","upload");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-front"),t.append("name","passport-front"),t.append("ocr_error",JSON.stringify(this.ocr_error_back)),t.append("extracted_json",JSON.stringify(this.extracted_json_front)),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_front),t.append("file",this.selectedFileFront),t.append("similarity_score",this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore.toFixed(2)),t.append("confidence_score",this.globalService.compareNames(this.front_id_value,this.back_id_value).allScore.toFixed(2)),this.formApiService.uploadDocument(t).subscribe(i=>{i.success&&this.uploadDocAWSBack()})}})}uploadDocAWSBack(){return(0,m.mG)(this,void 0,void 0,function*(){if(1==this.uploadedBack){const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-back"),t.append("name","passport-back"),t.append("ocr_error",JSON.stringify(this.ocr_error_back)),t.append("extracted_json",JSON.stringify(this.extracted_json_back)),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_back),t.append("file",this.selectedFileBack),t.append("similarity_score",this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore.toFixed(2)),t.append("confidence_score",this.globalService.compareNames(this.front_id_value,this.back_id_value).allScore.toFixed(2)),this.formApiService.uploadDocument(t).subscribe(i=>{this.contentUploadModal.dismiss(),i.success&&(this.passportForm.get("is_document_uploaded").setValue("uploaded"),this.is_document_uploaded=!1,this.submitPassportEvent.emit("submit"))},i=>{this.contentUploadModal.dismiss(),this.globalService.showError(i.error.message)})}})}uploadPhoto(t){const i=t.target.files[0];i.size>=F.m_?this.globalService.showError("PDF file should be less than 10 MB"):(this.uploadPDFFileName=i.name,this.selectedFileFront=i,this.selectedFileBack=i,this.openPdfModal(this.uploadPDFFileName),i?.name&&(this.uploadType="pdf")),this.fileInput.nativeElement.value=""}openPdfModal(t){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t,type:"pdf"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(i=>(0,m.mG)(this,void 0,void 0,function*(){"start_upload"==i.data?1==this.ocr_enabled?this.uploadPDFDocFront():(this.uploadedMerged=!0,this.is_document_uploaded=!0):"close"==i.data&&(this.uploadPDFFileName="")}))})}uploadPDFDocFront(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitFront=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileFront)return;this.uploadType="image",this.contentUploading("Scanning your passport\u2014sit tight, this won't take long!");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","front"),t.append("preferences.returnConfidence","yes"),t.append("preferences.returnScore","yes"),t.append("qualityChecks.blur","yes"),t.append("qualityChecks.glare","yes"),t.append("image",this.selectedFileFront);const i=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,i).subscribe(n=>{this.contentUploadModal.dismiss(),console.log(n),"success"==n.status&&(this.hit_count_front++,this.passportForm.get("exp_date").setValue(n.result.details[0].fieldsExtracted.dateOfExpiry.value),this.exp_date_conf=n.result.details[0].fieldsExtracted.dateOfExpiry.score,this.passportForm.get("issue_date").setValue(n.result.details[0].fieldsExtracted.dateOfIssue.value),this.issue_date_conf=n.result.details[0].fieldsExtracted.dateOfIssue.score,this.passportForm.get("issue_place").setValue(n.result.details[0].fieldsExtracted.placeOfIssue.value),this.issue_place_conf=n.result.details[0].fieldsExtracted.placeOfIssue.score,this.passportForm.get("name_first").setValue(n.result.details[0].fieldsExtracted.firstName.value),this.name_first_conf=n.result.details[0].fieldsExtracted.firstName.score,this.passportForm.get("name_last").setValue(n.result.details[0].fieldsExtracted.lastName.value),this.name_last_conf=n.result.details[0].fieldsExtracted.lastName.score,this.passportForm.get("passportno").setValue(n.result.details[0].fieldsExtracted.idNumber.value),this.passportno_conf=n.result.details[0].fieldsExtracted.idNumber.score,this.passportForm.get("gender").setValue(n.result.details[0].fieldsExtracted.gender.value),this.passportForm.get("dob").setValue(n.result.details[0].fieldsExtracted.dateOfBirth.value),this.country_code=n.result.details[0].fieldsExtracted.countryCode.value,this.front_id_value=n.result.details[0].fieldsExtracted.idNumber.value,this.ocr_member_name=n.result.details[0].fieldsExtracted.fullName.value,this.date_of_expiry=n.result.details[0].fieldsExtracted.dateOfExpiry.value,this.blur_score=n.result.details[0].qualityChecks.blur.score,this.glare_score=n.result.details[0].qualityChecks.glare.score,this.extracted_json_front=n.result,this.ocr_transaction_id_front=q(),this.uploadedMerged=!0,this.criticalEvent.emit(!1),this.uploadPDFDocBack())},n=>{this.is_document_uploaded=!0,this.globalService.showError(n.error.result.error),this.contentUploadModal.dismiss()})})}uploadPDFDocBack(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitBack=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileBack)return;this.uploadType="image",this.contentUploading("Scanning your passport\u2014sit tight, this won't take long!");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","back"),t.append("preferences.returnConfidence","yes"),t.append("preferences.returnScore","yes"),t.append("qualitycheck.blur","yes"),t.append("qualitycheck.glare","yes"),t.append("image",this.selectedFileBack);const i=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,i).subscribe(n=>{if(this.contentUploadModal.dismiss(),console.log(n),"success"==n.status){this.hit_count_back++;const _={address:n.result.details[0].fieldsExtracted.address.value,city:n.result.details[0].fieldsExtracted.address.district,state:n.result.details[0].fieldsExtracted.address.province,pincode:n.result.details[0].fieldsExtracted.address.zipCode,country:F.rQ[this.country_code]};this.passportForm.get("address").setValue(_),this.passportForm.get("is_document_uploaded").setValue(""),this.back_id_value=n.result.details[0].fieldsExtracted.idNumber.value,this.ocr_transaction_id_back=q(),this.extracted_json_back=n.result;var s=[],c=!1;if(""!=this.date_of_expiry){const g=new Date;var d=this.date_of_expiry.split("-");g>new Date(d[2],d[1]-1,d[0])&&(s.push("Your passport has expired. Please upload the latest passport"),this.passportForm.get("exp_date").setValue(""))}""!=this.member_name&&""!=this.ocr_member_name&&0==this.other_traveller&&this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore<75&&(s.push("The user's registered Full Name is "+this.member_name+", whereas the Full Name listed on their document is "+this.ocr_member_name+". It's important to verify this information for consistency and accuracy."),c=!0),""==this.back_id_value?s.push("We could not retreive passport number from the image. Please ensure it is a valid back page of same passport"):""!=this.back_id_value&&this.globalService.compareNames(this.front_id_value,this.back_id_value).allScore<75&&(s.push("User Passport Front & Back Number Doesn't Match. Please Verify. Passport Number given in Front: "+this.front_id_value+", Passport Number given in Back: "+this.back_id_value),c=!0),this.blur_score<this.conf&&(s.push("The uploaded passport is blurred, kindly re check your details before submitting."),c=!0),this.glare_score<this.conf&&(s.push("The uploaded passport has a visible glare, kindly re check your details before submitting."),c=!0),s.length>0?(this.errorScreen(s,c),1==c?this.criticalEvent.emit(!0):(this.is_document_uploaded=!0,this.criticalEvent.emit(!1))):(this.is_document_uploaded=!0,this.criticalEvent.emit(!1),this.globalService.showMessage("We've filled out your details. Kindly double-check and you're good to go!")),this.ocr_error_back=s,this.scrollEvent.emit("scroll")}},n=>{if(this.contentUploadModal.dismiss(),0==this.back_not_detected){var s=[];s.push(n.error.result.error),this.errorScreen(s,!1)}else this.passportForm.get("filled_manually").setValue(!0),this.globalService.showError("Back Page Not Detected. Please fill passport details manually.");this.back_not_detected++})})}uploadMergeAWS(){return(0,m.mG)(this,void 0,void 0,function*(){if(1==this.uploadedMerged){this.contentUploading("Relax! We're securely uploading your passports to our vault for future reference.","upload");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-merged"),t.append("name","passport-merged"),t.append("ocr_error",JSON.stringify(this.ocr_error_back)),t.append("extracted_json",JSON.stringify({"passport-front":this.extracted_json_front,"passport-back":this.extracted_json_back})),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_front),t.append("file",this.selectedFileFront),t.append("similarity_score",this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore.toFixed(2)),t.append("confidence_score",this.globalService.compareNames(this.front_id_value,this.back_id_value).allScore.toFixed(2)),this.formApiService.uploadDocument(t).subscribe(i=>{this.contentUploadModal.dismiss(),i.success&&(this.is_document_uploaded=!1,this.passportForm.get("is_document_uploaded").setValue("uploaded"),this.submitPassportEvent.emit("submit"))},i=>{this.contentUploadModal.dismiss(),this.globalService.showError(i.error.message)})}})}choosePdf(){this.fileInput.nativeElement.click()}uploadDocumentIfNotUploaded(){1==this.is_document_uploaded&&this.uploadDocuments()}onExpiryChange(t){const i=new Date;let n=new Date(t.target.value);var s=t.target.value.split("-");n=new Date(s[2],s[1]-1,s[0]),i>n&&(this.globalService.showError("Please enter valid expiry date"),t.target.value=""),this.date_of_expiry!=t.target.value&&this.globalService.showError("The expiry date you entered manually does not match the expiry date on the passport.")}hideField(t){"exp_date"==t?this.exp_date_conf=void 0:"issue_date"==t?this.issue_date_conf=void 0:"issue_place"==t?this.issue_place_conf=void 0:"name_first"==t?this.name_first_conf=void 0:"name_last"==t?this.name_last_conf=void 0:"passportno"==t&&(this.passportno_conf=void 0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.U),e.Y36(y.$),e.Y36(l.IN),e.Y36(z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-passport"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ft,7),e.Gf(yt,7),e.Gf(Tt,7)),2&t){let n;e.iGM(n=e.CRH())&&(i.fileFront=n.first),e.iGM(n=e.CRH())&&(i.fileInput=n.first),e.iGM(n=e.CRH())&&(i.fileBack=n.first)}},inputs:{item:"item",form_data:"form_data"},outputs:{scrollEvent:"scrollEvent",criticalEvent:"criticalEvent",passportEvent:"passportEvent",submitPassportEvent:"submitPassportEvent"},decls:114,vars:61,consts:[[3,"formGroup"],[3,"disabled"],["color","danger",4,"ngIf"],[4,"ngIf"],["class","compulsory",4,"ngIf"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileFront","hidden","","accept","image/png, image/jpg, image/jpeg",3,"change"],["fileFront",""],["style","width:100px;height:100px;object-fit: contain;",3,"src",4,"ngIf"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["type","file","id","fileBack","hidden","","accept","image/png, image/jpg, image/jpeg",3,"change"],["fileBack",""],[2,"text-align","center"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px","color","red"],["type","file","id","fileInput","hidden","","accept","application/pdf",3,"change"],["fileInput",""],[2,"font-size","10px"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[1,"form-group"],["type","text","formControlName","exp_date","placeholder","DD-MM-YYYY",3,"readonly","change"],["class","error-message conf-error-message",4,"ngIf"],[4,"ngFor","ngForOf"],["type","text","formControlName","issue_date","placeholder","DD-MM-YYYY",3,"readonly"],["type","text","formControlName","issue_place",3,"readonly"],["type","text","formControlName","name_first",3,"readonly"],["type","text","formControlName","name_last",3,"readonly"],["type","text","formControlName","passportno",3,"readonly"],["color","danger"],[1,"compulsory"],["name","document-attach-outline",2,"font-size","40px"],[2,"width","100px","height","100px","object-fit","contain",3,"src"],[1,"error-message"],[1,"error-message",2,"color","black","width","100%"],[1,"error-message","conf-error-message"],["lines","none"],["slot","end","color","danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content"),e.YNc(3,Zt,3,0,"ion-item",2),e.YNc(4,It,4,1,"ng-container",3),e.TgZ(5,"label"),e._uU(6),e.YNc(7,Ct,2,0,"span",4),e.qZA(),e.TgZ(8,"ion-row")(9,"ion-col",5),e.YNc(10,kt,5,0,"div",6),e.TgZ(11,"input",7,8),e.NdJ("change",function(s){return i.uploadFrontPhoto(s)}),e.qZA(),e.YNc(13,Pt,1,1,"img",9),e.qZA(),e.TgZ(14,"ion-col",10)(15,"ion-button",11),e.NdJ("click",function(){return i.takePhoto("front")}),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()()(),e.TgZ(21,"ion-row"),e.YNc(22,wt,3,0,"div",12),e.qZA()()(),e.TgZ(23,"ion-card",1)(24,"ion-card-content")(25,"label"),e._uU(26),e.YNc(27,qt,2,0,"span",4),e.qZA(),e.TgZ(28,"ion-row")(29,"ion-col",5),e.YNc(30,At,5,0,"div",6),e.TgZ(31,"input",13,14),e.NdJ("change",function(s){return i.uploadBackPhoto(s)}),e.qZA(),e.YNc(33,Ut,1,1,"img",9),e.qZA(),e.TgZ(34,"ion-col",10)(35,"ion-button",11),e.NdJ("click",function(){return i.takePhoto("back")}),e._uU(36),e.qZA(),e.TgZ(37,"p"),e._uU(38),e.qZA(),e.TgZ(39,"p"),e._uU(40),e.qZA()()(),e.TgZ(41,"ion-row"),e.YNc(42,Nt,3,0,"div",12),e.qZA()()(),e.TgZ(43,"p",15),e._uU(44,"OR"),e.qZA(),e.TgZ(45,"ion-card",1)(46,"ion-card-content")(47,"label"),e._uU(48),e.YNc(49,Mt,2,0,"span",4),e.qZA(),e.TgZ(50,"ion-row")(51,"ion-col",5)(52,"div",16),e._UZ(53,"ion-icon",17),e.TgZ(54,"input",18,19),e.NdJ("change",function(s){return i.uploadPhoto(s)}),e.qZA(),e.TgZ(56,"div")(57,"span",20),e._uU(58,"Choose File"),e.qZA()()()(),e.TgZ(59,"ion-col",10)(60,"ion-button",11),e.NdJ("click",function(){return i.choosePdf()}),e._uU(61),e.qZA(),e.TgZ(62,"p"),e._uU(63),e.qZA(),e.TgZ(64,"p"),e._uU(65),e.qZA()()(),e.TgZ(66,"ion-row"),e.YNc(67,Et,3,0,"div",12),e.YNc(68,Jt,3,1,"div",21),e.qZA()()(),e.TgZ(69,"ion-card",1)(70,"ion-card-content")(71,"div",22)(72,"label"),e._uU(73),e.YNc(74,Qt,2,0,"span",4),e.qZA(),e.TgZ(75,"ion-input",23),e.NdJ("change",function(s){return i.onExpiryChange(s)}),e.qZA(),e.YNc(76,Ot,5,0,"div",24),e.YNc(77,Yt,2,1,"ng-container",25),e.qZA(),e.TgZ(78,"div",22)(79,"label"),e._uU(80),e.YNc(81,Dt,2,0,"span",4),e.qZA(),e._UZ(82,"ion-input",26),e.YNc(83,Bt,5,0,"div",24),e.YNc(84,jt,2,1,"ng-container",25),e.qZA(),e.TgZ(85,"div",22)(86,"label"),e._uU(87),e.YNc(88,$t,2,0,"span",4),e.qZA(),e._UZ(89,"ion-input",27),e.YNc(90,Rt,5,0,"div",24),e.YNc(91,Ht,2,1,"ng-container",25),e.qZA(),e.TgZ(92,"div",22)(93,"label"),e._uU(94),e.YNc(95,Lt,2,0,"span",4),e.qZA(),e._UZ(96,"ion-input",28),e.YNc(97,zt,5,0,"div",24),e.YNc(98,Xt,2,1,"ng-container",25),e.qZA(),e.TgZ(99,"div",22)(100,"label"),e._uU(101),e.YNc(102,Wt,2,0,"span",4),e.qZA(),e._UZ(103,"ion-input",29),e.YNc(104,ei,5,0,"div",24),e.YNc(105,ii,2,1,"ng-container",25),e.qZA(),e.TgZ(106,"div",22)(107,"label"),e._uU(108),e.YNc(109,oi,2,0,"span",4),e.qZA(),e._UZ(110,"ion-input",30),e.YNc(111,ni,5,0,"div",24),e.YNc(112,si,2,1,"ng-container",25),e.qZA(),e.YNc(113,li,2,1,"ng-container",25),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.passportForm),e.xp6(1),e.Q6J("disabled",i.passport_status||1==i.uploadedMerged),e.xp6(2),e.Q6J("ngIf","rejected"==i.document_status),e.xp6(1),e.Q6J("ngIf",(null==i.attribute_lang?null:i.attribute_lang.passport_front)!=i.label),e.xp6(2),e.hij("",null==i.attribute_lang?null:i.attribute_lang.passport_front," "),e.xp6(1),e.Q6J("ngIf",null==i.item||null==i.item.value?null:i.item.value.is_required),e.xp6(3),e.Q6J("ngIf",!i.imgPathFront),e.xp6(3),e.Q6J("ngIf",i.imgPathFront&&i.uploadedFront),e.xp6(3),e.Oqu(i.uploadedFront?"Update":"Upload"),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.size),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===i.selectedFileFront&&i.uploadSubmitFront),e.xp6(1),e.Q6J("disabled",i.passport_status||1==i.uploadedMerged),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.passport_back," "),e.xp6(1),e.Q6J("ngIf",null==i.item||null==i.item.value?null:i.item.value.is_required),e.xp6(3),e.Q6J("ngIf",!i.imgPathBack),e.xp6(3),e.Q6J("ngIf",i.imgPathBack&&i.uploadedBack),e.xp6(3),e.Oqu(i.uploadedBack?"Update":"Upload"),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.size),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===i.selectedFileBack&&i.uploadSubmitBack),e.xp6(3),e.Q6J("disabled",i.passport_status||1==i.uploadedFront),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.merged_passport," "),e.xp6(1),e.Q6J("ngIf",null==i.item||null==i.item.value?null:i.item.value.is_required),e.xp6(12),e.Oqu(i.uploadedMerged?"Update":"Upload"),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.size),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.format_document),e.xp6(2),e.Q6J("ngIf",void 0===i.selectedFile&&i.uploadSubmitFull),e.xp6(1),e.Q6J("ngIf",""!=i.uploadPDFFileName),e.xp6(1),e.Q6J("disabled",i.passport_status),e.xp6(4),e.hij("",null==i.attribute_lang?null:i.attribute_lang.exp_date," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.exp_date_conf&&i.conf>i.exp_date_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.exp_date),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.issue_date," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.issue_date_conf&&i.conf>i.issue_date_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.issue_date),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.issue_place," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.issue_place_conf&&i.conf>i.issue_place_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.issue_place),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.name_first," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.name_first_conf&&i.conf>i.name_first_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.name_first),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.name_last," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.name_last_conf&&i.conf>i.name_last_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.name_last),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.passportno," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.passportno_conf&&i.conf>i.passportno_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.passportno),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.is_document_uploaded))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.pK,l.Ie,l.Nd,l.j9,r.sg,r.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}.cross_pdf_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:18px;margin-top:-18px}"]}),o})();const ci=["fileInput"];function di(o,a){if(1&o&&(e.TgZ(0,"ion-card",25)(1,"ion-card-content")(2,"p"),e._uU(3,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&o){const t=e.oxw();e.xp6(5),e.hij("Remarks: ",t.document_reject_remark,"")}}function pi(o,a){1&o&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function ui(o,a){1&o&&(e.TgZ(0,"ion-select-option",27),e._uU(1,"Adhaar card"),e.qZA())}function _i(o,a){1&o&&(e.TgZ(0,"ion-select-option",28),e._uU(1,"PAN Card"),e.qZA())}function mi(o,a){1&o&&(e.TgZ(0,"ion-select-option",29),e._uU(1,"Voter ID"),e.qZA())}function gi(o,a){1&o&&(e.TgZ(0,"ion-select-option",30),e._uU(1,"Driving License"),e.qZA())}function hi(o,a){if(1&o&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function fi(o,a){if(1&o&&(e.ynx(0),e.YNc(1,hi,3,1,"div",19),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("category").hasError(t.type)&&(i.photoIdForm.get("category").dirty||i.photoIdForm.get("category").touched))}}function vi(o,a){1&o&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function bi(o,a){1&o&&(e.TgZ(0,"div",32),e._UZ(1,"ion-icon",33),e.TgZ(2,"div")(3,"span",34),e._uU(4,"Choose File"),e.qZA()()())}function xi(o,a){if(1&o&&e._UZ(0,"img",35),2&o){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function Fi(o,a){1&o&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function yi(o,a){if(1&o&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function Ti(o,a){1&o&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function Zi(o,a){if(1&o&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ii(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Zi,3,1,"div",19),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("id_name").hasError(t.type)&&(i.photoIdForm.get("id_name").dirty||i.photoIdForm.get("id_name").touched))}}function Ci(o,a){1&o&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function ki(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"span"),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideField("id_num"))}),e._uU(4," OK "),e.qZA()()()}}function Pi(o,a){if(1&o&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function wi(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Pi,3,1,"div",19),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("id_num").hasError(t.type)&&(i.photoIdForm.get("id_num").dirty||i.photoIdForm.get("id_num").touched))}}function qi(o,a){1&o&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function Ai(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"span"),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideField("mem_name"))}),e._uU(4," OK "),e.qZA()()()}}function Ui(o,a){if(1&o&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ni(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Ui,3,1,"div",19),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("mem_name").hasError(t.type)&&(i.photoIdForm.get("mem_name").dirty||i.photoIdForm.get("mem_name").touched))}}function Mi(o,a){if(1&o&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ei(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Mi,3,1,"div",19),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("is_document_uploaded").hasError(t.type)&&(i.photoIdForm.get("is_document_uploaded").dirty||i.photoIdForm.get("is_document_uploaded").touched))}}let X=(()=>{class o{constructor(t,i,n,s){this.globalService=t,this.formApiService=i,this.modalController=n,this.hypervergeApiService=s,this.criticalEvent2=new e.vpe,this.photoIdEvent=new e.vpe,this.submitPhotoIDEvent=new e.vpe,this.category="",this.document_status="",this.uploadSubmit=!1,this.uploadedID=!1,this.inputReadOnly=!0,this.photo_id_status="",this.validation="",this.uploadPDFFileName="",this.hit_count=1,this.is_document_uploaded=!1,this.validationMessages={category:[{type:"required",message:"Category is required!"}],id_name:[{type:"required",message:"ID Name is required!"}],id_num:[{type:"required",message:"ID Number is required!"}],mem_name:[{type:"required",message:"Member name is required!"}],is_document_uploaded:[{type:"required",message:"Please upload photo id"}]},this.attribute_lang={},this.blur_score=0,this.glare_score=0,this.conf=75,this.document_reject_remark="",this.isOptionSelected=!1,this.label="",this.member_name="",this.photo_id_detected=0,this.ocr_enabled=!1,this.ocr_member_name="",this.other_traveller=!1}ngOnInit(){var t,i,n,s,c,d,u,_,g;this.member_name=this.form_data.name,this.attribute_lang=this.item.value.attribute_lang,this.label=this.item.value.name,this.ocr_enabled=this.item.value.ocr_enabled,this.other_traveller=this.item.value.other_traveller,this.photoIdForm=new r.cw({category:new r.NI("",this.item.value.is_required?[r.kI.required]:[]),id_name:new r.NI(null===(t=this.item.value.value)||void 0===t?void 0:t.id_name,this.item.value.is_required?[r.kI.required]:[]),id_num:new r.NI(null===(i=this.item.value.value)||void 0===i?void 0:i.id_num,this.item.value.is_required?[r.kI.required]:[]),mem_name:new r.NI(null===(n=this.item.value.value)||void 0===n?void 0:n.mem_name,this.item.value.is_required?[r.kI.required]:[]),status:new r.NI(null===(s=this.item.value.value)||void 0===s?void 0:s.status,null),type:new r.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.type,null),url:new r.NI(null===(d=this.item.value.value)||void 0===d?void 0:d.url,null),filled_manually:new r.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.filled_manually,null),is_document_uploaded:new r.NI(null!==(_=this.item.value.value)&&void 0!==_&&_.id_num?"uploaded":"",this.item.value.is_required?[r.kI.required]:[])}),this.validation=this.item.value.validation,this.photo_id_status=this.item.value.is_locked,this.photoIdForm.valueChanges.pipe(I(500)).subscribe(b=>{console.log(b),this.photoIdEvent.emit(b)}),this.globalService.photoIdFilesEvent.subscribe(b=>{b?.forEach((f,x)=>{this.getActualVal(this.item.value.value.type)==f.type&&(console.log(x.toString()+""+f.type),this.imgPath="pdf"==f.path.split(".").pop()?"assets/images/pdf_icon.jpg":f.path,""!=f.path&&(this.uploadPDFFileName=f.path.split("/").pop()),this.photoIdForm.get("category").setValue(f.type),this.document_status=f.status,this.document_reject_remark=f.remark)})}),""!=(null===(g=this.item.value.value)||void 0===g?void 0:g.id_name)&&(this.inputReadOnly=!1)}getActualVal(t){return"Voter ID"==t?"voter-id":"PAN Card"==t?"pan-card":"Driving License"==t?"driving-license":"Adhaar card"==t?"aadhar-card":t}checkValidation(t){return null==this.validation||!!this.validation.includes(t)}takePhoto(){return(0,m.mG)(this,void 0,void 0,function*(){""!=this.photoIdForm.get("category").value?this.fileInput.nativeElement.click():this.globalService.showError("Please select category")})}uploadPhoto(t){const i=t.target.files[0];if(this.extension=i.type,this.uploadPDFFileName=i.name,i.size>=F.m_)this.globalService.showError("Image file should be less than 10 MB");else{var n=new FileReader;n.onload=s=>{let c=s.target.result;this.imgPath=c,this.openImageModal(c),"application/pdf"==this.extension&&(this.imgPath="assets/images/pdf_icon.jpg")},n.readAsDataURL(i),this.selectedFile=i}this.fileInput.nativeElement.value=""}openImageModal(t){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:"application/pdf"==this.extension?"file.pdf":t,type:"application/pdf"==this.extension?"pdf":"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(i=>{console.log(i),"start_upload"==i.data&&1==this.ocr_enabled?this.uploadDoc():this.is_document_uploaded=!0})})}removeFile(){this.selectedFile="",this.imgPath="",this.uploadPDFFileName=""}uploadDoc(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading("Scanning your photo id\u2014sit tight, this won't take long!");const t=new FormData;this.category=this.photoIdForm.get("category").value;var i="";"voter-id"==this.category?i="voterid":"aadhar-card"==this.category?i="id":"driving-license"==this.category?i="dl":"pan-card"==this.category&&(i="pan"),t.append("countryId","ind"),t.append("documentId",i),t.append("expectedDocumentSide","front"),t.append("image",this.selectedFile);const n=localStorage.getItem("ca_user_id");this.hypervergeApiService.uploadDocument(t,n).subscribe(s=>{if(this.contentUploadModal.dismiss(),console.log(s),"success"==s.status){this.hit_count++,this.photoIdForm.get("is_document_uploaded").setValue(""),"aadhar-card"==this.category?(this.photoIdForm.get("id_name").setValue("Adhaar card"),this.photoIdForm.get("type").setValue("Adhaar card")):"pan-card"==this.category?(this.photoIdForm.get("id_name").setValue("PAN Card"),this.photoIdForm.get("type").setValue("PAN Card")):"voter-id"==this.category?(this.photoIdForm.get("id_name").setValue("Voter ID"),this.photoIdForm.get("type").setValue("Voter ID")):"driving-license"==this.category&&(this.photoIdForm.get("id_name").setValue("Driving License"),this.photoIdForm.get("type").setValue("Driving License")),this.extracted_json=s.result,this.ocr_member_name=s.result.details[0].fieldsExtracted.fullName.value,this.photoIdForm.get("id_num").setValue(s.result.details[0].fieldsExtracted.idNumber.value),this.id_number_conf=s.result.details[0].fieldsExtracted.idNumber.score,this.blur_score=s.result.details[0].qualityChecks.blur.score,this.glare_score=s.result.details[0].qualityChecks.glare.score,this.photoIdForm.get("mem_name").setValue(s.result.details[0].fieldsExtracted.fullName.value),this.mem_name_conf=s.result.details[0].fieldsExtracted.fullName.score;var c=[],d=!1;""!=this.member_name&&""!=this.ocr_member_name&&0==this.other_traveller&&this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore<75&&(d=!0,c.push("The user's registered Full Name is "+this.member_name+", whereas the Full Name listed on their document is "+this.ocr_member_name+". It's important to verify this information for consistency and accuracy.")),this.blur_score<this.conf&&(c.push("The uploaded photo id is blurred, kindly re check your details before submitting."),d=!0),this.glare_score<this.conf&&(c.push("The uploaded photo id has a visible glare, kindly re check your details before submitting."),d=!0),c.length>0?(this.errorScreen(c,d),d||(this.is_document_uploaded=!0)):(this.is_document_uploaded=!0,this.globalService.showMessage("We've filled out your details. Kindly double-check and you're good to go!")),this.ocr_error=c}},s=>{this.contentUploadModal.dismiss(),0==this.photo_id_detected?this.globalService.showError(s.error.result.error):(this.photoIdForm.get("filled_manually").setValue(!0),this.is_document_uploaded=!0,this.globalService.showError("Photo ID Not Detected. Please fill Photo ID details manually.")),this.photo_id_detected++})})}contentUploading(t,i="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:M,backdropDismiss:!0,mode:"ios",componentProps:{content:t,heading:"Photo ID Details",content_type:i}}),yield this.contentUploadModal.present()})}errorScreen(t,i){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:L,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{ocr_error:t,critical_case:i,button_message:"Photo ID",heading:"Oops!"}}),yield this.contentUploadModal.present(),yield this.contentUploadModal.onDidDismiss().then(n=>{"confirm"==n.data?(this.inputReadOnly=!1,this.photoIdForm.get("filled_manually").setValue(!0),this.is_document_uploaded=!0,this.criticalEvent2.emit(!1),console.log("confirm clicked")):console.log("confirm not clicked")})})}uploadDocuments(){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploading("Relax! We're securely uploading your photo id to our vault for future reference.","upload");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type",this.photoIdForm.get("category").value),t.append("name",this.photoIdForm.get("category").value),t.append("ocr_error",JSON.stringify(this.ocr_error)),t.append("extracted_json",JSON.stringify(this.extracted_json)),t.append("hit_count",this.hit_count.toString()),t.append("ocr_transaction_id",q()),t.append("file",this.selectedFile),t.append("similarity_score",this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore.toFixed(2)),this.formApiService.uploadDocument(t).subscribe(i=>{var n,s;this.contentUploadModal.dismiss(),i.success&&(console.log(null===(n=i.data)||void 0===n?void 0:n.url),this.photoIdForm.get("url").setValue(null===(s=i.data)||void 0===s?void 0:s.url),this.is_document_uploaded=!1,this.photoIdForm.get("is_document_uploaded").setValue("uploaded"),this.submitPhotoIDEvent.emit("submit"))},i=>{this.contentUploadModal.dismiss(),this.globalService.showError(i.error.message)})})}uploadDocumentIfNotUploaded(){1==this.is_document_uploaded&&this.uploadDocuments()}hideField(t){"id_num"==t?this.id_number_conf=void 0:"mem_name"==t&&(this.mem_name_conf=void 0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.U),e.Y36(y.$),e.Y36(l.IN),e.Y36(z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-photo-id"]],viewQuery:function(t,i){if(1&t&&e.Gf(ci,7),2&t){let n;e.iGM(n=e.CRH())&&(i.fileInput=n.first)}},inputs:{form_data:"form_data",item:"item"},outputs:{criticalEvent2:"criticalEvent2",photoIdEvent:"photoIdEvent",submitPhotoIDEvent:"submitPhotoIDEvent"},decls:64,vars:37,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],[1,"form-group"],["class","compulsory",4,"ngIf"],["formControlName","category","interface","action-sheet"],["value",""],["value","aadhar-card",4,"ngIf"],["value","pan-card",4,"ngIf"],["value","voter-id",4,"ngIf"],["value","driving-license",4,"ngIf"],[4,"ngFor","ngForOf"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileInput","hidden","","accept","image/png, image/jpg, image/jpeg, application/pdf",3,"change"],["fileInput",""],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],["type","text","formControlName","id_name",3,"readonly"],["type","text","formControlName","id_num",3,"readonly"],["class","error-message conf-error-message",4,"ngIf"],["type","text","formControlName","mem_name",3,"readonly"],["color","danger"],[1,"compulsory"],["value","aadhar-card"],["value","pan-card"],["value","voter-id"],["value","driving-license"],[1,"error-message"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],[1,"error-message",2,"color","black","width","100%"],[1,"error-message","conf-error-message"],["slot","end","color","danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.YNc(1,di,6,1,"ion-card",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"h2"),e._uU(5),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"div",3)(8,"ion-label"),e._uU(9),e.YNc(10,pi,2,0,"span",4),e.qZA(),e.TgZ(11,"ion-select",5)(12,"ion-select-option",6),e._uU(13,"-- Select --"),e.qZA(),e.YNc(14,ui,2,0,"ion-select-option",7),e.YNc(15,_i,2,0,"ion-select-option",8),e.YNc(16,mi,2,0,"ion-select-option",9),e.YNc(17,gi,2,0,"ion-select-option",10),e.qZA()(),e.YNc(18,fi,2,1,"ng-container",11),e.qZA()(),e.TgZ(19,"ion-card",2)(20,"ion-card-content")(21,"label"),e._uU(22),e.YNc(23,vi,2,0,"span",4),e.qZA(),e.TgZ(24,"ion-row")(25,"ion-col",12),e.YNc(26,bi,5,0,"div",13),e.TgZ(27,"input",14,15),e.NdJ("change",function(s){return i.uploadPhoto(s)}),e.qZA(),e.YNc(29,xi,1,1,"img",16),e.qZA(),e.TgZ(30,"ion-col",17)(31,"ion-button",18),e.NdJ("click",function(){return i.takePhoto()}),e._uU(32),e.qZA(),e.TgZ(33,"p"),e._uU(34),e.qZA(),e.TgZ(35,"p"),e._uU(36),e.qZA()()(),e.TgZ(37,"ion-row"),e.YNc(38,Fi,3,0,"div",19),e.qZA(),e.TgZ(39,"ion-row"),e.YNc(40,yi,3,1,"div",20),e.qZA()()(),e.TgZ(41,"ion-card",2)(42,"ion-card-content")(43,"div",3)(44,"label"),e._uU(45),e.YNc(46,Ti,2,0,"span",4),e.qZA(),e._UZ(47,"ion-input",21),e.YNc(48,Ii,2,1,"ng-container",11),e.qZA(),e.TgZ(49,"div",3)(50,"label"),e._uU(51),e.YNc(52,Ci,2,0,"span",4),e.qZA(),e._UZ(53,"ion-input",22),e.YNc(54,ki,5,0,"div",23),e.YNc(55,wi,2,1,"ng-container",11),e.qZA(),e.TgZ(56,"div",3)(57,"label"),e._uU(58),e.YNc(59,qi,2,0,"span",4),e.qZA(),e._UZ(60,"ion-input",24),e.YNc(61,Ai,5,0,"div",23),e.YNc(62,Ni,2,1,"ng-container",11),e.qZA(),e.YNc(63,Ei,2,1,"ng-container",11),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.photoIdForm),e.xp6(1),e.Q6J("ngIf","rejected"==i.document_status),e.xp6(1),e.Q6J("disabled",i.photo_id_status),e.xp6(3),e.Oqu(i.label),e.xp6(4),e.hij("",null==i.attribute_lang?null:i.attribute_lang.type," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(4),e.Q6J("ngIf",i.checkValidation("Adhaar card")||i.checkValidation("Aadhar Card")),e.xp6(1),e.Q6J("ngIf",i.checkValidation("PAN Card")),e.xp6(1),e.Q6J("ngIf",i.checkValidation("Voter ID")),e.xp6(1),e.Q6J("ngIf",i.checkValidation("Driving License")),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.category),e.xp6(1),e.Q6J("disabled",i.photo_id_status),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.select_photo," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(3),e.Q6J("ngIf",!i.imgPath),e.xp6(3),e.Q6J("ngIf",i.imgPath),e.xp6(3),e.Oqu(i.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.size),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.format_both),e.xp6(2),e.Q6J("ngIf",void 0===i.selectedFile&&i.uploadSubmit),e.xp6(2),e.Q6J("ngIf",""!=i.uploadPDFFileName),e.xp6(1),e.Q6J("disabled",i.photo_id_status),e.xp6(4),e.hij("",null==i.attribute_lang?null:i.attribute_lang.id_name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.photo_id_status),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.id_name),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.id_num," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.photo_id_status),e.xp6(1),e.Q6J("ngIf",null!=i.id_number_conf&&i.conf>i.id_number_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.id_num),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.mem_name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.photo_id_status),e.xp6(1),e.Q6J("ngIf",null!=i.mem_name_conf&&i.conf>i.mem_name_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.mem_name),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.is_document_uploaded))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.pK,l.Q$,l.Nd,l.t9,l.n0,l.QI,l.j9,r.sg,r.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),o})();function Ji(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-select-option",14),e._uU(2),e.qZA(),e.BQk()),2&o){const t=a.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("value",i.showOptionsId(t)),e.xp6(1),e.Oqu(i.showOptionsValue(t))}}function Qi(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-select",12),e.NdJ("ionChange",function(){e.CHM(t);const n=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changeFieldValue(n))}),e.YNc(4,Ji,3,2,"ng-container",13),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2),i=t.$implicit,n=t.index,s=e.oxw();e.xp6(2),e.hij("",s.showItem(i)," "),e.xp6(2),e.Q6J("ngForOf",s.getOptions(n).controls)}}function Oi(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"input",15),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Si(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Yi(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"textarea",17),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Di(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Bi(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Gi(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-file-upload",18),e.NdJ("fileUploadEvent",function(n){e.CHM(t);const s=e.oxw(2).$implicit,c=e.oxw();return e.KtG(c.fileUploadFun(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",i.getFileItem(t))("is_required",i.is_required)}}function ji(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Qi,5,2,"ng-container",11),e.YNc(2,Oi,4,1,"ng-container",11),e.YNc(3,Si,4,1,"ng-container",11),e.YNc(4,Yi,4,1,"ng-container",11),e.YNc(5,Di,4,1,"ng-container",11),e.YNc(6,Bi,4,1,"ng-container",11),e.YNc(7,Gi,2,2,"ng-container",11),e.BQk()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf","select"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","date"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","text"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","textarea"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","email"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","phone"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","image"==i.getType(t)&&!i.isHiddenField(t))}}function $i(o,a){if(1&o&&(e.ynx(0,9),e.TgZ(1,"div",10),e.YNc(2,ji,8,7,"ng-container",11),e.qZA(),e.BQk()),2&o){const t=a.$implicit,i=a.index,n=e.oxw();e.xp6(1),e.Q6J("formGroupName",i),e.xp6(1),e.Q6J("ngIf","select"==n.getType(t)||"date"==n.getType(t)||"text"==n.getType(t)||"image"==n.getType(t)||"textarea"==n.getType(t))}}function Ri(o,a){1&o&&(e.TgZ(0,"ion-button",19),e._uU(1,"Submit"),e.qZA())}let W=(()=>{class o{constructor(t,i,n,s){this.modalCtrl=t,this.fb=i,this.popoverCtrl=n,this.formApiService=s,this.ques=new r.Oe([]),this.loading=!1}ngOnInit(){this.loadMemberForm(),this.questions=new r.cw({question:new r.Oe([])})}loadMemberForm(){this.loading=!0,this.formApiService.getMemberForm(this.language).subscribe(t=>{this.data=t,this.loading=!1,t.forEach((i,n)=>{var s;this.ques=this.questions.get("question"),this.ques.push(this.createQuestion(i)),null===(s=i?.options)||void 0===s||s.forEach(c=>{this.getOptions(n).push(this.createOption(c))})}),this.validateForm()})}validateForm(){this.questions.value.question.forEach(t=>{JSON.parse(t.conditions)?.forEach(n=>{this.questions.value.question.forEach((s,c)=>{s.code==n.field&&(n.value===t.value&&"=="==n.operator||"||"==n.operator&&n.value.includes(t.value)?this.questionForm().at(c).get("is_hidden").setValue(!1):n.value===t.value&&this.questionForm().at(c).get("is_hidden").setValue(!0))})})})}createQuestion(t){return this.fb.group({code:t.code,is_required:t.is_required,is_hidden:t.is_hidden,name:t.name,placeholder:t.placeholder,type:t.type,value:"Add"==this.method_type?"":this.editItem[t.code],validation:t.validation,conditions:JSON.stringify(t.conditions),options:new r.Oe([])})}createOption(t){return this.fb.group({name:t.name,value:t.value})}getOptions(t){return this.questionForm().at(t).get("options")}questionForm(){return this.questions.get("question")}closeModal(){this.modalCtrl.dismiss({status:"close"})}showValue(t){return t.value.value}formatDate(t,i){Array.isArray(t)&&(t=t[0]);const n=new Date(t);let s=n.getDate().toString();1==s.length&&(s="0"+s);const c=n.getFullYear()+"-"+F.j8[n.getMonth()]+"-"+s;return i.value.value=c,c}closePopup(){this.popoverCtrl.dismiss()}showOptionsValue(t){return t.controls.name.value}showOptionsId(t){return t.controls.value.value}showItem(t){return t.value.name}isHiddenField(t){return t.value.is_hidden}getType(t){return t.value.type}onSubmit(){if(this.questions.valid){var t={};console.log(this.questions.value.question),this.questions.value.question.forEach(i=>{t[i.code]=i.value}),this.modalCtrl.dismiss({member:t,status:"added"})}else this.questions.markAllAsTouched()}fileUploadFun(t,i){i.value.value=t.value}getFileItem(t){return t.value.code=this.attribute_value_id,t.value.traveller_form_id=this.traveller_form_id,t}changeFieldValue(t){this.questions.markAllAsTouched(),JSON.parse(t.value.conditions)?.forEach(n=>{this.questions.value.question.forEach((s,c)=>{s.code==n.field&&(n.value===t.value.value&&"=="==n.operator||"||"==n.operator&&n.value.includes(t.value.value)?this.questionForm().at(c).get("is_hidden").setValue(!1):this.questionForm().at(c).get("is_hidden").setValue(!0))})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.IN),e.Y36(r.qu),e.Y36(l.Dh),e.Y36(y.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-member"]],decls:10,vars:4,consts:[[1,"ion-padding"],[2,"padding","20px","padding-top","0px"],[2,"text-align","right"],["name","close-circle-outline",1,"close-icon",3,"click"],["align","center"],[3,"formGroup","ngSubmit"],["formArrayName","question",4,"ngFor","ngForOf"],[1,"form-group"],["type","submit","class","primary-btn","ion-button","","size","full",4,"ngIf"],["formArrayName","question"],[1,"form-group",3,"formGroupName"],[4,"ngIf"],["formControlName","value","interface","action-sheet",3,"ionChange"],[4,"ngFor","ngForOf"],[3,"value"],["type","date","formControlName","value"],["formControlName","value","type","text"],["formControlName","value"],[3,"item","is_required","fileUploadEvent"],["type","submit","ion-button","","size","full",1,"primary-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-icon",3),e.NdJ("click",function(){return i.closeModal()}),e.qZA()(),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.YNc(7,$i,3,2,"ng-container",6),e.TgZ(8,"div",7),e.YNc(9,Ri,2,0,"ion-button",8),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu("Add"==i.method_type?"Add Secondary":"Edit Secondary"),e.xp6(1),e.Q6J("formGroup",i.questions),e.xp6(1),e.Q6J("ngForOf",i.questionForm().controls),e.xp6(2),e.Q6J("ngIf",!i.loading))},dependencies:[p.sg,p.O5,r._Y,r.Fj,r.JJ,r.JL,l.YG,l.W2,l.gu,l.pK,l.Q$,l.t9,l.n0,l.QI,l.j9,r.sg,r.u,r.x0,r.CE,O],styles:["ion-item[_ngcontent-%COMP%]::part(native){border:1px #888888 solid;border-width:1px;padding:0 0 0 5px;border-radius:5px}ion-item[_ngcontent-%COMP%]{margin-bottom:10px;border-bottom:0px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:5px}.close-icon[_ngcontent-%COMP%]{font-size:20px;margin-top:10px}h5[_ngcontent-%COMP%]{margin-top:0;padding-top:0;color:#00008b}ion-content[_ngcontent-%COMP%]{min-height:100%}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;padding:0 10px!important;min-height:50px}.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-card[_ngcontent-%COMP%]{margin:0}ion-content[_ngcontent-%COMP%]{--background: #fff !important}ion-popover[_ngcontent-%COMP%]{--width: 300px}ion-datetime[_ngcontent-%COMP%]{background:#fff;--background: #fff}"]}),o})();function Vi(o,a){if(1&o&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2,"Corporate Paid Nominations"),e.qZA(),e.TgZ(3,"ion-badge",3),e._uU(4),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.corporate_member_allowed)}}function Hi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),s=n.$implicit,c=n.index,d=e.oxw();return e.KtG(d.editMember(s,c))}),e._uU(1,"Edit"),e.qZA()}}function Li(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().index,s=e.oxw();return e.KtG(s.removeRecord(n))}),e._UZ(1,"ion-icon",11),e.qZA()}}function zi(o,a){if(1&o&&(e.TgZ(0,"ion-card",4)(1,"ion-card-content")(2,"ion-row")(3,"ion-col",5)(4,"div",6)(5,"b"),e._uU(6,"Name"),e.qZA(),e._uU(7),e.qZA()(),e.TgZ(8,"ion-col",5)(9,"div",6)(10,"b"),e._uU(11,"Relation"),e.qZA(),e._uU(12),e.qZA()()(),e.TgZ(13,"ion-row"),e.YNc(14,Hi,2,0,"ion-button",7),e._uU(15,"\xa0 "),e.YNc(16,Li,2,0,"ion-button",8),e.qZA()()()),2&o){const t=a.$implicit,i=e.oxw();e.xp6(7),e.hij(": ",t.name,""),e.xp6(5),e.hij(": ",t.relation,""),e.xp6(2),e.Q6J("ngIf",0==i.form_data.secondary_members.length),e.xp6(2),e.Q6J("ngIf",0==i.form_data.secondary_members.length)}}function Ki(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addMember())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.hij("Add ",t.corporate_member_allowed-t.values.length," Nomination")}}function Xi(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Ki,2,1,"ion-button",12),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.checkMemberButton())}}function Wi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addMember())}),e._uU(1,"Add Self Paid Traveller"),e.qZA()}}function eo(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Wi,2,0,"ion-button",12),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.checkMemberButton())}}let to=(()=>{class o{constructor(t){this.modalController=t,this.memberEvent=new e.vpe,this.button_name="Loading...",this.values=[],this.disabledAddMemberButton=!1}ngOnInit(){var t,i;this.corporate_member_allowed=Number(this.form_data.total_corporate_paid_nominations_allowed),this.self_paid_member_allowed=Number(this.form_data.total_self_paid_nominations_allowed),this.button_name=this.item.value.name,null!=this.form_data.secondary_members&&(null===(t=this.form_data.secondary_members)||void 0===t?void 0:t.length)>0&&(this.values=null!==(i=this.form_data.secondary_members)&&void 0!==i?i:[])}checkMemberButton(){return this.values.length<=this.corporate_member_allowed+this.self_paid_member_allowed}addMember(){return(0,m.mG)(this,void 0,void 0,function*(){this.createMember=yield this.modalController.create({component:W,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{heading:"Form Submitted",language:this.lang,method_type:"Add",attribute_value_id:this.item.value.code,traveller_form_id:this.item.value.traveller_form_id}}),yield this.createMember.present(),yield this.createMember.onDidDismiss().then(t=>{"added"==t.data.status&&this.values.push(t.data.member),this.memberEvent.emit(this.values)})})}editMember(t,i){return(0,m.mG)(this,void 0,void 0,function*(){this.createMember=yield this.modalController.create({component:W,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{heading:"Form Submitted",language:this.lang,method_type:"Edit",editItem:t,is_required:!0,attribute_value_id:this.item.value.attribute_value_id}}),yield this.createMember.present(),yield this.createMember.onDidDismiss().then(n=>{var s;"added"==(null===(s=n?.data)||void 0===s?void 0:s.status)&&this.values.splice(i,1,n.data.member),this.memberEvent.emit(this.values)})})}removeRecord(t){this.values.splice(t,1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-member"]],inputs:{lang:"lang",item:"item",form_data:"form_data"},outputs:{memberEvent:"memberEvent"},decls:6,vars:4,consts:[[2,"text-align","center"],[4,"ngIf"],["style","border-radius: 15px;",4,"ngFor","ngForOf"],["color","success"],[2,"border-radius","15px"],["size","6"],[2,"text-align","left","font-size","20px"],["ion-button","","class","primary-btn-sm2",3,"click",4,"ngIf"],["ion-button","","color","danger","size","small","style","margin: 0px;",3,"click",4,"ngIf"],["ion-button","",1,"primary-btn-sm2",3,"click"],["ion-button","","color","danger","size","small",2,"margin","0px",3,"click"],["name","trash","aria-label","Favorite"],["type","button","ion-button","","class","add-member-button",3,"click",4,"ngIf"],["type","button","ion-button","",1,"add-member-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ion-list"),e.YNc(2,Vi,5,1,"ion-item",1),e.qZA(),e.YNc(3,zi,17,4,"ion-card",2),e.YNc(4,Xi,2,1,"ng-container",1),e.YNc(5,eo,2,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",i.values.length<i.corporate_member_allowed),e.xp6(1),e.Q6J("ngForOf",i.values),e.xp6(1),e.Q6J("ngIf",i.values.length<i.corporate_member_allowed),e.xp6(1),e.Q6J("ngIf",i.values.length>=i.corporate_member_allowed&&i.values.length<i.corporate_member_allowed+i.self_paid_member_allowed))},dependencies:[p.sg,p.O5,l.yp,l.YG,l.PM,l.FN,l.wI,l.gu,l.Ie,l.Q$,l.q_,l.Nd],styles:[".add-member-button[_ngcontent-%COMP%]{height:60px}.add-member-button[_ngcontent-%COMP%]::part(native){--background: #bde0fe;color:#000;border:1px blue dashed;padding:20px 40px}"]}),o})();var io=h(3646);function oo(o,a){1&o&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function no(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",4),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getSelectedHobbies())}),e._UZ(1,"ion-checkbox",5),e.TgZ(2,"ion-label"),e._uU(3),e.qZA()()}if(2&o){const t=a.index,i=e.oxw();e.Q6J("disabled",i.checkbox_status),e.xp6(1),e.Q6J("formControlName",t),e.xp6(2),e.hij("\xa0\xa0",i.item.value.options[t].name,"")}}let ao=(()=>{class o{constructor(t){this.fb=t,this.checkboxEvent=new e.vpe,this.attribute_lang={},this.hobbies=this.fb.array([]),this.selectedValues=[],this.checkbox_status=!1,this.validationMessages={checkbox:[{type:"required",message:"Address is required"}]}}ngOnInit(){var t,i;console.log(this.item.value),this.checkboxForm=this.fb.group({checkboxs:this.fb.array([])}),!(null===(t=this.item.value.value)||void 0===t)&&t.split(",")&&(this.selectedValues=null===(i=this.item.value.value)||void 0===i?void 0:i.split(",")),console.log(this.selectedValues),this.hobbies=this.checkboxForm.get("checkboxs"),this.item.value.options.forEach(n=>{let s=!1;this.selectedValues.length>0&&this.selectedValues.includes(n.id.toString())&&(s=!0),this.hobbies.push(this.fb.control(s))}),this.checkbox_status=this.item.value.is_locked}getCheckboxForm(){return this.checkboxForm.get("checkboxs")}getSelectedHobbies(){this.selectedValues=[],this.hobbies.controls.filter((i,n)=>{1==i.value&&this.item.value.options.forEach((s,c)=>{n==c&&this.selectedValues.push(s.id)})}),this.checkboxEvent.emit(JSON.stringify(this.selectedValues))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-checkbox"]],inputs:{item:"item",isRequired:"isRequired"},outputs:{checkboxEvent:"checkboxEvent"},decls:7,vars:4,consts:[[3,"formGroup"],["class","compulsory",4,"ngIf"],["formArrayName","checkboxs",3,"disabled","click",4,"ngFor","ngForOf"],[1,"compulsory"],["formArrayName","checkboxs",3,"disabled","click"],[3,"formControlName"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card")(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,oo,2,0,"span",1),e.qZA(),e.YNc(6,no,4,3,"ion-item",2),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.checkboxForm),e.xp6(4),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("ngForOf",i.getCheckboxForm().controls))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.nz,l.Ie,l.Q$,l.w,r.sg,r.u,r.CE],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-checkbox[_ngcontent-%COMP%]{--size: 25px;--background-checked: var(--button-bgcolor)}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #ddd}"]}),o})();const so=["content"],ro=["segment"];function lo(o,a){if(1&o&&(e.TgZ(0,"ion-segment-button",15)(1,"ion-label"),e._uU(2),e.qZA()()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(2),e.hij(" ",i.step_names[i.temp_steps[t]],"")}}function co(o,a){1&o&&(e.TgZ(0,"ion-card",16)(1,"ion-card-content"),e._uU(2," You have already submitted the form. Yo won\u2019t be able to make any changes "),e.qZA()())}function po(o,a){1&o&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function uo(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-select-option",15),e._uU(2),e.qZA(),e.BQk()),2&o){const t=a.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("value",i.showOptionsId(t)),e.xp6(1),e.hij("",i.showOptionsValue(t)," ")}}function _o(o,a){1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function mo(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,po,2,0,"span",20),e.qZA(),e.TgZ(4,"ion-select",21),e.YNc(5,uo,3,2,"ng-container",12),e.qZA(),e.YNc(6,_o,3,0,"div",22),e.BQk()),2&o){const t=e.oxw(2),i=t.$implicit,n=t.index,s=e.oxw();e.xp6(2),e.hij("",s.showItem(i)," "),e.xp6(1),e.Q6J("ngIf",s.getIsRequired(i)),e.xp6(1),e.Q6J("multiple","multiselect"==s.getType(i)),e.xp6(1),e.Q6J("ngForOf",s.getOptions(n).controls),e.xp6(1),e.Q6J("ngIf",s.checkRequired(i))}}function go(o,a){1&o&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function ho(o,a){1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function fo(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,go,2,0,"span",20),e.qZA(),e._UZ(4,"input",25),e.YNc(5,ho,3,0,"div",22),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t))}}function vo(o,a){1&o&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function bo(o,a){1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function xo(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,vo,2,0,"span",20),e.qZA(),e._UZ(4,"input",26),e.YNc(5,bo,3,0,"div",22),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t))}}function Fo(o,a){1&o&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function yo(o,a){1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function To(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.getValidationMessage(t)," ")}}function Zo(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Io(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Co(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,Fo,2,0,"span",20),e.qZA(),e._UZ(4,"ion-input",27),e.YNc(5,yo,3,0,"div",22),e.YNc(6,To,3,1,"div",22),e.YNc(7,Zo,3,1,"div",22),e.YNc(8,Io,3,1,"div",22),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",i.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",i.checkMin(t)),e.xp6(1),e.Q6J("ngIf",i.checkMax(t))}}function ko(o,a){1&o&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function Po(o,a){1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function wo(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-item",28),e._uU(2),e.YNc(3,ko,2,0,"span",20),e._UZ(4,"ion-toggle",29),e.qZA(),e.YNc(5,Po,3,0,"div",22),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij(" ",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(1),e.Q6J("enableOnOffLabels",!0),e.xp6(1),e.Q6J("ngIf",i.checkRequired(t))}}function qo(o,a){1&o&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function Ao(o,a){1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Uo(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.getValidationMessage(t)," ")}}function No(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Mo(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Eo(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,qo,2,0,"span",20),e.qZA(),e._UZ(4,"ion-textarea",30),e.YNc(5,Ao,3,0,"div",22),e.YNc(6,Uo,3,1,"div",22),e.YNc(7,No,3,1,"div",22),e.YNc(8,Mo,3,1,"div",22),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.showItem(t)),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",i.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",i.checkMin(t)),e.xp6(1),e.Q6J("ngIf",i.checkMax(t))}}function Jo(o,a){1&o&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function Qo(o,a){1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Oo(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.getValidationMessage(t)," ")}}function So(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Yo(o,a){if(1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Do(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,Jo,2,0,"span",20),e.qZA(),e._UZ(4,"ion-input",31),e.YNc(5,Qo,3,0,"div",22),e.YNc(6,Oo,3,1,"div",22),e.YNc(7,So,3,1,"div",22),e.YNc(8,Yo,3,1,"div",22),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",i.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",i.checkMin(t)),e.xp6(1),e.Q6J("ngIf",i.checkMax(t))}}function Bo(o,a){1&o&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function Go(o,a){if(1&o&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-radio",33),e.qZA()),2&o){const t=a.$implicit,i=e.oxw(4);e.xp6(2),e.Oqu(i.showOptionsValue(t)),e.xp6(1),e.Q6J("value",i.showOptionsId(t))}}function jo(o,a){1&o&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function $o(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,Bo,2,0,"span",20),e.qZA(),e.TgZ(4,"ion-radio-group",32),e.YNc(5,Go,4,2,"ion-item",12),e.qZA(),e.YNc(6,jo,3,0,"div",22),e.BQk()),2&o){const t=e.oxw(2),i=t.$implicit,n=t.index,s=e.oxw();e.xp6(2),e.hij("",s.showItem(i)," "),e.xp6(1),e.Q6J("ngIf",s.getIsRequired(i)),e.xp6(2),e.Q6J("ngForOf",s.getOptions(n).controls),e.xp6(1),e.Q6J("ngIf",s.checkRequired(i))}}function Ro(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-card",19)(2,"ion-card-content"),e.YNc(3,mo,7,5,"ng-container",10),e.YNc(4,fo,6,3,"ng-container",10),e.YNc(5,xo,6,3,"ng-container",10),e.YNc(6,Co,9,6,"ng-container",10),e.YNc(7,wo,6,4,"ng-container",10),e.YNc(8,Eo,9,6,"ng-container",10),e.YNc(9,Do,9,6,"ng-container",10),e.YNc(10,$o,7,4,"ng-container",10),e.qZA()(),e.BQk()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("disabled",i.getStatus(t)),e.xp6(2),e.Q6J("ngIf","select"==i.getType(t)||"multiselect"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","date"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","datetime"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","text"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","boolean"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","textarea"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","price"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","radio"==i.getType(t))}}function Vo(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-input-phone",34),e.NdJ("inputPhoneEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.inputPhoneFun(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Ho(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-input-email",35),e.NdJ("inputEmailEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.inputEmailFun(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Lo(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-lookup",36),e.NdJ("lookupEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.lookupFun(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function zo(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-checkbox",37),e.NdJ("checkboxEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.checkboxFun(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Ko(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-file-upload",38),e.NdJ("fileUploadEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.fileUploadFun(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Xo(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-image-upload",39),e.NdJ("imageUploadEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.imageUploadEvent(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Wo(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-address",40),e.NdJ("addressEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.addressFun(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("isRequired",i.getIsRequired(t))}}function en(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-photo-id",41),e.NdJ("criticalEvent",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.criticalFun(n))})("photoIdEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.photoIdFun(n,s))})("submitPhotoIDEvent",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.submitButtonEvent())})("scrollEvent",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.scrollScreen(n))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("form_data",i.form_data)}}function tn(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-passport",42),e.NdJ("criticalEvent",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.criticalFun(n))})("passportEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.passportFun(n,s))})("scrollEvent",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.scrollScreen(n))})("submitPassportEvent",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.submitButtonEvent())}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("form_data",i.form_data)}}function on(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-member",43),e.NdJ("memberEvent",function(n){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.memberEvent(n,s))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("lang",i.lang)("form_data",i.form_data)}}function nn(o,a){if(1&o&&(e.ynx(0,17),e.TgZ(1,"div",18),e.YNc(2,Ro,11,9,"ng-container",10),e.YNc(3,Vo,2,1,"ng-container",10),e.YNc(4,Ho,2,1,"ng-container",10),e.YNc(5,Lo,2,1,"ng-container",10),e.YNc(6,zo,2,1,"ng-container",10),e.YNc(7,Ko,2,1,"ng-container",10),e.YNc(8,Xo,2,1,"ng-container",10),e.YNc(9,Wo,2,2,"ng-container",10),e.YNc(10,en,2,2,"ng-container",10),e.YNc(11,tn,2,2,"ng-container",10),e.YNc(12,on,2,3,"ng-container",10),e.qZA(),e.BQk()),2&o){const t=a.$implicit,i=a.index,n=e.oxw();e.xp6(1),e.Q6J("formGroupName",i),e.xp6(1),e.Q6J("ngIf","radio"==n.getType(t)||"price"==n.getType(t)||"select"==n.getType(t)||"multiselect"==n.getType(t)||"date"==n.getType(t)||"datetime"==n.getType(t)||"text"==n.getType(t)||"textarea"==n.getType(t)||"boolean"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","phone"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","email"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","lookup"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","checkbox"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","file"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","image"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","address"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","photo_id"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","passport"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","add_member"==n.getType(t))}}function an(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content"),e._UZ(2,"div",44)(3,"br"),e.TgZ(4,"div")(5,"ion-checkbox",45),e.NdJ("ionChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.termsChkBoxEvent())}),e.qZA(),e.TgZ(6,"ion-label"),e._uU(7,"\xa0\xa0I do hereby declare that all the above information given by me are true to the best of my knowledge and belief."),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("innerHTML",t.footerText,e.oJD),e.xp6(3),e.Q6J("checked",t.isTerms)}}function sn(o,a){1&o&&(e.TgZ(0,"div",46),e._UZ(1,"img",47),e.qZA())}function rn(o,a){if(1&o&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function ln(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"p")(2,"span",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.moveToStep(n))}),e._uU(3),e.qZA(),e._uU(4,": "),e.qZA(),e.TgZ(5,"ul",49),e.YNc(6,rn,2,1,"li",12),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(3),e.Oqu(i.step_names[i.temp_steps[t]]),e.xp6(3),e.Q6J("ngForOf",i.getErrors(t))}}function cn(o,a){if(1&o&&(e.ynx(0),e.YNc(1,ln,7,2,"ng-container",10),e.BQk()),2&o){const t=a.$implicit,i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",(null==(n=i.getErrors(t))?null:n.length)>0)}}function dn(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.goToNext())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.currentStep==t.total_steps?"Close":"Next")}}function pn(o,a){if(1&o&&(e.TgZ(0,"ion-button",51),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Q6J("disabled",t.criticalError),e.xp6(1),e.Oqu(t.total_steps==t.currentStep?"Complete":"Save & Next")}}const un=[{path:"",component:(()=>{class o{constructor(t,i,n,s,c,d,u,_,g){this.formApiService=t,this.activateRoute=i,this.fb=n,this.alertCtrl=s,this.globalService=c,this.navController=d,this.location=u,this.popoverCtrl=_,this.modalController=g,this.loading=!1,this.ques=new r.Oe([]),this.form_name="",this.footerText="",this.isTerms=!1,this.slides=[],this.isBeginning=!0,this.isEnd=!1,this.times=[],this.currentStep=0,this.formCurrentStep=0,this.total_steps=1,this.step_names={},this.temp_steps=[],this.lang="en",this.errors=[],this.allErrors=[],this.criticalError=!1,this.buttonBgColor="#3880ff",this.bgColor="#e5edfb",this.form_status="",this.step="",this.group_form={},this.id=this.activateRoute.snapshot.params.id,this.lang=this.activateRoute.snapshot.params.lang,this.step=this.activateRoute.snapshot.params.step}ngOnInit(){this.questions=new r.cw({question:new r.Oe([])}),this.getSingleForm(this.step),this.currentStep=0}change(){this.currentSlide=this.slides[1]}getSingleForm(t){return(0,m.mG)(this,void 0,void 0,function*(){this.currentStep!=t&&0==this.loading&&(yield ie.A.getLanguageCode(),this.questions.reset(),this.ques.reset(),this.loading=!0,this.formApiService.getSingleForm(this.id,t,this.lang).subscribe(n=>{var s,c,d,u,_;if(this.loading=!1,0==this.slides.length){this.total_steps=(null===(s=n?.data)||void 0===s?void 0:s.total_steps)-1,this.step_names=null===(c=n?.data)||void 0===c?void 0:c.step_names,this.temp_steps=Object.keys(null===(d=n?.data)||void 0===d?void 0:d.step_names);for(var g=0;g<this.temp_steps.length;g++)this.slides.push(g)}this.group_form=n.data.group_form,this.buttonBgColor=n.data.group_form.form_submit_button_color,this.bgColor=n.data.group_form.background_color,document.documentElement.style.setProperty("--button-bgcolor",this.buttonBgColor);const b=localStorage.getItem("selected_language_"+this.id)||"";this.footerText=n.data.group_form.footer[b],this.form_status=n.data.form_status,this.isTerms="started"!=this.form_status,this.form_data=n.data,this.formCurrentStep=n.data.max_step_reached,this.form_name=null===(_=null===(u=n?.data)||void 0===u?void 0:u.group_form)||void 0===_?void 0:_.form_name,n.data.attributes.forEach((f,x)=>{var Z;this.ques=this.questions.get("question"),this.ques.push(this.createQuestion(f)),null===(Z=f.attribute.options)||void 0===Z||Z.forEach(A=>{this.getOptions(x).push(this.createOption(A))})})}))})}goToNext(){this.currentStep==this.total_steps?this.navController.navigateRoot(["/"]):this.changeStep(this.currentStep)}clearFormArray(t){for(;0!==t.length;)t.removeAt(0)}questionForm(){return this.questions.get("question")}createQuestion(t){"passport"==t.attribute.type&&this.globalService.passportFilesEvent.next(t.files),"photo_id"==t.attribute.type&&this.globalService.photoIdFilesEvent.next(t.files),"file"==t.attribute.type&&this.globalService.fileUploadEvent.next(t.files),"image"==t.attribute.type&&this.globalService.imageUploadEvent2.next(t.files);var i=[],n="";t.attribute.is_required&&this.checkFile(t.attribute.type)&&i.push(r.kI.required),"alpha"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.pattern("^[a-zA-Z ]*$")),n="Alpha Characters Only"):"alpha_dash"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.pattern("^[a-zA-Z-]+$")),n="Alpha-Dash Characters Only"):"min"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.minLength(5)),n="Minimum Length (5 characters)"):"max"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.maxLength(20)),n="Maximum Length (20 characters)"):"between"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.maxLength(10)),n="Between (1 and 10)"):"alpha_num"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.pattern("^[a-zA-Z0-9]+$")),n="Alpha-Numeric"):"pan_card"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.pattern("^[A-Z]{5}[0-9]{4}[A-Z]$")),n="PAN Number"):"decimal"==t.attribute.validation&&this.checkFile(t.attribute.type)&&(i.push(r.kI.pattern(/^\d+(\.\d{0,2})?$/)),n="Decimal");let s=t.value;return("email"==t.attribute.type||"phone"==t.attribute.type)&&""==s?.label&&(s.label="work"),this.fb.group({name:t.attribute.name,type:t.attribute.type,id:t.attribute.id,value:["add_member"==t.attribute.type?"":s,i],code:t.attribute.code,attribute_value_id:t.attribute_value_id,placeHolder:t.attribute.placeHolder,is_required:t.attribute.is_required,lookup_type:t.attribute.lookup_type,attribute_lang:t.attribute.attribute_lang,options:new r.Oe([]),files:t.attribute.files,is_locked:t?.is_locked,validation:t.attribute.validation,validation_message:n,traveller_form_id:this.id,ocr_enabled:t.attribute.ocr_enabled,other_traveller:t.attribute.other_traveller})}checkFile(t){return"file"!=t&&"phone"!=t&&"email"!=t&&"image"!=t&&"address"!=t&&"photo_id"!=t&&"passport"!=t&&"add_member"!=t&&"checkbox"!=t&&"lookup"!=t}getOptions(t){return this.questionForm().at(t).get("options")}createOption(t){return this.fb.group({id:t.id,name:t.name})}showItem(t){return t.value.name}showValue(t){return t.value.value}showOptionsValue(t){return t.controls.name.value}showOptionsId(t){return t.controls.id.value}getType(t){return t.value.type}getName(t){return t.value.name}getStatus(t){return t.value.is_locked}checkRequired(t){var i,n,s;return null===(s=null===(n=null===(i=t.controls)||void 0===i?void 0:i.value)||void 0===n?void 0:n.errors)||void 0===s?void 0:s.required}checkPattern(t){var i,n,s;return null===(s=null===(n=null===(i=t.controls)||void 0===i?void 0:i.value)||void 0===n?void 0:n.errors)||void 0===s?void 0:s.pattern}checkMin(t){var i,n,s;return null===(s=null===(n=null===(i=t.controls)||void 0===i?void 0:i.value)||void 0===n?void 0:n.errors)||void 0===s?void 0:s.minlength}checkMax(t){var i,n,s;return null===(s=null===(n=null===(i=t.controls)||void 0===i?void 0:i.value)||void 0===n?void 0:n.errors)||void 0===s?void 0:s.maxlength}getIsRequired(t){return t.value.is_required}getValidation(t){return t.value.validation}getValidationMessage(t){return t.value.validation_message}getControlId(t){return t.controls.id.value}addressFun(t,i){i.value.value=t}onSubmit(){var t,i,n,s,c,d,u,_,g,b;this.errors=[],this.allErrors=[];let f={};!(null===(t=this.passportComponent)||void 0===t)&&t.passportForm&&this.passportComponent.uploadDocumentIfNotUploaded(),!(null===(i=this.photoIdComponent)||void 0===i)&&i.photoIdForm&&this.photoIdComponent.uploadDocumentIfNotUploaded(),null===(n=this.photoIdComponent)||void 0===n||!n.photoIdForm||this.photoIdComponent.photoIdForm.valid?null===(s=this.passportComponent)||void 0===s||!s.passportForm||this.passportComponent.passportForm.valid?null===(c=this.addressComponent)||void 0===c||!c.addressForm||this.addressComponent.addressForm.valid?null===(d=this.fileUploadComponent)||void 0===d||!d.fileUploadForm||this.fileUploadComponent.fileUploadForm.valid?null===(u=this.lookupComponent)||void 0===u||!u.lookupForm||this.lookupComponent.lookupForm.valid?null===(_=this.imageUploadComponent)||void 0===_||!_.imageUploadForm||this.imageUploadComponent.imageUploadForm.valid?null===(g=this.inputEmailComponent)||void 0===g||!g.inputEmailForm||this.inputEmailComponent.inputEmailForm.valid?null===(b=this.inputPhoneComponent)||void 0===b||!b.inputPhoneForm||this.inputPhoneComponent.inputPhoneForm.valid?this.questionForm().valid?(this.questions.value.question.forEach(x=>{f[x.code]=this.isJSON(x.value)}),this.currentStep!=this.total_steps||0!=this.isTerms?(f.save="save",this.globalService.presentLoading(),this.formApiService.updateForms(f,this.id,this.temp_steps[this.currentStep]).subscribe(x=>{this.currentStep==this.total_steps?this.finalSave(x):this.changeStep(this.formCurrentStep!=this.temp_steps[this.total_steps-1]?this.currentStep:this.total_steps-1)},x=>{this.errors=x.error.data.errors[this.temp_steps[this.currentStep]],this.allErrors=x.error.data.errors})):this.globalService.showMessage("Please agree on the acknowledgement")):this.questionForm().markAllAsTouched():this.inputPhoneComponent.inputPhoneForm.markAllAsTouched():this.inputEmailComponent.inputEmailForm.markAllAsTouched():this.imageUploadComponent.imageUploadForm.markAllAsTouched():this.lookupComponent.lookupForm.markAllAsTouched():this.fileUploadComponent.fileUploadForm.markAllAsTouched():this.addressComponent.addressForm.markAllAsTouched():this.passportComponent.passportForm.markAllAsTouched():this.photoIdComponent.photoIdForm.markAllAsTouched()}getErrors(t){return this.allErrors[this.temp_steps[t]]}finalSave(t){let i={};t.data[0].attributes.forEach(n=>{n.value&&(i[n.attribute.code]=this.isJSON(n.value))}),i.save="final_save",this.formApiService.updateForms(i,this.id,this.temp_steps[this.currentStep]).subscribe(n=>{this.contentUploading()},n=>{console.log(this.temp_steps[this.currentStep]),this.errors=n.error.data.errors[this.temp_steps[this.currentStep]],this.allErrors=n.error.data.errors})}isJSON(t){try{return JSON.parse(t)}catch{return t}}segmentChanged(t){this.criticalError=!1,this.clearFormArray(this.questionForm()),this.getSingleForm(this.temp_steps[Number(t.target.value)]),this.currentStep=Number(t.target.value)}changeStep(t){this.errors=[];const i=++t;this.clearFormArray(this.questionForm()),this.segment.value=i.toString()}moveToStep(t){this.errors=[];const i=t;this.clearFormArray(this.questionForm()),this.segment.value=i.toString()}passportFun(t,i){i.value.value=t}criticalFun(t){this.criticalError=1==t}photoIdFun(t,i){i.value.value=t}fileUploadFun(t,i){i.value.value=t.value}imageUploadEvent(t,i){i.value.value=t.value}checkboxFun(t,i){i.value.value=t}lookupFun(t,i){i.value.value=t}inputEmailFun(t,i){console.log(t),i.value.value=t}inputPhoneFun(t,i){console.log(t),i.value.value=t}memberEvent(t,i){i.value.value=t}exitPage(){this.navController.pop()}back(){this.location.back()}scrollScreen(t){console.log("called fun"),this.content.scrollToBottom(1300)}contentUploading(t="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.globalService.completeFormEvent.next("update"),this.formSuccess=yield this.modalController.create({component:$e,backdropDismiss:!0,mode:"ios",componentProps:{heading:"Form Submitted",group_form:this.group_form,content_type:t}}),yield this.formSuccess.present()})}formatDate(t,i){Array.isArray(t)&&(t=t[0]);const n=new Date(t);let s=n.getDate().toString();1==s.length&&(s="0"+s);const c=n.getFullYear()+"-"+F.j8[n.getMonth()]+"-"+s;return i.value.value=c,c}formatDate2(t,i){Array.isArray(t)&&(t=t[0]);const n=new Date(t);let s=n.getDate().toString();1==s.length&&(s="0"+s);let c=n.getHours().toString();1==c.length&&(c="0"+c);let d=n.getMinutes().toString();1==d.length&&(d="0"+d);let u=n.getSeconds().toString();1==u.length&&(u="0"+u);const _=n.getFullYear()+"-"+F.j8[n.getMonth()]+"-"+s+" "+c+":"+d+":"+u;return i.value.value=_,_}closePopup(){this.popoverCtrl.dismiss()}termsChkBoxEvent(){this.isTerms=!this.isTerms}submitButtonEvent(){setTimeout(()=>{this.onSubmit()},1e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.$),e.Y36(C.gz),e.Y36(r.qu),e.Y36(l.Br),e.Y36(w.U),e.Y36(l.SH),e.Y36(p.Ye),e.Y36(l.Dh),e.Y36(l.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-fill-form"]],viewQuery:function(t,i){if(1&t&&(e.Gf(K,5),e.Gf(X,5),e.Gf(j,5),e.Gf(O,5),e.Gf(H,5),e.Gf($,5),e.Gf(R,5),e.Gf(V,5),e.Gf(so,5),e.Gf(ro,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.passportComponent=n.first),e.iGM(n=e.CRH())&&(i.photoIdComponent=n.first),e.iGM(n=e.CRH())&&(i.addressComponent=n.first),e.iGM(n=e.CRH())&&(i.fileUploadComponent=n.first),e.iGM(n=e.CRH())&&(i.lookupComponent=n.first),e.iGM(n=e.CRH())&&(i.imageUploadComponent=n.first),e.iGM(n=e.CRH())&&(i.inputEmailComponent=n.first),e.iGM(n=e.CRH())&&(i.inputPhoneComponent=n.first),e.iGM(n=e.CRH())&&(i.content=n.first),e.iGM(n=e.CRH())&&(i.segment=n.first)}},decls:28,vars:10,consts:[["content",""],[1,"box-form"],["size-xs","12","size-md","3"],["mode","android","value","0","scrollable","",3,"ionChange"],["segment",""],[3,"value",4,"ngFor","ngForOf"],["size-xs","12","size-md","9"],[3,"formGroup","ngSubmit"],["color","danger",4,"ngIf"],["formArrayName","question",4,"ngFor","ngForOf"],[4,"ngIf"],["style","text-align: center",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","class","primary-btn","ion-button","","size","full",3,"click",4,"ngIf"],["type","submit","class","primary-btn","ion-button","","size","full",3,"disabled",4,"ngIf"],[3,"value"],["color","danger"],["formArrayName","question"],[1,"form-group",3,"formGroupName"],[3,"disabled"],["class","compulsory",4,"ngIf"],["formControlName","value",3,"multiple"],["class","error-message",4,"ngIf"],[1,"compulsory"],[1,"error-message"],["type","date","formControlName","value"],["type","datetime-local","formControlName","value"],["formControlName","value","type","text"],["text-wrap","","lines","none"],["slot","end","formControlName","value",1,"custom-spacing",3,"enableOnOffLabels"],["formControlName","value"],["formControlName","value","type","number"],["formControlName","value","v-model","accept"],["slot","start",3,"value"],[3,"item","inputPhoneEvent"],[3,"item","inputEmailEvent"],[3,"item","lookupEvent"],[3,"item","checkboxEvent"],[3,"item","fileUploadEvent"],[3,"item","imageUploadEvent"],[3,"item","isRequired","addressEvent"],[3,"item","form_data","criticalEvent","photoIdEvent","submitPhotoIDEvent","scrollEvent"],[3,"item","form_data","criticalEvent","passportEvent","scrollEvent","submitPassportEvent"],[3,"item","lang","form_data","memberEvent"],[3,"innerHTML"],[3,"checked","ionChange"],[2,"text-align","center"],["src","assets/images/loading.gif","width","300px"],[2,"color","blue","text-decoration","underline",3,"click"],[2,"color","red"],["type","button","ion-button","","size","full",1,"primary-btn",3,"click"],["type","submit","ion-button","","size","full",1,"primary-btn",3,"disabled"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",null,0)(2,"div",1),e._UZ(3,"app-header"),e.TgZ(4,"ion-grid")(5,"ion-row")(6,"ion-col",2)(7,"ion-card")(8,"ion-card-content")(9,"ion-segment",3,4),e.NdJ("ionChange",function(s){return i.segmentChanged(s)}),e.YNc(11,lo,3,2,"ion-segment-button",5),e.qZA()()()(),e.TgZ(12,"ion-col",6)(13,"ion-card")(14,"ion-card-content")(15,"ion-row")(16,"ion-col")(17,"h1"),e._uU(18),e.qZA()()(),e._UZ(19,"hr"),e.TgZ(20,"form",7),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.YNc(21,co,3,0,"ion-card",8),e.YNc(22,nn,13,12,"ng-container",9),e.YNc(23,an,8,2,"ion-card",10),e.YNc(24,sn,2,0,"div",11),e.YNc(25,cn,2,1,"ng-container",12),e.YNc(26,dn,2,1,"ion-button",13),e.YNc(27,pn,2,2,"ion-button",14),e.qZA()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("ngForOf",i.slides),e.xp6(7),e.Oqu(i.form_name),e.xp6(2),e.Q6J("formGroup",i.questions),e.xp6(1),e.Q6J("ngIf",!i.loading&&"completed"==i.form_status),e.xp6(1),e.Q6J("ngForOf",i.questionForm().controls),e.xp6(1),e.Q6J("ngIf",!i.loading&&i.total_steps==i.currentStep),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngForOf",i.slides),e.xp6(1),e.Q6J("ngIf",!i.loading&&"completed"==i.form_status),e.xp6(1),e.Q6J("ngIf",!i.loading&&"completed"!=i.form_status))},dependencies:[p.sg,p.O5,r._Y,r.Fj,r.JJ,r.JL,l.YG,l.PM,l.FN,l.nz,l.wI,l.W2,l.jY,l.pK,l.Ie,l.Q$,l.B7,l.se,l.Nd,l.cJ,l.GO,l.t9,l.n0,l.g2,l.ho,l.w,l.as,l.U5,l.QI,l.j9,r.sg,r.u,r.x0,r.CE,j,X,K,O,H,to,io.G,ao,$,R,V],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-card[_ngcontent-%COMP%]{margin:10px 0}.box-form[_ngcontent-%COMP%]{overflow:scroll;background:var(--bgcolor);padding:15px;height:100%}ion-segment[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;text-align:left;height:auto;width:auto}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{float:left;clear:left;text-align:left;width:100%;max-width:100%}ion-segment-button[_ngcontent-%COMP%]{--indicator-color: var(--button-bgcolor)}ion-segment-button.md[_ngcontent-%COMP%]{--color: #000;--color-checked: var(--button-bgcolor);--indicator-height: 2px}ion-segment-button.ios[_ngcontent-%COMP%]{--color: var(--button-bgcolor);--color-checked: #fff;--border-radius: 20px}ion-popover[_ngcontent-%COMP%]{--width: 300px}ion-datetime[_ngcontent-%COMP%]{background:#fff;--background: #fff}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),o})()}];let _n=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.Bz.forChild(un),C.Bz]}),o})(),mn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),o})(),J=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),o})(),Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),o})();const gn=[];let hn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.Bz.forChild(gn),C.Bz]}),o})(),ee=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,hn]}),o})(),fn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,J,Q,ee]}),o})(),vn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,J,Q,ee]}),o})(),te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,J,Q]}),o})(),bn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),o})(),xn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,te]}),o})(),Fn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,xn]}),o})();var yn=h(4546);let Tn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),o})(),Zn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),o})(),In=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,J,Q]}),o})(),Cn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),o})(),kn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),o})(),Pn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,_n,r.UX,mn,fn,vn,te,bn,Zn,Fn,yn.O,Tn,In,Cn,kn]}),o})()}}]);