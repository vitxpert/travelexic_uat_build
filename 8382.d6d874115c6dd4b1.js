"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8382],{8382:(qo,G,h)=>{h.r(G),h.d(G,{FillFormPageModule:()=>wo});var p=h(6895),r=h(4006),l=h(8058),C=h(3317),m=h(655),ie=h(5838),e=h(8256),ne=h(727);class oe extends ne.w0{constructor(a,t){super()}schedule(a,t=0){return this}}const U={setInterval(n,a,...t){const{delegate:i}=U;return i?.setInterval?i.setInterval(n,a,...t):setInterval(n,a,...t)},clearInterval(n){const{delegate:a}=U;return(a?.clearInterval||clearInterval)(n)},delegate:void 0};var ae=h(8737),re=h(6063);class k{constructor(a,t=k.now){this.schedulerActionCtor=a,this.now=t}schedule(a,t=0,i){return new this.schedulerActionCtor(this,a).schedule(i,t)}}k.now=re.l.now;const ce=new class le extends k{constructor(a,t=k.now){super(a,t),this.actions=[],this._active=!1}flush(a){const{actions:t}=this;if(this._active)return void t.push(a);let i;this._active=!0;do{if(i=a.execute(a.state,a.delay))break}while(a=t.shift());if(this._active=!1,i){for(;a=t.shift();)a.unsubscribe();throw i}}}(class se extends oe{constructor(a,t){super(a,t),this.scheduler=a,this.work=t,this.pending=!1}schedule(a,t=0){var i;if(this.closed)return this;this.state=a;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(a,t,i=0){return U.setInterval(a.flush.bind(a,this),i)}recycleAsyncId(a,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&U.clearInterval(t)}execute(a,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(a,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,t){let o,i=!1;try{this.work(a)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:a,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(i,this),null!=a&&(this.id=this.recycleAsyncId(t,a,null)),this.delay=null,super.unsubscribe()}}});var de=h(4482),pe=h(5403);function I(n,a=ce){return(0,de.e)((t,i)=>{let o=null,s=null,c=null;const d=()=>{if(o){o.unsubscribe(),o=null;const _=s;s=null,i.next(_)}};function u(){const _=c+n,g=a.now();if(g<_)return o=this.schedule(void 0,_-g),void i.add(o);d()}t.subscribe((0,pe.x)(i,_=>{s=_,c=a.now(),o||(o=a.schedule(u,n),i.add(o))},()=>{d(),i.complete()},void 0,()=>{s=o=null}))})}function ue(n,a){1&n&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function _e(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function me(n,a){if(1&n&&(e.ynx(0),e.YNc(1,_e,3,1,"div",11),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("address").hasError(t.type)&&(i.addressForm.get("address").dirty||i.addressForm.get("address").touched))}}function ge(n,a){1&n&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function he(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function fe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,he,3,1,"div",11),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("city").hasError(t.type)&&(i.addressForm.get("city").dirty||i.addressForm.get("city").touched))}}function ve(n,a){1&n&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function xe(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function be(n,a){if(1&n&&(e.ynx(0),e.YNc(1,xe,3,1,"div",11),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("state").hasError(t.type)&&(i.addressForm.get("state").dirty||i.addressForm.get("state").touched))}}function Fe(n,a){1&n&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function ye(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Te(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ye,3,1,"div",11),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("pincode").hasError(t.type)&&(i.addressForm.get("pincode").dirty||i.addressForm.get("pincode").touched))}}function Ze(n,a){1&n&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function Ie(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ce(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ie,3,1,"div",11),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.addressForm.get("country").hasError(t.type)&&(i.addressForm.get("country").dirty||i.addressForm.get("country").touched))}}let j=(()=>{class n{constructor(){this.addressEvent=new e.vpe,this.attribute_lang={},this.address_status=!1,this.validationMessages={address:[{type:"required",message:"Address is required"}],city:[{type:"required",message:"City is required"}],state:[{type:"required",message:"State is required"}],pincode:[{type:"required",message:"Pincode is required"}],country:[{type:"required",message:"Country is required"}]}}ngOnInit(){var t,i,o,s,c,d,u;this.attribute_lang=null===(t=this.item.value)||void 0===t?void 0:t.attribute_lang,console.log(null===(i=this.item)||void 0===i?void 0:i.value),this.addressForm=new r.cw({address:new r.NI(null===(o=this.item.value.value)||void 0===o?void 0:o.address,this.item.value.is_required?[r.kI.required]:[]),city:new r.NI(null===(s=this.item.value.value)||void 0===s?void 0:s.city,this.item.value.is_required?[r.kI.required]:[]),state:new r.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.state,this.item.value.is_required?[r.kI.required]:[]),pincode:new r.NI(null===(d=this.item.value.value)||void 0===d?void 0:d.pincode,this.item.value.is_required?[r.kI.required]:[]),country:new r.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.country,this.item.value.is_required?[r.kI.required]:[])}),this.address_status=this.item.value.is_locked,this.addressForm.valueChanges.pipe(I(500)).subscribe(_=>{this.addressEvent.emit(_)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-address"]],inputs:{item:"item",isRequired:"isRequired"},outputs:{addressEvent:"addressEvent"},decls:33,vars:17,consts:[[3,"formGroup"],[3,"disabled"],[1,"form-group"],["class","compulsory",4,"ngIf"],["formControlName","address","rows","5","placeholder","Type something here"],[4,"ngFor","ngForOf"],["type","text","formControlName","city"],["type","text","formControlName","state"],["type","text","formControlName","pincode"],["type","text","formControlName","country"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"div",2)(4,"label"),e._uU(5),e.YNc(6,ue,2,0,"span",3),e.qZA(),e._UZ(7,"ion-textarea",4),e.YNc(8,me,2,1,"ng-container",5),e.qZA(),e.TgZ(9,"div",2)(10,"label"),e._uU(11),e.YNc(12,ge,2,0,"span",3),e.qZA(),e._UZ(13,"ion-input",6),e.YNc(14,fe,2,1,"ng-container",5),e.qZA(),e.TgZ(15,"div",2)(16,"label"),e._uU(17),e.YNc(18,ve,2,0,"span",3),e.qZA(),e._UZ(19,"ion-input",7),e.YNc(20,be,2,1,"ng-container",5),e.qZA(),e.TgZ(21,"div",2)(22,"label"),e._uU(23),e.YNc(24,Fe,2,0,"span",3),e.qZA(),e._UZ(25,"ion-input",8),e.YNc(26,Te,2,1,"ng-container",5),e.qZA(),e.TgZ(27,"div",2)(28,"label"),e._uU(29),e.YNc(30,Ze,2,0,"span",3),e.qZA(),e._UZ(31,"ion-input",9),e.YNc(32,Ce,2,1,"ng-container",5),e.qZA()()()()),2&t&&(e.Q6J("formGroup",i.addressForm),e.xp6(1),e.Q6J("disabled",i.address_status),e.xp6(4),e.hij("",null==i.attribute_lang?null:i.attribute_lang.address," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.address),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.city," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.city),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.state," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.state),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.pincode," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.pincode),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.country," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.country))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.pK,l.g2,l.j9,r.sg,r.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}"]}),n})();var F=h(7391);function ke(n,a){1&n&&e._UZ(0,"img",4)}function Pe(n,a){1&n&&e._UZ(0,"img",5)}let M=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-content-uploading"]],decls:8,vars:4,consts:[[1,"ion-padding","my-popup"],[2,"text-align","center"],["src","assets/images/loader2.gif","width","300px",4,"ngIf"],["src","assets/images/loader3.gif","width","300px",4,"ngIf"],["src","assets/images/loader2.gif","width","300px"],["src","assets/images/loader3.gif","width","300px"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,ke,1,0,"img",2),e.YNc(5,Pe,1,0,"img",3),e.qZA(),e.TgZ(6,"p",1),e._uU(7),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(i.heading),e.xp6(2),e.Q6J("ngIf","scan"==i.content_type),e.xp6(1),e.Q6J("ngIf","scan"!=i.content_type),e.xp6(2),e.Oqu(i.content))},dependencies:[p.O5,l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #EEEEEE !important}"]}),n})();function we(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Recheck your photo before submitting."),e.qZA())}function qe(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Recheck your pdf before submitting."),e.qZA())}function Ae(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",5),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.imgPath,e.LSH)}}function Ne(n,a){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"img",7),e.qZA())}function Ue(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.imgPath)}}let P=(()=>{class n{constructor(t){this.modalController=t,this.isModalOpen=!1}ngOnInit(){}setOpen(t){this.isModalOpen=t}uploadExit(){this.modalController.dismiss("start_upload")}exitScreen(){this.modalController.dismiss("close")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-image-popup"]],decls:10,vars:5,consts:[[1,"ion-padding"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],["type","button","ion-button","","size","full",3,"click"],["ion-button","","size","full","color","danger",3,"click"],[1,"selected-image",3,"src"],[2,"text-align","center"],["src","assets/images/pdf_icon.jpg","width","300px"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,we,2,0,"p",1),e.YNc(2,qe,2,0,"p",1),e.YNc(3,Ae,2,1,"div",1),e.YNc(4,Ne,2,0,"div",2),e.YNc(5,Ue,2,1,"p",1),e.TgZ(6,"ion-button",3),e.NdJ("click",function(){return i.uploadExit()}),e._uU(7,"Upload"),e.qZA(),e.TgZ(8,"ion-button",4),e.NdJ("click",function(){return i.exitScreen()}),e._uU(9,"Close"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","image"==i.type),e.xp6(1),e.Q6J("ngIf","pdf"==i.type),e.xp6(1),e.Q6J("ngIf","image"==i.type),e.xp6(1),e.Q6J("ngIf","pdf"==i.type),e.xp6(1),e.Q6J("ngIf","pdf"==i.type))},dependencies:[p.O5,l.YG,l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #fff !important}.selected-image[_ngcontent-%COMP%]{width:100%;height:350px;object-fit:contain;border-radius:20px;background-color:#ddd}"]}),n})();var w=h(1692),y=h(1270);const Me=["fileInput"];function Ee(n,a){1&n&&(e.TgZ(0,"ion-item",14)(1,"p"),e._uU(2,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA()())}function Je(n,a){1&n&&(e.TgZ(0,"span",15),e._uU(1,"*"),e.qZA())}function Qe(n,a){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"ion-icon",17),e.TgZ(2,"div")(3,"span",18),e._uU(4,"Choose File"),e.qZA()()())}function Oe(n,a){if(1&n&&e._UZ(0,"img",19),2&n){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function Se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"img",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removeFile())}),e.qZA()}}function Ye(n,a){if(1&n&&(e.TgZ(0,"div",21)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function De(n,a){if(1&n&&(e.TgZ(0,"div",23)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Be(n,a){if(1&n&&(e.ynx(0),e.YNc(1,De,3,1,"div",22),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.fileUploadForm.get("value").hasError(t.type)&&(i.fileUploadForm.get("value").dirty||i.fileUploadForm.get("value").touched))}}let O=(()=>{class n{constructor(t,i,o){this.globalService=t,this.formApiService=i,this.modalController=o,this.fileUploadEvent=new e.vpe,this.uploadSubmit=!1,this.uploadedID=!1,this.attribute_lang={},this.uploadPDFFileName="",this.file_status=!1,this.document_status="",this.validationMessages={value:[{type:"required",message:"File is required"}]}}ngOnInit(){var t,i,o,s,c,d,u;this.attribute_lang=this.item.value.attribute_lang,!(null===(i=null===(t=this.item)||void 0===t?void 0:t.value)||void 0===i)&&i.value&&(""!=this.item.value.value&&(this.uploadPDFFileName=null===(c=null===(s=null===(o=this.item)||void 0===o?void 0:o.value)||void 0===s?void 0:s.value)||void 0===c?void 0:c.split("/").pop()),this.imgPath="pdf"==this.item.value.value.split(".").pop()?"assets/images/pdf_icon.jpg":null===(u=null===(d=this.item)||void 0===d?void 0:d.value)||void 0===u?void 0:u.value),this.file_status=this.item.value.is_locked,this.fileUploadForm=new r.cw({value:new r.NI(this.item.value.value,this.item.value.is_required?[r.kI.required]:[])}),this.globalService.fileUploadEvent.subscribe(_=>{_?.forEach(g=>{this.document_status=g.status})})}takePhoto(){return(0,m.mG)(this,void 0,void 0,function*(){this.fileInput.nativeElement.click()})}uploadPhoto(t){const i=t.target.files[0];if(this.extension=i.type,this.uploadPDFFileName=i.name,i.size>=F.m_)this.globalService.showError("Image file should be less than 10 MB");else{var o=new FileReader;o.onload=s=>{let c=s.target.result;this.imgPath=c,this.openImageModal(c),"application/pdf"==this.extension&&(this.imgPath="assets/images/pdf_icon.jpg")},o.readAsDataURL(i),this.selectedFile=i}this.fileInput.nativeElement.value=""}openImageModal(t){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:"application/pdf"==this.extension?"file.pdf":t,type:"application/pdf"==this.extension?"pdf":"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(i=>{"start_upload"==i.data?this.uploadDoc():"close"==i.data&&(this.uploadPDFFileName="",this.imgPath="",this.selectedFile=void 0)})})}uploadDoc(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading();const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","file"),t.append("name","file"),t.append("file",this.selectedFile),this.formApiService.uploadDocument(t).subscribe(i=>{var o;this.contentUploadModal.dismiss(),i.success&&(this.uploadedID=!0,this.fileUploadForm.get("value").setValue(null===(o=i.data)||void 0===o?void 0:o.url),this.fileUploadEvent.emit(this.fileUploadForm.value))},i=>{console.log(i)})})}removeFile(){this.selectedFile="",this.imgPath="",this.uploadPDFFileName="",this.fileUploadForm.get("value").setValue("")}contentUploading(t="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:M,backdropDismiss:!0,mode:"ios",componentProps:{content:"Please give us a moment while we are uploading your file",heading:"File Details",content_type:t}}),yield this.contentUploadModal.present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.U),e.Y36(y.$),e.Y36(l.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-file-upload"]],viewQuery:function(t,i){if(1&t&&e.Gf(Me,7),2&t){let o;e.iGM(o=e.CRH())&&(i.fileInput=o.first)}},inputs:{item:"item",is_required:"is_required"},outputs:{fileUploadEvent:"fileUploadEvent"},decls:25,vars:13,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],["class","compulsory",4,"ngIf"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileInput","hidden","","accept","image/png, image/jpg, image/jpeg , application/pdf",3,"change"],["fileInput",""],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["class","cross_pic_choose","src","assets/icon/close.svg",3,"click",4,"ngIf"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[4,"ngFor","ngForOf"],["color","danger"],[1,"compulsory"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],["src","assets/icon/close.svg",1,"cross_pic_choose",3,"click"],[1,"error-message",2,"color","black","width","100%"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){if(1&t&&(e.TgZ(0,"form",0),e.YNc(1,Ee,3,0,"ion-item",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"label"),e._uU(5),e.YNc(6,Je,2,0,"span",3),e.qZA(),e.TgZ(7,"ion-row")(8,"ion-col",4),e.YNc(9,Qe,5,0,"div",5),e.TgZ(10,"input",6,7),e.NdJ("change",function(s){return i.uploadPhoto(s)}),e.qZA(),e.YNc(12,Oe,1,1,"img",8),e.YNc(13,Se,1,0,"img",9),e.qZA(),e.TgZ(14,"ion-col",10)(15,"ion-button",11),e.NdJ("click",function(){return i.takePhoto()}),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()()(),e.TgZ(21,"ion-row"),e.YNc(22,Ye,3,1,"div",12),e.qZA(),e.TgZ(23,"ion-row"),e.YNc(24,Be,2,1,"ng-container",13),e.qZA()()()()),2&t){let o,s;e.Q6J("formGroup",i.fileUploadForm),e.xp6(1),e.Q6J("ngIf","rejected"==i.document_status),e.xp6(1),e.Q6J("disabled",i.file_status),e.xp6(3),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required||i.is_required),e.xp6(3),e.Q6J("ngIf",!i.imgPath),e.xp6(3),e.Q6J("ngIf",i.imgPath),e.xp6(1),e.Q6J("ngIf",i.imgPath&&!i.file_status),e.xp6(3),e.Oqu(i.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null!==(o=null==i.attribute_lang?null:i.attribute_lang.size)&&void 0!==o?o:"Size: below 10 MB"),e.xp6(2),e.Oqu(null!==(s=null==i.attribute_lang?null:i.attribute_lang.format_both)&&void 0!==s?s:"Format: JPEG/JPG/PNG/PDF"),e.xp6(2),e.Q6J("ngIf",""!=i.uploadPDFFileName),e.xp6(2),e.Q6J("ngForOf",i.validationMessages.value)}},dependencies:[p.sg,p.O5,r._Y,r.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.Ie,l.Nd,r.sg],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),n})();function Ge(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"p",7),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(null==t.web_form?null:t.web_form.submit_success_content)}}function je(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2)(2,"a",8),e._uU(3,"Open Link"),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("href",null==t.web_form?null:t.web_form.submit_success_content,e.LSH)}}let $e=(()=>{class n{constructor(t,i){this.modalController=t,this.navCtrl=i}ngOnInit(){}exitPage(){this.modalController.dismiss(),this.navCtrl.navigateRoot(["/"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.IN),e.Y36(l.SH))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-sucess"]],decls:11,vars:3,consts:[[1,"ion-padding","my-popup"],[2,"margin","20px"],[2,"text-align","center"],["src","assets/images/form-success.png","width","300px"],[2,"text-align","center","color","white"],[4,"ngIf"],["type","button","color","secondary","ion-button","",3,"click"],[2,"color","white","text-align","center"],[2,"color","white",3,"href"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h3",4),e._uU(5),e.qZA(),e.YNc(6,Ge,3,1,"ng-container",5),e.YNc(7,je,4,1,"ng-container",5),e.TgZ(8,"div",2)(9,"ion-button",6),e.NdJ("click",function(){return i.exitPage()}),e._uU(10,"Close"),e.qZA()()()),2&t&&(e.xp6(5),e.Oqu(i.heading),e.xp6(1),e.Q6J("ngIf","message"==(null==i.web_form?null:i.web_form.submit_success_action)),e.xp6(1),e.Q6J("ngIf","link"==(null==i.web_form?null:i.web_form.submit_success_action)))},dependencies:[p.O5,l.YG,l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #0D4DA4}"]}),n})();function Re(n,a){if(1&n&&(e.TgZ(0,"ion-card",13)(1,"ion-card-content")(2,"p"),e._uU(3,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij("Remarks: ",t.document_reject_remark,"")}}function Ve(n,a){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"ion-icon",15),e.TgZ(2,"div")(3,"span",16),e._uU(4,"Choose File"),e.qZA()()())}function He(n,a){if(1&n&&e._UZ(0,"img",17),2&n){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function Le(n,a){1&n&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function ze(n,a){if(1&n&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function Ke(n,a){if(1&n&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Xe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ke,3,1,"div",9),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.imageUploadForm.get("value").hasError(t.type)&&(i.imageUploadForm.get("value").dirty||i.imageUploadForm.get("value").touched))}}function We(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"li"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t)}}let $=(()=>{class n{constructor(t,i,o){this.globalService=t,this.formApiService=i,this.modalController=o,this.imageUploadEvent=new e.vpe,this.category="",this.document_status="",this.document_reject_remark="",this.uploadSubmit=!1,this.uploadedID=!1,this.validation="",this.inputReadOnly=!0,this.photo_id_status="",this.ocr_error=[],this.uploadPDFFileName="",this.validationMessages={value:[{type:"required",message:"File is required"}]},this.label="",this.conf=75,this.extension="png",this.attribute_lang={}}ngOnInit(){var t,i,o;this.attribute_lang=this.item.value.attribute_lang,this.imageUploadForm=new r.cw({value:new r.NI(this.item.value.value,this.item.value.is_required?[r.kI.required]:[])}),this.label=this.item.value.name,this.validation=this.item.value.validation,this.photo_id_status=this.item.value.is_locked,""!=this.item.value.value&&(this.imgPath=this.item.value.value,this.uploadPDFFileName=null===(o=null===(i=null===(t=this.item.value)||void 0===t?void 0:t.value)||void 0===i?void 0:i.split("/"))||void 0===o?void 0:o.pop()),this.imageUploadForm.valueChanges.pipe(I(500)).subscribe(s=>{console.log(s),this.imageUploadEvent.emit(s)}),this.globalService.imageUploadEvent2.subscribe(s=>{s?.forEach(c=>{this.document_status=c.status,this.document_reject_remark=c.remark})})}takePhoto(){return(0,m.mG)(this,void 0,void 0,function*(){this.globalService.takePhoto().then(t=>(0,m.mG)(this,void 0,void 0,function*(){this.openImageModal(t),this.imgPath=t.imageUrl,this.selectedFile=t.selectedFile}))})}openImageModal(t){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t?.imageUrl,type:"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(i=>{"start_upload"==i.data?this.uploadDoc():"close"==i.data&&(this.imgPath="",this.selectedFile=void 0)})})}removeFile(){this.selectedFile="",this.imgPath=""}uploadDoc(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading();const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","file"),t.append("name","file"),t.append("file",this.selectedFile,"image."+this.extension),this.formApiService.uploadDocument(t).subscribe(i=>{var o;console.log(i),i.success&&(this.uploadedID=!0,this.imageUploadForm.get("value").setValue(null===(o=i.data)||void 0===o?void 0:o.url),this.contentUploadModal.dismiss())})})}contentUploading(t="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:M,backdropDismiss:!0,mode:"ios",componentProps:{content:"Please give us a moment while we are uploading your Photo ID",heading:"Photo ID Details",content_type:t}}),yield this.contentUploadModal.present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.U),e.Y36(y.$),e.Y36(l.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-image-upload"]],inputs:{item:"item"},outputs:{imageUploadEvent:"imageUploadEvent"},decls:26,vars:13,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],[1,"compulsory"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["size","8"],["ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"color","red"],["color","danger"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],[1,"error-message"],[1,"error-message",2,"color","black","width","100%"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.YNc(1,Re,6,1,"ion-card",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"label"),e._uU(5),e.TgZ(6,"span",3),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"ion-row")(9,"ion-col",4),e.YNc(10,Ve,5,0,"div",5),e.YNc(11,He,1,1,"img",6),e.qZA(),e.TgZ(12,"ion-col",7)(13,"ion-button",8),e.NdJ("click",function(){return i.takePhoto()}),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()(),e.TgZ(19,"ion-row"),e.YNc(20,Le,3,0,"div",9),e.qZA(),e.TgZ(21,"ion-row"),e.YNc(22,ze,3,1,"div",10),e.qZA(),e.YNc(23,Xe,2,1,"ng-container",11),e.qZA()()(),e.TgZ(24,"ul",12),e.YNc(25,We,3,1,"ng-container",11),e.qZA()),2&t&&(e.Q6J("formGroup",i.imageUploadForm),e.xp6(1),e.Q6J("ngIf","rejected"==i.document_status),e.xp6(1),e.Q6J("disabled",i.photo_id_status),e.xp6(3),e.hij("",i.label," "),e.xp6(5),e.Q6J("ngIf",!i.imgPath),e.xp6(1),e.Q6J("ngIf",i.imgPath),e.xp6(3),e.Oqu(i.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.size),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===i.selectedFile&&i.uploadSubmit),e.xp6(2),e.Q6J("ngIf",""!=i.uploadPDFFileName),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.value),e.xp6(2),e.Q6J("ngForOf",i.ocr_error))},dependencies:[p.sg,p.O5,r._Y,r.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.Nd,r.sg],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),n})();function et(n,a){1&n&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function tt(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function it(n,a){if(1&n&&(e.ynx(0),e.YNc(1,tt,3,1,"div",11),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.inputEmailForm.get("value").hasError(t.type)&&(i.inputEmailForm.get("value").dirty||i.inputEmailForm.get("value").touched))}}let R=(()=>{class n{constructor(t,i){this.fb=t,this.formApiService=i,this.inputEmailEvent=new e.vpe,this.records=[],this.email_status=!1,this.validationMessages={value:[{type:"required",message:"Email is required"}],label:[{type:"required",message:"Email type is required"}]}}ngOnInit(){var t,i,o,s,c,d,u;this.inputEmailForm=new r.cw({value:new r.NI(null===(o=null===(i=null===(t=this.item)||void 0===t?void 0:t.value)||void 0===i?void 0:i.value)||void 0===o?void 0:o.value,this.item.value.is_required?[r.kI.required]:[]),label:new r.NI(null!==(c=null===(s=this.item.value)||void 0===s?void 0:s.value)&&void 0!==c&&c.label?null===(u=null===(d=this.item.value)||void 0===d?void 0:d.value)||void 0===u?void 0:u.label:"work",this.item.value.is_required?[r.kI.required]:[])}),this.email_status=this.item.value.is_locked,this.inputEmailForm.valueChanges.pipe(I(500)).subscribe(_=>{this.inputEmailEvent.emit(_)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(y.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-input-email"]],inputs:{item:"item"},outputs:{inputEmailEvent:"inputEmailEvent"},decls:17,vars:5,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["lines","none"],["formControlName","label"],["value",""],["value","work"],["value","home"],["type","text","formControlName","value","placeholder","Email Address"],[4,"ngFor","ngForOf"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,et,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-item",3)(7,"ion-select",4)(8,"ion-select-option",5),e._uU(9,"Select"),e.qZA(),e.TgZ(10,"ion-select-option",6),e._uU(11,"Work"),e.qZA(),e.TgZ(12,"ion-select-option",7),e._uU(13,"Home"),e.qZA()(),e._uU(14," \xa0 "),e._UZ(15,"ion-input",8),e.qZA(),e.YNc(16,it,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.inputEmailForm),e.xp6(1),e.Q6J("disabled",i.email_status),e.xp6(3),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(11),e.Q6J("ngForOf",i.validationMessages.value))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.QI,l.j9,r.sg,r.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-item[_ngcontent-%COMP%]{padding:0;margin:0}ion-item[_ngcontent-%COMP%]::part(native){padding:0;--inner-padding-end: 0px;--padding-start:0px }ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;height:50px;padding:5px;--inner-padding-end: 0px;--padding-start:0px }.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),n})();function nt(n,a){1&n&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function ot(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function at(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ot,3,1,"div",11),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.inputPhoneForm.get("value").hasError(t.type)&&(i.inputPhoneForm.get("value").dirty||i.inputPhoneForm.get("value").touched))}}let V=(()=>{class n{constructor(t,i){this.fb=t,this.formApiService=i,this.inputPhoneEvent=new e.vpe,this.records=[],this.phone_status=!1,this.validationMessages={value:[{type:"required",message:"Phone is required"}],label:[{type:"required",message:"Phone type is required"}]}}ngOnInit(){var t,i,o,s,c,d;console.log(this.item.value),this.inputPhoneForm=new r.cw({value:new r.NI(null===(i=null===(t=this.item.value)||void 0===t?void 0:t.value)||void 0===i?void 0:i.value,this.item.value.is_required?[r.kI.required]:[]),label:new r.NI(null!==(s=null===(o=this.item.value)||void 0===o?void 0:o.value)&&void 0!==s&&s.label?null===(d=null===(c=this.item.value)||void 0===c?void 0:c.value)||void 0===d?void 0:d.label:"work",this.item.value.is_required?[r.kI.required]:[])}),this.phone_status=this.item.value.is_locked,this.inputPhoneForm.valueChanges.pipe(I(500)).subscribe(u=>{this.inputPhoneEvent.emit(u)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(y.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-input-phone"]],inputs:{item:"item"},outputs:{inputPhoneEvent:"inputPhoneEvent"},decls:17,vars:5,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["lines","none"],["formControlName","label"],["value",""],["value","work"],["value","home"],["type","text","formControlName","value","placeholder","Phone Number"],[4,"ngFor","ngForOf"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,nt,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-item",3)(7,"ion-select",4)(8,"ion-select-option",5),e._uU(9,"Select"),e.qZA(),e.TgZ(10,"ion-select-option",6),e._uU(11,"Work"),e.qZA(),e.TgZ(12,"ion-select-option",7),e._uU(13,"Home"),e.qZA()(),e._uU(14," \xa0 "),e._UZ(15,"ion-input",8),e.qZA(),e.YNc(16,at,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.inputPhoneForm),e.xp6(1),e.Q6J("disabled",i.phone_status),e.xp6(3),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(11),e.Q6J("ngForOf",i.validationMessages.value))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.QI,l.j9,r.sg,r.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-item[_ngcontent-%COMP%]{padding:0;margin:0}ion-item[_ngcontent-%COMP%]::part(native){padding:0;--inner-padding-end: 0px;--padding-start:0px }ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;height:50px;padding:5px;--inner-padding-end: 0px;--padding-start:0px }.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),n})();function st(n,a){1&n&&(e.TgZ(0,"span",5),e._uU(1,"*"),e.qZA())}function rt(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-select-option",6),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function lt(n,a){if(1&n&&(e.TgZ(0,"div",8)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ct(n,a){if(1&n&&(e.ynx(0),e.YNc(1,lt,3,1,"div",7),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.lookupForm.get("lookup").hasError(t.type)&&(i.lookupForm.get("lookup").dirty||i.lookupForm.get("lookup").touched))}}let H=(()=>{class n{constructor(t,i){this.fb=t,this.formApiService=i,this.lookupEvent=new e.vpe,this.records=[],this.lookup_status=!1,this.validationMessages={lookup:[{type:"required",message:"Lookup is required"}]}}ngOnInit(){console.log(this.item.value),this.lookupForm=new r.cw({lookup:new r.NI(this.item.value.value,this.item.value.is_required?[r.kI.required]:[])}),""!=this.item.value.lookup_type&&this.loadLookupData(this.item.value.lookup_type),this.lookup_status=this.item.value.is_locked,console.log("lookup",this.lookup_status)}loadLookupData(t){this.formApiService.getLookupData(t).subscribe(i=>{i.success&&(this.records=i.data)})}changeLookup(t){this.lookupForm.get("lookup").setValue(t.target.value),this.lookupEvent.emit(t.target.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(y.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-lookup"]],inputs:{item:"item"},outputs:{lookupEvent:"lookupEvent"},decls:9,vars:6,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["formControlName","lookup",3,"ionChange"],[4,"ngFor","ngForOf"],[1,"compulsory"],[3,"value"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,st,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-select",3),e.NdJ("ionChange",function(s){return i.changeLookup(s)}),e.YNc(7,rt,3,2,"ng-container",4),e.qZA(),e.YNc(8,ct,2,1,"ng-container",4),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.lookupForm),e.xp6(1),e.Q6J("disabled",i.lookup_status),e.xp6(3),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",i.records),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.lookup))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.Q$,l.t9,l.n0,l.QI,r.sg,r.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}"]}),n})();function dt(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"li"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t)}}function pt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmPopup())}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Yes, this is my ",t.button_message,"")}}let L=(()=>{class n{constructor(t,i){this.modalController=t,this.alertCtrl=i,this.ocr_error=[],this.critical_case=!1,this.button_message="Passport"}ngOnInit(){}exitScreen(){this.modalController.dismiss()}confirmPopup(){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({cssClass:"wordCloudPoll",header:"Confirm for submission",message:"Type 'confirm' to continue",mode:"ios",inputs:[{name:"res",placeholder:"Enter the text to confirm"}],buttons:[{text:"Submit",id:"confirm-button",handler:i=>(0,m.mG)(this,void 0,void 0,function*(){"confirm"==i.res.toLowerCase().replaceAll(" ","")&&this.modalController.dismiss("confirm")})}]})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.IN),e.Y36(l.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-error-screen"]],decls:11,vars:2,consts:[[1,"ion-padding","my-popup"],[2,"text-align","center"],[2,"color","red"],[4,"ngFor","ngForOf"],[4,"ngIf"],["ion-button","","color","danger",3,"click"],["ion-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0)(1,"h3",1),e._uU(2,"Oops!"),e.qZA(),e.TgZ(3,"ul",2),e.YNc(4,dt,3,1,"ng-container",3),e.qZA(),e.TgZ(5,"div",1)(6,"ion-row"),e.YNc(7,pt,3,1,"ion-col",4),e.TgZ(8,"ion-col")(9,"ion-button",5),e.NdJ("click",function(){return i.exitScreen()}),e._uU(10,"No, I will upload again"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.ocr_error),e.xp6(3),e.Q6J("ngIf",i.critical_case))},dependencies:[p.sg,p.O5,l.YG,l.wI,l.W2,l.Nd],styles:["ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}"]}),n})();var E,ut=new Uint8Array(16);function _t(){if(!E&&!(E=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(ut)}const mt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ht=function gt(n){return"string"==typeof n&&mt.test(n)};for(var v=[],S=0;S<256;++S)v.push((S+256).toString(16).substr(1));const q=function xt(n,a,t){var i=(n=n||{}).random||(n.rng||_t)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,a){t=t||0;for(var o=0;o<16;++o)a[t+o]=i[o];return a}return function ft(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(v[n[a+0]]+v[n[a+1]]+v[n[a+2]]+v[n[a+3]]+"-"+v[n[a+4]]+v[n[a+5]]+"-"+v[n[a+6]]+v[n[a+7]]+"-"+v[n[a+8]]+v[n[a+9]]+"-"+v[n[a+10]]+v[n[a+11]]+v[n[a+12]]+v[n[a+13]]+v[n[a+14]]+v[n[a+15]]).toLowerCase();if(!ht(t))throw TypeError("Stringified UUID is invalid");return t}(i)};var Y=h(2340),bt=h(529);let z=(()=>{class n{constructor(t){this.http=t,this.headers={},this.baseURL=""}uploadDocument(t,i){return this.http.post(Y.N.hypervergeApi+"readId",t,{headers:{transactionId:i,appId:Y.N.appId,appKey:Y.N.appKey}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(bt.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ft=["fileFront"],yt=["fileInput"],Tt=["fileBack"];function Zt(n,a){if(1&n&&(e.TgZ(0,"ion-card",24)(1,"ion-card-content")(2,"p"),e._uU(3,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij("Remarks: ",t.document_reject_remark,"")}}function It(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-card")(2,"ion-card-content")(3,"h2"),e._uU(4),e.qZA()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.label)}}function Ct(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function kt(n,a){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"ion-icon",33),e.TgZ(2,"div")(3,"span",10),e._uU(4,"Choose File"),e.qZA()()())}function Pt(n,a){if(1&n&&e._UZ(0,"img",34),2&n){const t=e.oxw(2);e.Q6J("src",t.imgPathFront,e.LSH)}}function wt(n,a){1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function qt(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function At(n,a){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"ion-icon",33),e.TgZ(2,"div")(3,"span",10),e._uU(4,"Choose File"),e.qZA()()())}function Nt(n,a){if(1&n&&e._UZ(0,"img",34),2&n){const t=e.oxw(2);e.Q6J("src",t.imgPathBack,e.LSH)}}function Ut(n,a){1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function Mt(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-card",3)(2,"ion-card-content")(3,"label"),e._uU(4),e.YNc(5,Ct,2,0,"span",4),e.qZA(),e.TgZ(6,"ion-row")(7,"ion-col",5),e.YNc(8,kt,5,0,"div",25),e.TgZ(9,"input",26,27),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.uploadFrontPhoto(o))}),e.qZA(),e.YNc(11,Pt,1,1,"img",28),e.qZA(),e.TgZ(12,"ion-col",11)(13,"ion-button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.takePhoto("front"))}),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()(),e.TgZ(19,"ion-row"),e.YNc(20,wt,3,0,"div",13),e.qZA()()(),e.TgZ(21,"ion-card",3)(22,"ion-card-content")(23,"label"),e._uU(24),e.YNc(25,qt,2,0,"span",4),e.qZA(),e.TgZ(26,"ion-row")(27,"ion-col",5),e.YNc(28,At,5,0,"div",25),e.TgZ(29,"input",29,30),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.uploadBackPhoto(o))}),e.qZA(),e.YNc(31,Nt,1,1,"img",28),e.qZA(),e.TgZ(32,"ion-col",11)(33,"ion-button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.takePhoto("back"))}),e._uU(34),e.qZA(),e.TgZ(35,"p"),e._uU(36),e.qZA(),e.TgZ(37,"p"),e._uU(38),e.qZA()()(),e.TgZ(39,"ion-row"),e.YNc(40,Ut,3,0,"div",13),e.qZA()()(),e.TgZ(41,"p",31),e._uU(42,"OR"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.passport_status||1==t.uploadedMerged),e.xp6(3),e.hij("",null==t.attribute_lang?null:t.attribute_lang.passport_front," "),e.xp6(1),e.Q6J("ngIf",null==t.item||null==t.item.value?null:t.item.value.is_required),e.xp6(3),e.Q6J("ngIf",!t.imgPathFront),e.xp6(3),e.Q6J("ngIf",t.imgPathFront&&t.uploadedFront),e.xp6(3),e.Oqu(t.uploadedFront?"Update":"Upload"),e.xp6(2),e.Oqu(null==t.attribute_lang?null:t.attribute_lang.size),e.xp6(2),e.Oqu(null==t.attribute_lang?null:t.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===t.selectedFileFront&&t.uploadSubmitFront),e.xp6(1),e.Q6J("disabled",t.passport_status||1==t.uploadedMerged),e.xp6(3),e.hij("",null==t.attribute_lang?null:t.attribute_lang.passport_back," "),e.xp6(1),e.Q6J("ngIf",null==t.item||null==t.item.value?null:t.item.value.is_required),e.xp6(3),e.Q6J("ngIf",!t.imgPathBack),e.xp6(3),e.Q6J("ngIf",t.imgPathBack&&t.uploadedBack),e.xp6(3),e.Oqu(t.uploadedBack?"Update":"Upload"),e.xp6(2),e.Oqu(null==t.attribute_lang?null:t.attribute_lang.size),e.xp6(2),e.Oqu(null==t.attribute_lang?null:t.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===t.selectedFileBack&&t.uploadSubmitBack)}}function Et(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function Jt(n,a){1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function Qt(n,a){if(1&n&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function Ot(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function St(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideField("exp_date"))}),e._uU(4," OK "),e.qZA()()()}}function Yt(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Dt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Yt,3,1,"div",13),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("exp_date").hasError(t.type)&&(i.passportForm.get("exp_date").dirty||i.passportForm.get("exp_date").touched))}}function Bt(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function Gt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideField("issue_date"))}),e._uU(4," OK "),e.qZA()()()}}function jt(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function $t(n,a){if(1&n&&(e.ynx(0),e.YNc(1,jt,3,1,"div",13),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("issue_date").hasError(t.type)&&(i.passportForm.get("issue_date").dirty||i.passportForm.get("issue_date").touched))}}function Rt(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function Vt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideField("issue_place"))}),e._uU(4," OK "),e.qZA()()()}}function Ht(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Lt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ht,3,1,"div",13),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("issue_place").hasError(t.type)&&(i.passportForm.get("issue_place").dirty||i.passportForm.get("issue_place").touched))}}function zt(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function Kt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideField("name_first"))}),e._uU(4," OK "),e.qZA()()()}}function Xt(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Wt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Xt,3,1,"div",13),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("name_first").hasError(t.type)&&(i.passportForm.get("name_first").dirty||i.passportForm.get("name_first").touched))}}function ei(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function ti(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideField("name_last"))}),e._uU(4," OK "),e.qZA()()()}}function ii(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ni(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ii,3,1,"div",13),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("name_last").hasError(t.type)&&(i.passportForm.get("name_last").dirty||i.passportForm.get("name_last").touched))}}function oi(n,a){1&n&&(e.TgZ(0,"span",32),e._uU(1,"*"),e.qZA())}function ai(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"ion-item",38),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideField("passportno"))}),e._uU(4," OK "),e.qZA()()()}}function si(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ri(n,a){if(1&n&&(e.ynx(0),e.YNc(1,si,3,1,"div",13),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("passportno").hasError(t.type)&&(i.passportForm.get("passportno").dirty||i.passportForm.get("passportno").touched))}}function li(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ci(n,a){if(1&n&&(e.ynx(0),e.YNc(1,li,3,1,"div",13),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.passportForm.get("is_document_uploaded").hasError(t.type)&&(i.passportForm.get("is_document_uploaded").dirty||i.passportForm.get("is_document_uploaded").touched))}}let K=(()=>{class n{constructor(t,i,o,s){this.globalService=t,this.formApiService=i,this.modalController=o,this.hypervergeApiService=s,this.scrollEvent=new e.vpe,this.criticalEvent=new e.vpe,this.passportEvent=new e.vpe,this.submitPassportEvent=new e.vpe,this.imgPathFront="",this.imgPathBack="",this.category="",this.passport_status=!1,this.document_status="",this.uploadedFront=!1,this.uploadedBack=!1,this.uploadedMerged=!1,this.uploadPDFFileName="",this.uploadSubmitFront=!1,this.uploadSubmitBack=!1,this.uploadSubmitFull=!1,this.attribute_lang={},this.uploadType="",this.inputReadOnly=!0,this.front_id_value="",this.back_id_value="",this.ocr_error_back="",this.is_document_uploaded=!1,this.extracted_json_front="",this.extracted_json_back="",this.hit_count_front=0,this.hit_count_back=0,this.ocr_transaction_id_front="",this.ocr_transaction_id_back="",this.country_code="",this.member_name="",this.ocr_member_name="",this.date_of_expiry="",this.front_not_detected=0,this.back_not_detected=0,this.other_traveller=!1,this.blur_score=0,this.glare_score=0,this.requires_scanned_copy=!1,this.validationMessages={exp_date:[{type:"required",message:"Exp date is required"}],issue_date:[{type:"required",message:"Issue date is required"}],issue_place:[{type:"required",message:"Issue place is required"}],name_first:[{type:"required",message:"First name is required"}],name_last:[{type:"required",message:"Last name is required"}],passportno:[{type:"required",message:"Passport no. is required"}],is_document_uploaded:[{type:"required",message:"Please upload passport."}]},this.conf=75,this.ocr_enabled=!1,this.document_reject_remark="",this.flag=!1,this.label=""}ngOnInit(){var t,i,o,s,c,d,u,_,g,x,f,b,Z,A;this.attribute_lang=this.item.value.attribute_lang,this.member_name=this.form_data.name,this.ocr_enabled=this.item.value.ocr_enabled,this.other_traveller=this.item.value.other_traveller,this.label=this.item.value.name,this.requires_scanned_copy=this.item.value.requires_scanned_copy,this.passportForm=new r.cw({exp_date:new r.NI(null===(t=this.item.value.value)||void 0===t?void 0:t.exp_date,this.item.value.is_required?[r.kI.required]:[]),issue_date:new r.NI(null===(i=this.item.value.value)||void 0===i?void 0:i.issue_date,this.item.value.is_required?[r.kI.required]:[]),issue_place:new r.NI(null===(o=this.item.value.value)||void 0===o?void 0:o.issue_place,this.item.value.is_required?[r.kI.required]:[]),name_first:new r.NI(null===(s=this.item.value.value)||void 0===s?void 0:s.name_first,this.item.value.is_required?[r.kI.required]:[]),name_last:new r.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.name_last,this.item.value.is_required?[r.kI.required]:[]),passportno:new r.NI(null===(d=this.item.value.value)||void 0===d?void 0:d.passportno,this.item.value.is_required?[r.kI.required]:[]),status:new r.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.status,null),gender:new r.NI(null===(_=this.item.value.value)||void 0===_?void 0:_.gender,null),dob:new r.NI(null===(g=this.item.value.value)||void 0===g?void 0:g.dob,null),address:new r.NI(null===(x=this.item.value.value)||void 0===x?void 0:x.address,null),filled_manually:new r.NI(null===(f=this.item.value.value)||void 0===f?void 0:f.filled_manually,null),is_document_uploaded:new r.NI(null!==(b=this.item.value.value)&&void 0!==b&&b.exp_date?"uploaded":"",this.item.value.is_required?[r.kI.required]:[])}),this.passportForm.valueChanges.pipe(I(500)).subscribe(N=>{this.passportEvent.emit(N)}),this.globalService.passportFilesEvent.subscribe(N=>{N?.forEach(T=>{var D,B;"passport-merged"==T.type&&(this.document_status=T.status,this.document_reject_remark=T.remark,this.uploadedMerged=!0,this.uploadPDFFileName=null===(B=null===(D=T.path)||void 0===D?void 0:D.split("/"))||void 0===B?void 0:B.pop()),"passport-front"==T.type&&(this.imgPathFront=T.path,this.uploadedFront=!0),"passport-back"==T.type&&(this.imgPathBack=T.path,this.uploadedBack=!0)})}),this.passport_status=null===(Z=this.item.value)||void 0===Z?void 0:Z.is_locked,""!=(null===(A=this.item.value.value)||void 0===A?void 0:A.exp_date)&&(this.inputReadOnly=!1),0==this.ocr_enabled&&(this.inputReadOnly=!1)}takePhoto(t){return(0,m.mG)(this,void 0,void 0,function*(){"front"==t&&this.fileFront.nativeElement.click(),"back"==t&&this.fileBack.nativeElement.click()})}uploadFrontPhoto(t){const i=t.target.files[0];if(i.size>=F.m_)this.globalService.showError("Image file should be less than 10 MB");else{var o=new FileReader;o.onload=s=>{let c=s.target.result;this.openImageModal(c,"front"),this.imgPathFront=c},o.readAsDataURL(i),this.selectedFileFront=i}}uploadBackPhoto(t){const i=t.target.files[0];if(i.size>=F.m_)this.globalService.showError("Image file should be less than 10 MB");else{var o=new FileReader;o.onload=s=>{let c=s.target.result;this.openImageModal(c,"back"),this.imgPathBack=c},o.readAsDataURL(i),this.selectedFileBack=i}}openImageModal(t,i){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t,type:"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(o=>{"start_upload"==o.data?("front"==i&&1==this.ocr_enabled&&this.uploadDocFront(),"front"==i&&0==this.ocr_enabled&&(this.uploadedFront=!0,this.is_document_uploaded=!0),"back"==i&&1==this.ocr_enabled&&this.uploadDocBack(),"back"==i&&0==this.ocr_enabled&&(this.uploadedBack=!0,this.is_document_uploaded=!0)):"close"==o.data&&("front"==i&&(this.imgPathFront="",this.selectedFileFront=void 0),"back"==i&&(this.imgPathBack="",this.selectedFileBack=void 0))})})}removeFileFront(){this.selectedFileFront="",this.imgPathFront=""}removeFileBack(){this.selectedFileBack="",this.imgPathBack=""}uploadDocFront(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitFront=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileFront)return;this.uploadType="image",this.contentUploading("Scanning your passport\u2014sit tight, this won't take long!");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","front"),t.append("preferences.returnConfidence","yes"),t.append("preferences.returnScore","yes"),t.append("qualityChecks.blur","yes"),t.append("qualityChecks.glare","yes"),t.append("image",this.selectedFileFront);const i=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,i).subscribe(o=>{this.contentUploadModal.dismiss(),"success"==o.status&&(this.hit_count_front++,this.passportForm.get("exp_date").setValue(o.result.details[0].fieldsExtracted.dateOfExpiry.value),this.exp_date_conf=o.result.details[0].fieldsExtracted.dateOfExpiry.score,this.passportForm.get("issue_date").setValue(o.result.details[0].fieldsExtracted.dateOfIssue.value),this.issue_date_conf=o.result.details[0].fieldsExtracted.dateOfIssue.score,this.passportForm.get("issue_place").setValue(o.result.details[0].fieldsExtracted.placeOfIssue.value),this.issue_place_conf=o.result.details[0].fieldsExtracted.placeOfIssue.score,this.passportForm.get("name_first").setValue(o.result.details[0].fieldsExtracted.firstName.value),this.name_first_conf=o.result.details[0].fieldsExtracted.firstName.score,this.passportForm.get("name_last").setValue(o.result.details[0].fieldsExtracted.lastName.value),this.name_last_conf=o.result.details[0].fieldsExtracted.lastName.score,this.passportForm.get("passportno").setValue(o.result.details[0].fieldsExtracted.idNumber.value),this.passportno_conf=o.result.details[0].fieldsExtracted.idNumber.score,this.passportForm.get("gender").setValue(o.result.details[0].fieldsExtracted.gender.value),this.passportForm.get("dob").setValue(o.result.details[0].fieldsExtracted.dateOfBirth.value),this.country_code=o.result.details[0].fieldsExtracted.countryCode.value,this.front_id_value=o.result.details[0].fieldsExtracted.idNumber.value,this.ocr_member_name=o.result.details[0].fieldsExtracted.fullName.value,this.date_of_expiry=o.result.details[0].fieldsExtracted.dateOfExpiry.value,this.extracted_json_front=o.result,this.ocr_transaction_id_front=q(),this.uploadSubmitBack=!0,this.uploadedFront=!0,this.criticalEvent.emit(!1))},o=>{this.contentUploadModal.dismiss(),0==this.front_not_detected?this.globalService.showError(o.error.result.error):(this.passportForm.get("filled_manually").setValue(!0),this.uploadedFront=!0,this.globalService.showError("Front Page Not Detected. Please fill passport details manually.")),this.front_not_detected++})})}uploadDocBack(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitBack=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileBack)return;this.uploadType="image",this.contentUploading("Scanning your passport\u2014sit tight, this won't take long!");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","back"),t.append("preferences.returnConfidence","yes"),t.append("preferences.returnScore","yes"),t.append("qualityChecks.blur","yes"),t.append("qualityChecks.glare","yes"),t.append("image",this.selectedFileBack);const i=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,i).subscribe(o=>{if(this.contentUploadModal.dismiss(),console.log(o),"success"==o.status){this.hit_count_back++;const _={address:o.result.details[0].fieldsExtracted.address.value,city:o.result.details[0].fieldsExtracted.address.district,state:o.result.details[0].fieldsExtracted.address.province,pincode:o.result.details[0].fieldsExtracted.address.zipCode,country:F.rQ[this.country_code]};this.passportForm.get("address").setValue(_),this.passportForm.get("is_document_uploaded").setValue(""),this.back_id_value=o.result.details[0].fieldsExtracted.idNumber.value,this.ocr_transaction_id_back=q(),this.criticalEvent.emit(!1),this.extracted_json_back=o.result,this.uploadedBack=!0;var s=[],c=!1;if(""!=this.date_of_expiry){const g=new Date;var d=this.date_of_expiry.split("-");g>new Date(d[2],d[1]-1,d[0])&&(s.push("Your passport has expired. Please upload the latest passport"),this.passportForm.get("exp_date").setValue(""))}""!=this.member_name&&""!=this.ocr_member_name&&0==this.other_traveller&&this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore<75&&(s.push("The user's registered Full Name is "+this.member_name+", whereas the Full Name listed on their document is "+this.ocr_member_name+". It's important to verify this information for consistency and accuracy."),c=!0),""==this.back_id_value?(s.push("We could not retreive passport number from the image. Please ensure it is a valid back page of same passport"),c=!0):""!=this.back_id_value&&this.front_id_value!=this.back_id_value&&(s.push("User Passport Front & Back Number Doesn't Match. Please Verify. Passport Number given in Front: "+this.front_id_value+", Passport Number given in Back: "+this.back_id_value),c=!0),s.length>0?(this.errorScreen(s,c),1==c?this.criticalEvent.emit(!0):(this.is_document_uploaded=!0,this.criticalEvent.emit(!1))):(this.criticalEvent.emit(!1),this.is_document_uploaded=!0,this.globalService.showMessage("We've filled out your details. Kindly double-check and you're good to go!")),this.ocr_error_back=s,this.scrollEvent.emit("scroll")}},o=>{if(this.contentUploadModal.dismiss(),0==this.back_not_detected){var s=[];s.push(o.error.result.error),this.errorScreen(s,!1)}else this.passportForm.get("filled_manually").setValue(!0),this.uploadedBack=!0,this.globalService.showError("Back Page Not Detected. Please fill passport details manually.");this.back_not_detected++})})}contentUploading(t,i="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:M,backdropDismiss:!0,mode:"ios",componentProps:{content:t,heading:"Passport Details",content_type:i}}),yield this.contentUploadModal.present()})}errorScreen(t,i){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:L,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{critical_case:i,button_message:"Passport",ocr_error:t,heading:"Oops!"}}),yield this.contentUploadModal.present(),yield this.contentUploadModal.onDidDismiss().then(o=>{"confirm"==o.data?(this.inputReadOnly=!1,this.criticalEvent.emit(!1),this.passportForm.get("filled_manually").setValue(!0),this.is_document_uploaded=!0,console.log("confirm clicked")):console.log("confirm not clicked")})})}uploadDocuments(){1==this.uploadedMerged?this.uploadMergeAWS():this.uploadDocAWSFront()}uploadDocAWSFront(){return(0,m.mG)(this,void 0,void 0,function*(){if(1==this.uploadedFront){this.contentUploading("Relax! We're securely uploading your passports to our vault for future reference.","upload");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-front"),t.append("name","passport-front"),t.append("ocr_error",JSON.stringify(this.ocr_error_back)),t.append("extracted_json",JSON.stringify(this.extracted_json_front)),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_front),t.append("file",this.selectedFileFront),t.append("similarity_score",this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore.toFixed(2)),t.append("confidence_score",this.globalService.compareNames(this.front_id_value,this.back_id_value).allScore.toFixed(2)),this.formApiService.uploadDocument(t).subscribe(i=>{i.success&&this.uploadDocAWSBack()})}})}uploadDocAWSBack(){return(0,m.mG)(this,void 0,void 0,function*(){if(1==this.uploadedBack){const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-back"),t.append("name","passport-back"),t.append("ocr_error",JSON.stringify(this.ocr_error_back)),t.append("extracted_json",JSON.stringify(this.extracted_json_back)),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_back),t.append("file",this.selectedFileBack),t.append("similarity_score",this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore.toFixed(2)),t.append("confidence_score",this.globalService.compareNames(this.front_id_value,this.back_id_value).allScore.toFixed(2)),this.formApiService.uploadDocument(t).subscribe(i=>{this.contentUploadModal.dismiss(),i.success&&(this.passportForm.get("is_document_uploaded").setValue("uploaded"),this.is_document_uploaded=!1,this.submitPassportEvent.emit("submit"))},i=>{this.contentUploadModal.dismiss(),this.globalService.showError(i.error.message)})}})}uploadPhoto(t){const i=t.target.files[0];i.size>=F.m_?this.globalService.showError("PDF file should be less than 10 MB"):(this.uploadPDFFileName=i.name,this.selectedFileFront=i,this.selectedFileBack=i,this.openPdfModal(this.uploadPDFFileName),i?.name&&(this.uploadType="pdf")),this.fileInput.nativeElement.value=""}openPdfModal(t){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t,type:"pdf"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(i=>(0,m.mG)(this,void 0,void 0,function*(){"start_upload"==i.data?1==this.ocr_enabled?this.uploadPDFDocFront():(this.uploadedMerged=!0,this.is_document_uploaded=!0):"close"==i.data&&(this.uploadPDFFileName="")}))})}uploadPDFDocFront(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitFront=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileFront)return;this.uploadType="image",this.contentUploading("Scanning your passport\u2014sit tight, this won't take long!");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","front"),t.append("preferences.returnConfidence","yes"),t.append("preferences.returnScore","yes"),t.append("qualityChecks.blur","yes"),t.append("qualityChecks.glare","yes"),t.append("image",this.selectedFileFront);const i=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,i).subscribe(o=>{this.contentUploadModal.dismiss(),console.log(o),"success"==o.status&&(this.hit_count_front++,this.passportForm.get("exp_date").setValue(o.result.details[0].fieldsExtracted.dateOfExpiry.value),this.exp_date_conf=o.result.details[0].fieldsExtracted.dateOfExpiry.score,this.passportForm.get("issue_date").setValue(o.result.details[0].fieldsExtracted.dateOfIssue.value),this.issue_date_conf=o.result.details[0].fieldsExtracted.dateOfIssue.score,this.passportForm.get("issue_place").setValue(o.result.details[0].fieldsExtracted.placeOfIssue.value),this.issue_place_conf=o.result.details[0].fieldsExtracted.placeOfIssue.score,this.passportForm.get("name_first").setValue(o.result.details[0].fieldsExtracted.firstName.value),this.name_first_conf=o.result.details[0].fieldsExtracted.firstName.score,this.passportForm.get("name_last").setValue(o.result.details[0].fieldsExtracted.lastName.value),this.name_last_conf=o.result.details[0].fieldsExtracted.lastName.score,this.passportForm.get("passportno").setValue(o.result.details[0].fieldsExtracted.idNumber.value),this.passportno_conf=o.result.details[0].fieldsExtracted.idNumber.score,this.passportForm.get("gender").setValue(o.result.details[0].fieldsExtracted.gender.value),this.passportForm.get("dob").setValue(o.result.details[0].fieldsExtracted.dateOfBirth.value),this.country_code=o.result.details[0].fieldsExtracted.countryCode.value,this.front_id_value=o.result.details[0].fieldsExtracted.idNumber.value,this.ocr_member_name=o.result.details[0].fieldsExtracted.fullName.value,this.date_of_expiry=o.result.details[0].fieldsExtracted.dateOfExpiry.value,this.blur_score=o.result.details[0].qualityChecks.blur.score,this.glare_score=o.result.details[0].qualityChecks.glare.score,this.extracted_json_front=o.result,this.ocr_transaction_id_front=q(),this.uploadedMerged=!0,this.criticalEvent.emit(!1),this.uploadPDFDocBack())},o=>{this.is_document_uploaded=!0,this.globalService.showError(o.error.result.error),this.contentUploadModal.dismiss()})})}uploadPDFDocBack(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitBack=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileBack)return;this.uploadType="image",this.contentUploading("Scanning your passport\u2014sit tight, this won't take long!");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","back"),t.append("preferences.returnConfidence","yes"),t.append("preferences.returnScore","yes"),t.append("qualitycheck.blur","yes"),t.append("qualitycheck.glare","yes"),t.append("image",this.selectedFileBack);const i=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,i).subscribe(o=>{if(this.contentUploadModal.dismiss(),console.log(o),"success"==o.status){this.hit_count_back++;const _={address:o.result.details[0].fieldsExtracted.address.value,city:o.result.details[0].fieldsExtracted.address.district,state:o.result.details[0].fieldsExtracted.address.province,pincode:o.result.details[0].fieldsExtracted.address.zipCode,country:F.rQ[this.country_code]};this.passportForm.get("address").setValue(_),this.passportForm.get("is_document_uploaded").setValue(""),this.back_id_value=o.result.details[0].fieldsExtracted.idNumber.value,this.ocr_transaction_id_back=q(),this.extracted_json_back=o.result;var s=[],c=!1;if(""!=this.date_of_expiry){const g=new Date;var d=this.date_of_expiry.split("-");g>new Date(d[2],d[1]-1,d[0])&&(s.push("Your passport has expired. Please upload the latest passport"),this.passportForm.get("exp_date").setValue(""))}""!=this.member_name&&""!=this.ocr_member_name&&0==this.other_traveller&&this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore<75&&(s.push("The user's registered Full Name is "+this.member_name+", whereas the Full Name listed on their document is "+this.ocr_member_name+". It's important to verify this information for consistency and accuracy."),c=!0),""==this.back_id_value?s.push("We could not retreive passport number from the image. Please ensure it is a valid back page of same passport"):""!=this.back_id_value&&this.globalService.compareNames(this.front_id_value,this.back_id_value).allScore<75&&(s.push("User Passport Front & Back Number Doesn't Match. Please Verify. Passport Number given in Front: "+this.front_id_value+", Passport Number given in Back: "+this.back_id_value),c=!0),this.blur_score<this.conf&&(s.push("The uploaded passport is blurred, kindly re check your details before submitting."),c=!0),this.glare_score<this.conf&&(s.push("The uploaded passport has a visible glare, kindly re check your details before submitting."),c=!0),s.length>0?(this.errorScreen(s,c),1==c?this.criticalEvent.emit(!0):(this.is_document_uploaded=!0,this.criticalEvent.emit(!1))):(this.is_document_uploaded=!0,this.criticalEvent.emit(!1),this.globalService.showMessage("We've filled out your details. Kindly double-check and you're good to go!")),this.ocr_error_back=s,this.scrollEvent.emit("scroll")}},o=>{if(this.contentUploadModal.dismiss(),0==this.back_not_detected){var s=[];s.push(o.error.result.error),this.errorScreen(s,!1)}else this.passportForm.get("filled_manually").setValue(!0),this.globalService.showError("Back Page Not Detected. Please fill passport details manually.");this.back_not_detected++})})}uploadMergeAWS(){return(0,m.mG)(this,void 0,void 0,function*(){if(1==this.uploadedMerged){this.contentUploading("Relax! We're securely uploading your passports to our vault for future reference.","upload");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-merged"),t.append("name","passport-merged"),t.append("ocr_error",JSON.stringify(this.ocr_error_back)),t.append("extracted_json",JSON.stringify({"passport-front":this.extracted_json_front,"passport-back":this.extracted_json_back})),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_front),t.append("file",this.selectedFileFront),t.append("similarity_score",this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore.toFixed(2)),t.append("confidence_score",this.globalService.compareNames(this.front_id_value,this.back_id_value).allScore.toFixed(2)),this.formApiService.uploadDocument(t).subscribe(i=>{this.contentUploadModal.dismiss(),i.success&&(this.is_document_uploaded=!1,this.passportForm.get("is_document_uploaded").setValue("uploaded"),this.submitPassportEvent.emit("submit"))},i=>{this.contentUploadModal.dismiss(),this.globalService.showError(i.error.message)})}})}choosePdf(){this.fileInput.nativeElement.click()}uploadDocumentIfNotUploaded(){1==this.is_document_uploaded&&this.uploadDocuments()}onExpiryChange(t){const i=new Date;let o=new Date(t.target.value);var s=t.target.value.split("-");o=new Date(s[2],s[1]-1,s[0]),i>o&&(this.globalService.showError("Please enter valid expiry date"),t.target.value=""),this.date_of_expiry!=t.target.value&&this.globalService.showError("The expiry date you entered manually does not match the expiry date on the passport.")}hideField(t){"exp_date"==t?this.exp_date_conf=void 0:"issue_date"==t?this.issue_date_conf=void 0:"issue_place"==t?this.issue_place_conf=void 0:"name_first"==t?this.name_first_conf=void 0:"name_last"==t?this.name_last_conf=void 0:"passportno"==t&&(this.passportno_conf=void 0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.U),e.Y36(y.$),e.Y36(l.IN),e.Y36(z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-passport"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ft,7),e.Gf(yt,7),e.Gf(Tt,7)),2&t){let o;e.iGM(o=e.CRH())&&(i.fileFront=o.first),e.iGM(o=e.CRH())&&(i.fileInput=o.first),e.iGM(o=e.CRH())&&(i.fileBack=o.first)}},inputs:{item:"item",form_data:"form_data"},outputs:{scrollEvent:"scrollEvent",criticalEvent:"criticalEvent",passportEvent:"passportEvent",submitPassportEvent:"submitPassportEvent"},decls:73,vars:44,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[4,"ngIf"],[3,"disabled"],["class","compulsory",4,"ngIf"],["size","4"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px","color","red"],["type","file","id","fileInput","hidden","","accept","application/pdf",3,"change"],["fileInput",""],[2,"font-size","10px"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[1,"form-group"],["type","text","formControlName","exp_date","placeholder","DD-MM-YYYY",3,"readonly","change"],["class","error-message conf-error-message",4,"ngIf"],[4,"ngFor","ngForOf"],["type","text","formControlName","issue_date","placeholder","DD-MM-YYYY",3,"readonly"],["type","text","formControlName","issue_place",3,"readonly"],["type","text","formControlName","name_first",3,"readonly"],["type","text","formControlName","name_last",3,"readonly"],["type","text","formControlName","passportno",3,"readonly"],["color","danger"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileFront","hidden","","accept","image/png, image/jpg, image/jpeg",3,"change"],["fileFront",""],["style","width:100px;height:100px;object-fit: contain;",3,"src",4,"ngIf"],["type","file","id","fileBack","hidden","","accept","image/png, image/jpg, image/jpeg",3,"change"],["fileBack",""],[2,"text-align","center"],[1,"compulsory"],["name","document-attach-outline",2,"font-size","40px"],[2,"width","100px","height","100px","object-fit","contain",3,"src"],[1,"error-message"],[1,"error-message",2,"color","black","width","100%"],[1,"error-message","conf-error-message"],["lines","none"],["slot","end","color","danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.YNc(1,Zt,6,1,"ion-card",1),e.YNc(2,It,5,1,"ng-container",2),e.YNc(3,Mt,43,18,"ng-container",2),e.TgZ(4,"ion-card",3)(5,"ion-card-content")(6,"label"),e._uU(7),e.YNc(8,Et,2,0,"span",4),e.qZA(),e.TgZ(9,"ion-row")(10,"ion-col",5)(11,"div",6),e._UZ(12,"ion-icon",7),e.TgZ(13,"input",8,9),e.NdJ("change",function(s){return i.uploadPhoto(s)}),e.qZA(),e.TgZ(15,"div")(16,"span",10),e._uU(17,"Choose File"),e.qZA()()()(),e.TgZ(18,"ion-col",11)(19,"ion-button",12),e.NdJ("click",function(){return i.choosePdf()}),e._uU(20),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.qZA()()(),e.TgZ(25,"ion-row"),e.YNc(26,Jt,3,0,"div",13),e.YNc(27,Qt,3,1,"div",14),e.qZA()()(),e.TgZ(28,"ion-card",3)(29,"ion-card-content")(30,"div",15)(31,"label"),e._uU(32),e.YNc(33,Ot,2,0,"span",4),e.qZA(),e.TgZ(34,"ion-input",16),e.NdJ("change",function(s){return i.onExpiryChange(s)}),e.qZA(),e.YNc(35,St,5,0,"div",17),e.YNc(36,Dt,2,1,"ng-container",18),e.qZA(),e.TgZ(37,"div",15)(38,"label"),e._uU(39),e.YNc(40,Bt,2,0,"span",4),e.qZA(),e._UZ(41,"ion-input",19),e.YNc(42,Gt,5,0,"div",17),e.YNc(43,$t,2,1,"ng-container",18),e.qZA(),e.TgZ(44,"div",15)(45,"label"),e._uU(46),e.YNc(47,Rt,2,0,"span",4),e.qZA(),e._UZ(48,"ion-input",20),e.YNc(49,Vt,5,0,"div",17),e.YNc(50,Lt,2,1,"ng-container",18),e.qZA(),e.TgZ(51,"div",15)(52,"label"),e._uU(53),e.YNc(54,zt,2,0,"span",4),e.qZA(),e._UZ(55,"ion-input",21),e.YNc(56,Kt,5,0,"div",17),e.YNc(57,Wt,2,1,"ng-container",18),e.qZA(),e.TgZ(58,"div",15)(59,"label"),e._uU(60),e.YNc(61,ei,2,0,"span",4),e.qZA(),e._UZ(62,"ion-input",22),e.YNc(63,ti,5,0,"div",17),e.YNc(64,ni,2,1,"ng-container",18),e.qZA(),e.TgZ(65,"div",15)(66,"label"),e._uU(67),e.YNc(68,oi,2,0,"span",4),e.qZA(),e._UZ(69,"ion-input",23),e.YNc(70,ai,5,0,"div",17),e.YNc(71,ri,2,1,"ng-container",18),e.qZA(),e.YNc(72,ci,2,1,"ng-container",18),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.passportForm),e.xp6(1),e.Q6J("ngIf","rejected"==i.document_status),e.xp6(1),e.Q6J("ngIf",(null==i.attribute_lang?null:i.attribute_lang.passport_front)!=i.label),e.xp6(1),e.Q6J("ngIf",!i.requires_scanned_copy),e.xp6(1),e.Q6J("disabled",i.passport_status||1==i.uploadedFront),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.merged_passport," "),e.xp6(1),e.Q6J("ngIf",null==i.item||null==i.item.value?null:i.item.value.is_required),e.xp6(12),e.Oqu(i.uploadedMerged?"Update":"Upload"),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.size),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.format_document),e.xp6(2),e.Q6J("ngIf",void 0===i.selectedFile&&i.uploadSubmitFull),e.xp6(1),e.Q6J("ngIf",""!=i.uploadPDFFileName),e.xp6(1),e.Q6J("disabled",i.passport_status),e.xp6(4),e.hij("",null==i.attribute_lang?null:i.attribute_lang.exp_date," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.exp_date_conf&&i.conf>i.exp_date_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.exp_date),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.issue_date," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.issue_date_conf&&i.conf>i.issue_date_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.issue_date),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.issue_place," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.issue_place_conf&&i.conf>i.issue_place_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.issue_place),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.name_first," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.name_first_conf&&i.conf>i.name_first_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.name_first),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.name_last," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.name_last_conf&&i.conf>i.name_last_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.name_last),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.passportno," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.passport_status),e.xp6(1),e.Q6J("ngIf",null!=i.passportno_conf&&i.conf>i.passportno_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.passportno),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.is_document_uploaded))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.pK,l.Ie,l.Nd,l.j9,r.sg,r.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}.cross_pdf_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:18px;margin-top:-18px}"]}),n})();const di=["fileInput"];function pi(n,a){if(1&n&&(e.TgZ(0,"ion-card",25)(1,"ion-card-content")(2,"p"),e._uU(3,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij("Remarks: ",t.document_reject_remark,"")}}function ui(n,a){1&n&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function _i(n,a){1&n&&(e.TgZ(0,"ion-select-option",27),e._uU(1,"Adhaar card"),e.qZA())}function mi(n,a){1&n&&(e.TgZ(0,"ion-select-option",28),e._uU(1,"PAN Card"),e.qZA())}function gi(n,a){1&n&&(e.TgZ(0,"ion-select-option",29),e._uU(1,"Voter ID"),e.qZA())}function hi(n,a){1&n&&(e.TgZ(0,"ion-select-option",30),e._uU(1,"Driving License"),e.qZA())}function fi(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function vi(n,a){if(1&n&&(e.ynx(0),e.YNc(1,fi,3,1,"div",19),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("category").hasError(t.type)&&(i.photoIdForm.get("category").dirty||i.photoIdForm.get("category").touched))}}function xi(n,a){1&n&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function bi(n,a){1&n&&(e.TgZ(0,"div",32),e._UZ(1,"ion-icon",33),e.TgZ(2,"div")(3,"span",34),e._uU(4,"Choose File"),e.qZA()()())}function Fi(n,a){if(1&n&&e._UZ(0,"img",35),2&n){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function yi(n,a){1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function Ti(n,a){if(1&n&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function Zi(n,a){1&n&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function Ii(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ci(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ii,3,1,"div",19),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("id_name").hasError(t.type)&&(i.photoIdForm.get("id_name").dirty||i.photoIdForm.get("id_name").touched))}}function ki(n,a){1&n&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function Pi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span"),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideField("id_num"))}),e._uU(4," OK "),e.qZA()()()}}function wi(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function qi(n,a){if(1&n&&(e.ynx(0),e.YNc(1,wi,3,1,"div",19),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("id_num").hasError(t.type)&&(i.photoIdForm.get("id_num").dirty||i.photoIdForm.get("id_num").touched))}}function Ai(n,a){1&n&&(e.TgZ(0,"span",26),e._uU(1,"*"),e.qZA())}function Ni(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span"),e._uU(2,"Please confirm before you proceed. "),e.TgZ(3,"ion-button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideField("mem_name"))}),e._uU(4," OK "),e.qZA()()()}}function Ui(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Mi(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ui,3,1,"div",19),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("mem_name").hasError(t.type)&&(i.photoIdForm.get("mem_name").dirty||i.photoIdForm.get("mem_name").touched))}}function Ei(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ji(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ei,3,1,"div",19),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.photoIdForm.get("is_document_uploaded").hasError(t.type)&&(i.photoIdForm.get("is_document_uploaded").dirty||i.photoIdForm.get("is_document_uploaded").touched))}}let X=(()=>{class n{constructor(t,i,o,s){this.globalService=t,this.formApiService=i,this.modalController=o,this.hypervergeApiService=s,this.criticalEvent2=new e.vpe,this.photoIdEvent=new e.vpe,this.submitPhotoIDEvent=new e.vpe,this.category="",this.document_status="",this.uploadSubmit=!1,this.uploadedID=!1,this.inputReadOnly=!0,this.photo_id_status="",this.validation="",this.uploadPDFFileName="",this.hit_count=1,this.is_document_uploaded=!1,this.validationMessages={category:[{type:"required",message:"Category is required!"}],id_name:[{type:"required",message:"ID Name is required!"}],id_num:[{type:"required",message:"ID Number is required!"}],mem_name:[{type:"required",message:"Member name is required!"}],is_document_uploaded:[{type:"required",message:"Please upload photo id"}]},this.attribute_lang={},this.blur_score=0,this.glare_score=0,this.conf=75,this.document_reject_remark="",this.isOptionSelected=!1,this.label="",this.member_name="",this.photo_id_detected=0,this.ocr_enabled=!1,this.ocr_member_name="",this.other_traveller=!1}ngOnInit(){var t,i,o,s,c,d,u,_,g;this.member_name=this.form_data.name,this.attribute_lang=this.item.value.attribute_lang,this.label=this.item.value.name,this.ocr_enabled=this.item.value.ocr_enabled,this.other_traveller=this.item.value.other_traveller,this.photoIdForm=new r.cw({category:new r.NI("",this.item.value.is_required?[r.kI.required]:[]),id_name:new r.NI(null===(t=this.item.value.value)||void 0===t?void 0:t.id_name,this.item.value.is_required?[r.kI.required]:[]),id_num:new r.NI(null===(i=this.item.value.value)||void 0===i?void 0:i.id_num,this.item.value.is_required?[r.kI.required]:[]),mem_name:new r.NI(null===(o=this.item.value.value)||void 0===o?void 0:o.mem_name,this.item.value.is_required?[r.kI.required]:[]),status:new r.NI(null===(s=this.item.value.value)||void 0===s?void 0:s.status,null),type:new r.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.type,null),url:new r.NI(null===(d=this.item.value.value)||void 0===d?void 0:d.url,null),filled_manually:new r.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.filled_manually,null),is_document_uploaded:new r.NI(null!==(_=this.item.value.value)&&void 0!==_&&_.id_num?"uploaded":"",this.item.value.is_required?[r.kI.required]:[])}),this.validation=this.item.value.validation,this.photo_id_status=this.item.value.is_locked,this.photoIdForm.valueChanges.pipe(I(500)).subscribe(x=>{console.log(x),this.photoIdEvent.emit(x)}),this.globalService.photoIdFilesEvent.subscribe(x=>{x?.forEach((f,b)=>{this.getActualVal(this.item.value.value.type)==f.type&&(console.log(b.toString()+""+f.type),this.imgPath="pdf"==f.path.split(".").pop()?"assets/images/pdf_icon.jpg":f.path,""!=f.path&&(this.uploadPDFFileName=f.path.split("/").pop()),this.photoIdForm.get("category").setValue(f.type),this.document_status=f.status,this.document_reject_remark=f.remark)})}),""!=(null===(g=this.item.value.value)||void 0===g?void 0:g.id_name)&&(this.inputReadOnly=!1)}getActualVal(t){return"Voter ID"==t?"voter-id":"PAN Card"==t?"pan-card":"Driving License"==t?"driving-license":"Adhaar card"==t?"aadhar-card":t}checkValidation(t){return null==this.validation||!!this.validation.includes(t)}takePhoto(){return(0,m.mG)(this,void 0,void 0,function*(){""!=this.photoIdForm.get("category").value?this.fileInput.nativeElement.click():this.globalService.showError("Please select category")})}uploadPhoto(t){const i=t.target.files[0];if(this.extension=i.type,this.uploadPDFFileName=i.name,i.size>=F.m_)this.globalService.showError("Image file should be less than 10 MB");else{var o=new FileReader;o.onload=s=>{let c=s.target.result;this.imgPath=c,this.openImageModal(c),"application/pdf"==this.extension&&(this.imgPath="assets/images/pdf_icon.jpg")},o.readAsDataURL(i),this.selectedFile=i}this.fileInput.nativeElement.value=""}openImageModal(t){return(0,m.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:P,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:"application/pdf"==this.extension?"file.pdf":t,type:"application/pdf"==this.extension?"pdf":"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(i=>{console.log(i),"start_upload"==i.data&&1==this.ocr_enabled?this.uploadDoc():this.is_document_uploaded=!0})})}removeFile(){this.selectedFile="",this.imgPath="",this.uploadPDFFileName=""}uploadDoc(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading("Scanning your photo id\u2014sit tight, this won't take long!");const t=new FormData;this.category=this.photoIdForm.get("category").value;var i="";"voter-id"==this.category?i="voterid":"aadhar-card"==this.category?i="id":"driving-license"==this.category?i="dl":"pan-card"==this.category&&(i="pan"),t.append("countryId","ind"),t.append("documentId",i),t.append("expectedDocumentSide","front"),t.append("image",this.selectedFile);const o=localStorage.getItem("ca_user_id");this.hypervergeApiService.uploadDocument(t,o).subscribe(s=>{if(this.contentUploadModal.dismiss(),console.log(s),"success"==s.status){this.hit_count++,this.photoIdForm.get("is_document_uploaded").setValue(""),"aadhar-card"==this.category?(this.photoIdForm.get("id_name").setValue("Adhaar card"),this.photoIdForm.get("type").setValue("Adhaar card")):"pan-card"==this.category?(this.photoIdForm.get("id_name").setValue("PAN Card"),this.photoIdForm.get("type").setValue("PAN Card")):"voter-id"==this.category?(this.photoIdForm.get("id_name").setValue("Voter ID"),this.photoIdForm.get("type").setValue("Voter ID")):"driving-license"==this.category&&(this.photoIdForm.get("id_name").setValue("Driving License"),this.photoIdForm.get("type").setValue("Driving License")),this.extracted_json=s.result,this.ocr_member_name=s.result.details[0].fieldsExtracted.fullName.value,this.photoIdForm.get("id_num").setValue(s.result.details[0].fieldsExtracted.idNumber.value),this.id_number_conf=s.result.details[0].fieldsExtracted.idNumber.score,this.blur_score=s.result.details[0].qualityChecks.blur.score,this.glare_score=s.result.details[0].qualityChecks.glare.score,this.photoIdForm.get("mem_name").setValue(s.result.details[0].fieldsExtracted.fullName.value),this.mem_name_conf=s.result.details[0].fieldsExtracted.fullName.score;var c=[],d=!1;""!=this.member_name&&""!=this.ocr_member_name&&0==this.other_traveller&&this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore<75&&(d=!0,c.push("The user's registered Full Name is "+this.member_name+", whereas the Full Name listed on their document is "+this.ocr_member_name+". It's important to verify this information for consistency and accuracy.")),this.blur_score<this.conf&&(c.push("The uploaded photo id is blurred, kindly re check your details before submitting."),d=!0),this.glare_score<this.conf&&(c.push("The uploaded photo id has a visible glare, kindly re check your details before submitting."),d=!0),c.length>0?(this.errorScreen(c,d),d||(this.is_document_uploaded=!0)):(this.is_document_uploaded=!0,this.globalService.showMessage("We've filled out your details. Kindly double-check and you're good to go!")),this.ocr_error=c}},s=>{this.contentUploadModal.dismiss(),0==this.photo_id_detected?this.globalService.showError(s.error.result.error):(this.photoIdForm.get("filled_manually").setValue(!0),this.is_document_uploaded=!0,this.globalService.showError("Photo ID Not Detected. Please fill Photo ID details manually.")),this.photo_id_detected++})})}contentUploading(t,i="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:M,backdropDismiss:!0,mode:"ios",componentProps:{content:t,heading:"Photo ID Details",content_type:i}}),yield this.contentUploadModal.present()})}errorScreen(t,i){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:L,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{ocr_error:t,critical_case:i,button_message:"Photo ID",heading:"Oops!"}}),yield this.contentUploadModal.present(),yield this.contentUploadModal.onDidDismiss().then(o=>{"confirm"==o.data?(this.inputReadOnly=!1,this.photoIdForm.get("filled_manually").setValue(!0),this.is_document_uploaded=!0,this.criticalEvent2.emit(!1),console.log("confirm clicked")):console.log("confirm not clicked")})})}uploadDocuments(){return(0,m.mG)(this,void 0,void 0,function*(){this.contentUploading("Relax! We're securely uploading your photo id to our vault for future reference.","upload");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type",this.photoIdForm.get("category").value),t.append("name",this.photoIdForm.get("category").value),t.append("ocr_error",JSON.stringify(this.ocr_error)),t.append("extracted_json",JSON.stringify(this.extracted_json)),t.append("hit_count",this.hit_count.toString()),t.append("ocr_transaction_id",q()),t.append("file",this.selectedFile),t.append("similarity_score",this.globalService.compareNames(this.ocr_member_name.toLocaleLowerCase(),this.member_name.toLowerCase()).allScore.toFixed(2)),this.formApiService.uploadDocument(t).subscribe(i=>{var o,s;this.contentUploadModal.dismiss(),i.success&&(console.log(null===(o=i.data)||void 0===o?void 0:o.url),this.photoIdForm.get("url").setValue(null===(s=i.data)||void 0===s?void 0:s.url),this.is_document_uploaded=!1,this.photoIdForm.get("is_document_uploaded").setValue("uploaded"),this.submitPhotoIDEvent.emit("submit"))},i=>{this.contentUploadModal.dismiss(),this.globalService.showError(i.error.message)})})}uploadDocumentIfNotUploaded(){1==this.is_document_uploaded&&this.uploadDocuments()}hideField(t){"id_num"==t?this.id_number_conf=void 0:"mem_name"==t&&(this.mem_name_conf=void 0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.U),e.Y36(y.$),e.Y36(l.IN),e.Y36(z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-photo-id"]],viewQuery:function(t,i){if(1&t&&e.Gf(di,7),2&t){let o;e.iGM(o=e.CRH())&&(i.fileInput=o.first)}},inputs:{form_data:"form_data",item:"item"},outputs:{criticalEvent2:"criticalEvent2",photoIdEvent:"photoIdEvent",submitPhotoIDEvent:"submitPhotoIDEvent"},decls:64,vars:37,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],[1,"form-group"],["class","compulsory",4,"ngIf"],["formControlName","category","interface","action-sheet"],["value",""],["value","aadhar-card",4,"ngIf"],["value","pan-card",4,"ngIf"],["value","voter-id",4,"ngIf"],["value","driving-license",4,"ngIf"],[4,"ngFor","ngForOf"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileInput","hidden","","accept","image/png, image/jpg, image/jpeg, application/pdf",3,"change"],["fileInput",""],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],["type","text","formControlName","id_name",3,"readonly"],["type","text","formControlName","id_num",3,"readonly"],["class","error-message conf-error-message",4,"ngIf"],["type","text","formControlName","mem_name",3,"readonly"],["color","danger"],[1,"compulsory"],["value","aadhar-card"],["value","pan-card"],["value","voter-id"],["value","driving-license"],[1,"error-message"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],[1,"error-message",2,"color","black","width","100%"],[1,"error-message","conf-error-message"],["slot","end","color","danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.YNc(1,pi,6,1,"ion-card",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"h2"),e._uU(5),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"div",3)(8,"ion-label"),e._uU(9),e.YNc(10,ui,2,0,"span",4),e.qZA(),e.TgZ(11,"ion-select",5)(12,"ion-select-option",6),e._uU(13,"-- Select --"),e.qZA(),e.YNc(14,_i,2,0,"ion-select-option",7),e.YNc(15,mi,2,0,"ion-select-option",8),e.YNc(16,gi,2,0,"ion-select-option",9),e.YNc(17,hi,2,0,"ion-select-option",10),e.qZA()(),e.YNc(18,vi,2,1,"ng-container",11),e.qZA()(),e.TgZ(19,"ion-card",2)(20,"ion-card-content")(21,"label"),e._uU(22),e.YNc(23,xi,2,0,"span",4),e.qZA(),e.TgZ(24,"ion-row")(25,"ion-col",12),e.YNc(26,bi,5,0,"div",13),e.TgZ(27,"input",14,15),e.NdJ("change",function(s){return i.uploadPhoto(s)}),e.qZA(),e.YNc(29,Fi,1,1,"img",16),e.qZA(),e.TgZ(30,"ion-col",17)(31,"ion-button",18),e.NdJ("click",function(){return i.takePhoto()}),e._uU(32),e.qZA(),e.TgZ(33,"p"),e._uU(34),e.qZA(),e.TgZ(35,"p"),e._uU(36),e.qZA()()(),e.TgZ(37,"ion-row"),e.YNc(38,yi,3,0,"div",19),e.qZA(),e.TgZ(39,"ion-row"),e.YNc(40,Ti,3,1,"div",20),e.qZA()()(),e.TgZ(41,"ion-card",2)(42,"ion-card-content")(43,"div",3)(44,"label"),e._uU(45),e.YNc(46,Zi,2,0,"span",4),e.qZA(),e._UZ(47,"ion-input",21),e.YNc(48,Ci,2,1,"ng-container",11),e.qZA(),e.TgZ(49,"div",3)(50,"label"),e._uU(51),e.YNc(52,ki,2,0,"span",4),e.qZA(),e._UZ(53,"ion-input",22),e.YNc(54,Pi,5,0,"div",23),e.YNc(55,qi,2,1,"ng-container",11),e.qZA(),e.TgZ(56,"div",3)(57,"label"),e._uU(58),e.YNc(59,Ai,2,0,"span",4),e.qZA(),e._UZ(60,"ion-input",24),e.YNc(61,Ni,5,0,"div",23),e.YNc(62,Mi,2,1,"ng-container",11),e.qZA(),e.YNc(63,Ji,2,1,"ng-container",11),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.photoIdForm),e.xp6(1),e.Q6J("ngIf","rejected"==i.document_status),e.xp6(1),e.Q6J("disabled",i.photo_id_status),e.xp6(3),e.Oqu(i.label),e.xp6(4),e.hij("",null==i.attribute_lang?null:i.attribute_lang.type," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(4),e.Q6J("ngIf",i.checkValidation("Adhaar card")||i.checkValidation("Aadhar Card")),e.xp6(1),e.Q6J("ngIf",i.checkValidation("PAN Card")),e.xp6(1),e.Q6J("ngIf",i.checkValidation("Voter ID")),e.xp6(1),e.Q6J("ngIf",i.checkValidation("Driving License")),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.category),e.xp6(1),e.Q6J("disabled",i.photo_id_status),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.select_photo," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(3),e.Q6J("ngIf",!i.imgPath),e.xp6(3),e.Q6J("ngIf",i.imgPath),e.xp6(3),e.Oqu(i.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.size),e.xp6(2),e.Oqu(null==i.attribute_lang?null:i.attribute_lang.format_both),e.xp6(2),e.Q6J("ngIf",void 0===i.selectedFile&&i.uploadSubmit),e.xp6(2),e.Q6J("ngIf",""!=i.uploadPDFFileName),e.xp6(1),e.Q6J("disabled",i.photo_id_status),e.xp6(4),e.hij("",null==i.attribute_lang?null:i.attribute_lang.id_name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.photo_id_status),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.id_name),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.id_num," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.photo_id_status),e.xp6(1),e.Q6J("ngIf",null!=i.id_number_conf&&i.conf>i.id_number_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.id_num),e.xp6(3),e.hij("",null==i.attribute_lang?null:i.attribute_lang.mem_name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("readonly",i.inputReadOnly||i.photo_id_status),e.xp6(1),e.Q6J("ngIf",null!=i.mem_name_conf&&i.conf>i.mem_name_conf),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.mem_name),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.is_document_uploaded))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.pK,l.Q$,l.Nd,l.t9,l.n0,l.QI,l.j9,r.sg,r.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),n})();function Qi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-select-option",14),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("value",i.showOptionsId(t)),e.xp6(1),e.Oqu(i.showOptionsValue(t))}}function Oi(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-select",12),e.NdJ("ionChange",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changeFieldValue(o))}),e.YNc(4,Qi,3,2,"ng-container",13),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2),i=t.$implicit,o=t.index,s=e.oxw();e.xp6(2),e.hij("",s.showItem(i)," "),e.xp6(2),e.Q6J("ngForOf",s.getOptions(o).controls)}}function Si(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"input",15),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Yi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Di(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"textarea",17),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Bi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function Gi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," ")}}function ji(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-file-upload",18),e.NdJ("fileUploadEvent",function(o){e.CHM(t);const s=e.oxw(2).$implicit,c=e.oxw();return e.KtG(c.fileUploadFun(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",i.getFileItem(t))("is_required",i.is_required)}}function $i(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Oi,5,2,"ng-container",11),e.YNc(2,Si,4,1,"ng-container",11),e.YNc(3,Yi,4,1,"ng-container",11),e.YNc(4,Di,4,1,"ng-container",11),e.YNc(5,Bi,4,1,"ng-container",11),e.YNc(6,Gi,4,1,"ng-container",11),e.YNc(7,ji,2,2,"ng-container",11),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf","select"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","date"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","text"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","textarea"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","email"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","phone"==i.getType(t)&&!i.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","image"==i.getType(t)&&!i.isHiddenField(t))}}function Ri(n,a){if(1&n&&(e.ynx(0,9),e.TgZ(1,"div",10),e.YNc(2,$i,8,7,"ng-container",11),e.qZA(),e.BQk()),2&n){const t=a.$implicit,i=a.index,o=e.oxw();e.xp6(1),e.Q6J("formGroupName",i),e.xp6(1),e.Q6J("ngIf","select"==o.getType(t)||"date"==o.getType(t)||"text"==o.getType(t)||"image"==o.getType(t)||"textarea"==o.getType(t))}}function Vi(n,a){1&n&&(e.TgZ(0,"ion-button",19),e._uU(1,"Submit"),e.qZA())}let W=(()=>{class n{constructor(t,i,o,s){this.modalCtrl=t,this.fb=i,this.popoverCtrl=o,this.formApiService=s,this.ques=new r.Oe([]),this.loading=!1}ngOnInit(){this.loadMemberForm(),this.questions=new r.cw({question:new r.Oe([])})}loadMemberForm(){this.loading=!0,this.formApiService.getMemberForm(this.language).subscribe(t=>{this.data=t,this.loading=!1,t.forEach((i,o)=>{var s;this.ques=this.questions.get("question"),this.ques.push(this.createQuestion(i)),null===(s=i?.options)||void 0===s||s.forEach(c=>{this.getOptions(o).push(this.createOption(c))})}),this.validateForm()})}validateForm(){this.questions.value.question.forEach(t=>{JSON.parse(t.conditions)?.forEach(o=>{this.questions.value.question.forEach((s,c)=>{s.code==o.field&&(o.value===t.value&&"=="==o.operator||"||"==o.operator&&o.value.includes(t.value)?this.questionForm().at(c).get("is_hidden").setValue(!1):o.value===t.value&&this.questionForm().at(c).get("is_hidden").setValue(!0))})})})}createQuestion(t){return this.fb.group({code:t.code,is_required:t.is_required,is_hidden:t.is_hidden,name:t.name,placeholder:t.placeholder,type:t.type,value:"Add"==this.method_type?"":this.editItem[t.code],validation:t.validation,conditions:JSON.stringify(t.conditions),options:new r.Oe([])})}createOption(t){return this.fb.group({name:t.name,value:t.value})}getOptions(t){return this.questionForm().at(t).get("options")}questionForm(){return this.questions.get("question")}closeModal(){this.modalCtrl.dismiss({status:"close"})}showValue(t){return t.value.value}formatDate(t,i){Array.isArray(t)&&(t=t[0]);const o=new Date(t);let s=o.getDate().toString();1==s.length&&(s="0"+s);const c=o.getFullYear()+"-"+F.j8[o.getMonth()]+"-"+s;return i.value.value=c,c}closePopup(){this.popoverCtrl.dismiss()}showOptionsValue(t){return t.controls.name.value}showOptionsId(t){return t.controls.value.value}showItem(t){return t.value.name}isHiddenField(t){return t.value.is_hidden}getType(t){return t.value.type}onSubmit(){if(this.questions.valid){var t={};console.log(this.questions.value.question),this.questions.value.question.forEach(i=>{t[i.code]=i.value}),this.modalCtrl.dismiss({member:t,status:"added"})}else this.questions.markAllAsTouched()}fileUploadFun(t,i){i.value.value=t.value}getFileItem(t){return t.value.code=this.attribute_value_id,t.value.traveller_form_id=this.traveller_form_id,t}changeFieldValue(t){this.questions.markAllAsTouched(),JSON.parse(t.value.conditions)?.forEach(o=>{this.questions.value.question.forEach((s,c)=>{s.code==o.field&&(o.value===t.value.value&&"=="==o.operator||"||"==o.operator&&o.value.includes(t.value.value)?this.questionForm().at(c).get("is_hidden").setValue(!1):this.questionForm().at(c).get("is_hidden").setValue(!0))})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.IN),e.Y36(r.qu),e.Y36(l.Dh),e.Y36(y.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-member"]],decls:10,vars:4,consts:[[1,"ion-padding"],[2,"padding","20px","padding-top","0px"],[2,"text-align","right"],["name","close-circle-outline",1,"close-icon",3,"click"],["align","center"],[3,"formGroup","ngSubmit"],["formArrayName","question",4,"ngFor","ngForOf"],[1,"form-group"],["type","submit","class","primary-btn","ion-button","","size","full",4,"ngIf"],["formArrayName","question"],[1,"form-group",3,"formGroupName"],[4,"ngIf"],["formControlName","value","interface","action-sheet",3,"ionChange"],[4,"ngFor","ngForOf"],[3,"value"],["type","date","formControlName","value"],["formControlName","value","type","text"],["formControlName","value"],[3,"item","is_required","fileUploadEvent"],["type","submit","ion-button","","size","full",1,"primary-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-icon",3),e.NdJ("click",function(){return i.closeModal()}),e.qZA()(),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.YNc(7,Ri,3,2,"ng-container",6),e.TgZ(8,"div",7),e.YNc(9,Vi,2,0,"ion-button",8),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu("Add"==i.method_type?"Add Secondary":"Edit Secondary"),e.xp6(1),e.Q6J("formGroup",i.questions),e.xp6(1),e.Q6J("ngForOf",i.questionForm().controls),e.xp6(2),e.Q6J("ngIf",!i.loading))},dependencies:[p.sg,p.O5,r._Y,r.Fj,r.JJ,r.JL,l.YG,l.W2,l.gu,l.pK,l.Q$,l.t9,l.n0,l.QI,l.j9,r.sg,r.u,r.x0,r.CE,O],styles:["ion-item[_ngcontent-%COMP%]::part(native){border:1px #888888 solid;border-width:1px;padding:0 0 0 5px;border-radius:5px}ion-item[_ngcontent-%COMP%]{margin-bottom:10px;border-bottom:0px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:5px}.close-icon[_ngcontent-%COMP%]{font-size:20px;margin-top:10px}h5[_ngcontent-%COMP%]{margin-top:0;padding-top:0;color:#00008b}ion-content[_ngcontent-%COMP%]{min-height:100%}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;padding:0 10px!important;min-height:50px}.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-card[_ngcontent-%COMP%]{margin:0}ion-content[_ngcontent-%COMP%]{--background: #fff !important}ion-popover[_ngcontent-%COMP%]{--width: 300px}ion-datetime[_ngcontent-%COMP%]{background:#fff;--background: #fff}"]}),n})();function Hi(n,a){if(1&n&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2,"Corporate Paid Nominations"),e.qZA(),e.TgZ(3,"ion-badge",3),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.corporate_member_allowed)}}function Li(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.$implicit,c=o.index,d=e.oxw();return e.KtG(d.editMember(s,c))}),e._uU(1,"Edit"),e.qZA()}}function zi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,s=e.oxw();return e.KtG(s.removeRecord(o))}),e._UZ(1,"ion-icon",11),e.qZA()}}function Ki(n,a){if(1&n&&(e.TgZ(0,"ion-card",4)(1,"ion-card-content")(2,"ion-row")(3,"ion-col",5)(4,"div",6)(5,"b"),e._uU(6,"Name"),e.qZA(),e._uU(7),e.qZA()(),e.TgZ(8,"ion-col",5)(9,"div",6)(10,"b"),e._uU(11,"Relation"),e.qZA(),e._uU(12),e.qZA()()(),e.TgZ(13,"ion-row"),e.YNc(14,Li,2,0,"ion-button",7),e._uU(15,"\xa0 "),e.YNc(16,zi,2,0,"ion-button",8),e.qZA()()()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(7),e.hij(": ",t.name,""),e.xp6(5),e.hij(": ",t.relation,""),e.xp6(2),e.Q6J("ngIf",0==i.form_data.secondary_members.length),e.xp6(2),e.Q6J("ngIf",0==i.form_data.secondary_members.length)}}function Xi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMember())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij("Add ",t.corporate_member_allowed-t.values.length," Nomination")}}function Wi(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Xi,2,1,"ion-button",12),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.checkMemberButton())}}function en(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMember())}),e._uU(1,"Add Self Paid Traveller"),e.qZA()}}function tn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,en,2,0,"ion-button",12),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.checkMemberButton())}}let nn=(()=>{class n{constructor(t){this.modalController=t,this.memberEvent=new e.vpe,this.button_name="Loading...",this.values=[],this.disabledAddMemberButton=!1}ngOnInit(){var t,i;this.corporate_member_allowed=Number(this.form_data.total_corporate_paid_nominations_allowed),this.self_paid_member_allowed=Number(this.form_data.total_self_paid_nominations_allowed),this.button_name=this.item.value.name,null!=this.form_data.secondary_members&&(null===(t=this.form_data.secondary_members)||void 0===t?void 0:t.length)>0&&(this.values=null!==(i=this.form_data.secondary_members)&&void 0!==i?i:[])}checkMemberButton(){return this.values.length<=this.corporate_member_allowed+this.self_paid_member_allowed}addMember(){return(0,m.mG)(this,void 0,void 0,function*(){this.createMember=yield this.modalController.create({component:W,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{heading:"Form Submitted",language:this.lang,method_type:"Add",attribute_value_id:this.item.value.code,traveller_form_id:this.item.value.traveller_form_id}}),yield this.createMember.present(),yield this.createMember.onDidDismiss().then(t=>{"added"==t.data.status&&this.values.push(t.data.member),this.memberEvent.emit(this.values)})})}editMember(t,i){return(0,m.mG)(this,void 0,void 0,function*(){this.createMember=yield this.modalController.create({component:W,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{heading:"Form Submitted",language:this.lang,method_type:"Edit",editItem:t,is_required:!0,attribute_value_id:this.item.value.attribute_value_id}}),yield this.createMember.present(),yield this.createMember.onDidDismiss().then(o=>{var s;"added"==(null===(s=o?.data)||void 0===s?void 0:s.status)&&this.values.splice(i,1,o.data.member),this.memberEvent.emit(this.values)})})}removeRecord(t){this.values.splice(t,1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-member"]],inputs:{lang:"lang",item:"item",form_data:"form_data"},outputs:{memberEvent:"memberEvent"},decls:6,vars:4,consts:[[2,"text-align","center"],[4,"ngIf"],["style","border-radius: 15px;",4,"ngFor","ngForOf"],["color","success"],[2,"border-radius","15px"],["size","6"],[2,"text-align","left","font-size","20px"],["ion-button","","class","primary-btn-sm2",3,"click",4,"ngIf"],["ion-button","","color","danger","size","small","style","margin: 0px;",3,"click",4,"ngIf"],["ion-button","",1,"primary-btn-sm2",3,"click"],["ion-button","","color","danger","size","small",2,"margin","0px",3,"click"],["name","trash","aria-label","Favorite"],["type","button","ion-button","","class","add-member-button",3,"click",4,"ngIf"],["type","button","ion-button","",1,"add-member-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ion-list"),e.YNc(2,Hi,5,1,"ion-item",1),e.qZA(),e.YNc(3,Ki,17,4,"ion-card",2),e.YNc(4,Wi,2,1,"ng-container",1),e.YNc(5,tn,2,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",i.values.length<i.corporate_member_allowed),e.xp6(1),e.Q6J("ngForOf",i.values),e.xp6(1),e.Q6J("ngIf",i.values.length<i.corporate_member_allowed),e.xp6(1),e.Q6J("ngIf",i.values.length>=i.corporate_member_allowed&&i.values.length<i.corporate_member_allowed+i.self_paid_member_allowed))},dependencies:[p.sg,p.O5,l.yp,l.YG,l.PM,l.FN,l.wI,l.gu,l.Ie,l.Q$,l.q_,l.Nd],styles:[".add-member-button[_ngcontent-%COMP%]{height:60px}.add-member-button[_ngcontent-%COMP%]::part(native){--background: #bde0fe;color:#000;border:1px blue dashed;padding:20px 40px}"]}),n})();var on=h(3646);function an(n,a){1&n&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function sn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getSelectedHobbies())}),e._UZ(1,"ion-checkbox",5),e.TgZ(2,"ion-label"),e._uU(3),e.qZA()()}if(2&n){const t=a.index,i=e.oxw();e.Q6J("disabled",i.checkbox_status),e.xp6(1),e.Q6J("formControlName",t),e.xp6(2),e.hij("\xa0\xa0",i.item.value.options[t].name,"")}}let rn=(()=>{class n{constructor(t){this.fb=t,this.checkboxEvent=new e.vpe,this.attribute_lang={},this.hobbies=this.fb.array([]),this.selectedValues=[],this.checkbox_status=!1,this.validationMessages={checkbox:[{type:"required",message:"Address is required"}]}}ngOnInit(){var t,i;console.log(this.item.value),this.checkboxForm=this.fb.group({checkboxs:this.fb.array([])}),!(null===(t=this.item.value.value)||void 0===t)&&t.split(",")&&(this.selectedValues=null===(i=this.item.value.value)||void 0===i?void 0:i.split(",")),console.log(this.selectedValues),this.hobbies=this.checkboxForm.get("checkboxs"),this.item.value.options.forEach(o=>{let s=!1;this.selectedValues.length>0&&this.selectedValues.includes(o.id.toString())&&(s=!0),this.hobbies.push(this.fb.control(s))}),this.checkbox_status=this.item.value.is_locked}getCheckboxForm(){return this.checkboxForm.get("checkboxs")}getSelectedHobbies(){this.selectedValues=[],this.hobbies.controls.filter((i,o)=>{1==i.value&&this.item.value.options.forEach((s,c)=>{o==c&&this.selectedValues.push(s.id)})}),this.checkboxEvent.emit(JSON.stringify(this.selectedValues))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-checkbox"]],inputs:{item:"item",isRequired:"isRequired"},outputs:{checkboxEvent:"checkboxEvent"},decls:7,vars:4,consts:[[3,"formGroup"],["class","compulsory",4,"ngIf"],["formArrayName","checkboxs",3,"disabled","click",4,"ngFor","ngForOf"],[1,"compulsory"],["formArrayName","checkboxs",3,"disabled","click"],[3,"formControlName"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"ion-card")(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,an,2,0,"span",1),e.qZA(),e.YNc(6,sn,4,3,"ion-item",2),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.checkboxForm),e.xp6(4),e.hij("",null==i.item?null:i.item.value.name," "),e.xp6(1),e.Q6J("ngIf",i.item.value.is_required),e.xp6(1),e.Q6J("ngForOf",i.getCheckboxForm().controls))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,l.PM,l.FN,l.nz,l.Ie,l.Q$,l.w,r.sg,r.u,r.CE],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-checkbox[_ngcontent-%COMP%]{--size: 25px;--background-checked: var(--button-bgcolor)}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #ddd}"]}),n})();const ln=["content"],cn=["segment"];function dn(n,a){if(1&n&&(e.TgZ(0,"ion-segment-button",15)(1,"ion-label"),e._uU(2),e.qZA()()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(2),e.hij(" ",i.step_names[i.temp_steps[t]],"")}}function pn(n,a){1&n&&(e.TgZ(0,"ion-card",16)(1,"ion-card-content"),e._uU(2," You have already submitted the form. Yo won\u2019t be able to make any changes "),e.qZA()())}function un(n,a){1&n&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function _n(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-select-option",15),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("value",i.showOptionsId(t)),e.xp6(1),e.hij("",i.showOptionsValue(t)," ")}}function mn(n,a){1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function gn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,un,2,0,"span",20),e.qZA(),e.TgZ(4,"ion-select",21),e.YNc(5,_n,3,2,"ng-container",12),e.qZA(),e.YNc(6,mn,3,0,"div",22),e.BQk()),2&n){const t=e.oxw(2),i=t.$implicit,o=t.index,s=e.oxw();e.xp6(2),e.hij("",s.showItem(i)," "),e.xp6(1),e.Q6J("ngIf",s.getIsRequired(i)),e.xp6(1),e.Q6J("multiple","multiselect"==s.getType(i)),e.xp6(1),e.Q6J("ngForOf",s.getOptions(o).controls),e.xp6(1),e.Q6J("ngIf",s.checkRequired(i))}}function hn(n,a){1&n&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function fn(n,a){1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function vn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,hn,2,0,"span",20),e.qZA(),e._UZ(4,"input",25),e.YNc(5,fn,3,0,"div",22),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t))}}function xn(n,a){1&n&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function bn(n,a){1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Fn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,xn,2,0,"span",20),e.qZA(),e._UZ(4,"input",26),e.YNc(5,bn,3,0,"div",22),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t))}}function yn(n,a){1&n&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function Tn(n,a){1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Zn(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.getValidationMessage(t)," ")}}function In(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Cn(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function kn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,yn,2,0,"span",20),e.qZA(),e._UZ(4,"ion-input",27),e.YNc(5,Tn,3,0,"div",22),e.YNc(6,Zn,3,1,"div",22),e.YNc(7,In,3,1,"div",22),e.YNc(8,Cn,3,1,"div",22),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",i.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",i.checkMin(t)),e.xp6(1),e.Q6J("ngIf",i.checkMax(t))}}function Pn(n,a){1&n&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function wn(n,a){1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function qn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-item",28),e._uU(2),e.YNc(3,Pn,2,0,"span",20),e._UZ(4,"ion-toggle",29),e.qZA(),e.YNc(5,wn,3,0,"div",22),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij(" ",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(1),e.Q6J("enableOnOffLabels",!0),e.xp6(1),e.Q6J("ngIf",i.checkRequired(t))}}function An(n,a){1&n&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function Nn(n,a){1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Un(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.getValidationMessage(t)," ")}}function Mn(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function En(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Jn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,An,2,0,"span",20),e.qZA(),e._UZ(4,"ion-textarea",30),e.YNc(5,Nn,3,0,"div",22),e.YNc(6,Un,3,1,"div",22),e.YNc(7,Mn,3,1,"div",22),e.YNc(8,En,3,1,"div",22),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.showItem(t)),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",i.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",i.checkMin(t)),e.xp6(1),e.Q6J("ngIf",i.checkMax(t))}}function Qn(n,a){1&n&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function On(n,a){1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Sn(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.getValidationMessage(t)," ")}}function Yn(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Dn(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.getValidationMessage(t))}}function Bn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,Qn,2,0,"span",20),e.qZA(),e._UZ(4,"ion-input",31),e.YNc(5,On,3,0,"div",22),e.YNc(6,Sn,3,1,"div",22),e.YNc(7,Yn,3,1,"div",22),e.YNc(8,Dn,3,1,"div",22),e.BQk()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.hij("",i.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",i.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",i.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",i.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",i.checkMin(t)),e.xp6(1),e.Q6J("ngIf",i.checkMax(t))}}function Gn(n,a){1&n&&(e.TgZ(0,"span",23),e._uU(1,"*"),e.qZA())}function jn(n,a){if(1&n&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-radio",33),e.qZA()),2&n){const t=a.$implicit,i=e.oxw(4);e.xp6(2),e.Oqu(i.showOptionsValue(t)),e.xp6(1),e.Q6J("value",i.showOptionsId(t))}}function $n(n,a){1&n&&(e.TgZ(0,"div",24)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Rn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,Gn,2,0,"span",20),e.qZA(),e.TgZ(4,"ion-radio-group",32),e.YNc(5,jn,4,2,"ion-item",12),e.qZA(),e.YNc(6,$n,3,0,"div",22),e.BQk()),2&n){const t=e.oxw(2),i=t.$implicit,o=t.index,s=e.oxw();e.xp6(2),e.hij("",s.showItem(i)," "),e.xp6(1),e.Q6J("ngIf",s.getIsRequired(i)),e.xp6(2),e.Q6J("ngForOf",s.getOptions(o).controls),e.xp6(1),e.Q6J("ngIf",s.checkRequired(i))}}function Vn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-card",19)(2,"ion-card-content"),e.YNc(3,gn,7,5,"ng-container",10),e.YNc(4,vn,6,3,"ng-container",10),e.YNc(5,Fn,6,3,"ng-container",10),e.YNc(6,kn,9,6,"ng-container",10),e.YNc(7,qn,6,4,"ng-container",10),e.YNc(8,Jn,9,6,"ng-container",10),e.YNc(9,Bn,9,6,"ng-container",10),e.YNc(10,Rn,7,4,"ng-container",10),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("disabled",i.getStatus(t)),e.xp6(2),e.Q6J("ngIf","select"==i.getType(t)||"multiselect"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","date"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","datetime"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","text"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","boolean"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","textarea"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","price"==i.getType(t)),e.xp6(1),e.Q6J("ngIf","radio"==i.getType(t))}}function Hn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-input-phone",34),e.NdJ("inputPhoneEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.inputPhoneFun(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Ln(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-input-email",35),e.NdJ("inputEmailEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.inputEmailFun(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function zn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-lookup",36),e.NdJ("lookupEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.lookupFun(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Kn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-checkbox",37),e.NdJ("checkboxEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.checkboxFun(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Xn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-file-upload",38),e.NdJ("fileUploadEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.fileUploadFun(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Wn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-image-upload",39),e.NdJ("imageUploadEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.imageUploadEvent(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function eo(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-address",40),e.NdJ("addressEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.addressFun(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("isRequired",i.getIsRequired(t))}}function to(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-photo-id",41),e.NdJ("criticalEvent",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.criticalFun(o))})("photoIdEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.photoIdFun(o,s))})("submitPhotoIDEvent",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.submitButtonEvent())})("scrollEvent",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.scrollScreen(o))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("form_data",i.form_data)}}function io(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-passport",42),e.NdJ("criticalEvent",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.criticalFun(o))})("passportEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.passportFun(o,s))})("scrollEvent",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.scrollScreen(o))})("submitPassportEvent",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.submitButtonEvent())}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("form_data",i.form_data)}}function no(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-member",43),e.NdJ("memberEvent",function(o){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.memberEvent(o,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("lang",i.lang)("form_data",i.form_data)}}function oo(n,a){if(1&n&&(e.ynx(0,17),e.TgZ(1,"div",18),e.YNc(2,Vn,11,9,"ng-container",10),e.YNc(3,Hn,2,1,"ng-container",10),e.YNc(4,Ln,2,1,"ng-container",10),e.YNc(5,zn,2,1,"ng-container",10),e.YNc(6,Kn,2,1,"ng-container",10),e.YNc(7,Xn,2,1,"ng-container",10),e.YNc(8,Wn,2,1,"ng-container",10),e.YNc(9,eo,2,2,"ng-container",10),e.YNc(10,to,2,2,"ng-container",10),e.YNc(11,io,2,2,"ng-container",10),e.YNc(12,no,2,3,"ng-container",10),e.qZA(),e.BQk()),2&n){const t=a.$implicit,i=a.index,o=e.oxw();e.xp6(1),e.Q6J("formGroupName",i),e.xp6(1),e.Q6J("ngIf","radio"==o.getType(t)||"price"==o.getType(t)||"select"==o.getType(t)||"multiselect"==o.getType(t)||"date"==o.getType(t)||"datetime"==o.getType(t)||"text"==o.getType(t)||"textarea"==o.getType(t)||"boolean"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","phone"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","email"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","lookup"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","checkbox"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","file"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","image"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","address"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","photo_id"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","passport"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","add_member"==o.getType(t))}}function ao(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content"),e._UZ(2,"div",44)(3,"br"),e.TgZ(4,"div")(5,"ion-checkbox",45),e.NdJ("ionChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.termsChkBoxEvent())}),e.qZA(),e.TgZ(6,"ion-label"),e._uU(7,"\xa0\xa0I do hereby declare that all the above information given by me are true to the best of my knowledge and belief."),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("innerHTML",t.footerText,e.oJD),e.xp6(3),e.Q6J("checked",t.isTerms)}}function so(n,a){1&n&&(e.TgZ(0,"div",46),e._UZ(1,"img",47),e.qZA())}function ro(n,a){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function lo(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p")(2,"span",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.moveToStep(o))}),e._uU(3),e.qZA(),e._uU(4,": "),e.qZA(),e.TgZ(5,"ul",49),e.YNc(6,ro,2,1,"li",12),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(3),e.Oqu(i.step_names[i.temp_steps[t]]),e.xp6(3),e.Q6J("ngForOf",i.getErrors(t))}}function co(n,a){if(1&n&&(e.ynx(0),e.YNc(1,lo,7,2,"ng-container",10),e.BQk()),2&n){const t=a.$implicit,i=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",(null==(o=i.getErrors(t))?null:o.length)>0)}}function po(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goToNext())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.currentStep==t.total_steps?"Close":"Next")}}function uo(n,a){if(1&n&&(e.TgZ(0,"ion-button",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("disabled",t.criticalError),e.xp6(1),e.Oqu(t.total_steps==t.currentStep?"Complete":"Save & Next")}}const _o=[{path:"",component:(()=>{class n{constructor(t,i,o,s,c,d,u,_,g){this.formApiService=t,this.activateRoute=i,this.fb=o,this.alertCtrl=s,this.globalService=c,this.navController=d,this.location=u,this.popoverCtrl=_,this.modalController=g,this.loading=!1,this.ques=new r.Oe([]),this.form_name="",this.footerText="",this.isTerms=!1,this.slides=[],this.isBeginning=!0,this.isEnd=!1,this.times=[],this.currentStep=0,this.formCurrentStep=0,this.total_steps=1,this.step_names={},this.temp_steps=[],this.lang="en",this.errors=[],this.allErrors=[],this.criticalError=!1,this.buttonBgColor="#3880ff",this.bgColor="#e5edfb",this.form_status="",this.step="",this.group_form={},this.id=this.activateRoute.snapshot.params.id,this.lang=this.activateRoute.snapshot.params.lang,this.step=this.activateRoute.snapshot.params.step}ngOnInit(){this.questions=new r.cw({question:new r.Oe([])}),this.getSingleForm(this.step),this.currentStep=0}change(){this.currentSlide=this.slides[1]}getSingleForm(t){return(0,m.mG)(this,void 0,void 0,function*(){this.currentStep!=t&&0==this.loading&&(yield ie.A.getLanguageCode(),this.questions.reset(),this.ques.reset(),this.loading=!0,this.formApiService.getSingleForm(this.id,t,this.lang).subscribe(o=>{var s,c,d,u,_;if(this.loading=!1,0==this.slides.length){this.total_steps=(null===(s=o?.data)||void 0===s?void 0:s.total_steps)-1,this.step_names=null===(c=o?.data)||void 0===c?void 0:c.step_names,this.temp_steps=Object.keys(null===(d=o?.data)||void 0===d?void 0:d.step_names);for(var g=0;g<this.temp_steps.length;g++)this.slides.push(g)}this.group_form=o.data.group_form,this.buttonBgColor=o.data.group_form.form_submit_button_color,this.bgColor=o.data.group_form.background_color,document.documentElement.style.setProperty("--button-bgcolor",this.buttonBgColor);const x=localStorage.getItem("selected_language_"+this.id)||"";this.footerText=o.data.group_form.footer[x],this.form_status=o.data.form_status,this.isTerms="started"!=this.form_status,this.form_data=o.data,this.formCurrentStep=o.data.max_step_reached,this.form_name=null===(_=null===(u=o?.data)||void 0===u?void 0:u.group_form)||void 0===_?void 0:_.form_name,o.data.attributes.forEach((f,b)=>{var Z;this.ques=this.questions.get("question"),this.ques.push(this.createQuestion(f)),null===(Z=f.attribute.options)||void 0===Z||Z.forEach(A=>{this.getOptions(b).push(this.createOption(A))})})}))})}goToNext(){this.currentStep==this.total_steps?this.navController.navigateRoot(["/"]):this.changeStep(this.currentStep)}clearFormArray(t){for(;0!==t.length;)t.removeAt(0)}questionForm(){return this.questions.get("question")}createQuestion(t){"passport"==t.attribute.type&&this.globalService.passportFilesEvent.next(t.files),"photo_id"==t.attribute.type&&this.globalService.photoIdFilesEvent.next(t.files),"file"==t.attribute.type&&this.globalService.fileUploadEvent.next(t.files),"image"==t.attribute.type&&this.globalService.imageUploadEvent2.next(t.files);var i=[],o="";t.attribute.is_required&&this.checkFile(t.attribute.type)&&i.push(r.kI.required),"alpha"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.pattern("^[a-zA-Z ]*$")),o="Alpha Characters Only"):"alpha_dash"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.pattern("^[a-zA-Z-]+$")),o="Alpha-Dash Characters Only"):"min"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.minLength(5)),o="Minimum Length (5 characters)"):"max"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.maxLength(20)),o="Maximum Length (20 characters)"):"between"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.maxLength(10)),o="Between (1 and 10)"):"alpha_num"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.pattern("^[a-zA-Z0-9]+$")),o="Alpha-Numeric"):"pan_card"==t.attribute.validation&&this.checkFile(t.attribute.type)?(i.push(r.kI.pattern("^[A-Z]{5}[0-9]{4}[A-Z]$")),o="PAN Number"):"decimal"==t.attribute.validation&&this.checkFile(t.attribute.type)&&(i.push(r.kI.pattern(/^\d+(\.\d{0,2})?$/)),o="Decimal");let s=t.value;return("email"==t.attribute.type||"phone"==t.attribute.type)&&""==s?.label&&(s.label="work"),this.fb.group({name:t.attribute.name,type:t.attribute.type,id:t.attribute.id,value:["add_member"==t.attribute.type?"":s,i],code:t.attribute.code,attribute_value_id:t.attribute_value_id,placeHolder:t.attribute.placeHolder,is_required:t.attribute.is_required,lookup_type:t.attribute.lookup_type,attribute_lang:t.attribute.attribute_lang,options:new r.Oe([]),files:t.attribute.files,is_locked:t?.is_locked,validation:t.attribute.validation,validation_message:o,traveller_form_id:this.id,ocr_enabled:t.attribute.ocr_enabled,other_traveller:t.attribute.other_traveller,requires_scanned_copy:t.attribute.requires_scanned_copy})}checkFile(t){return"file"!=t&&"phone"!=t&&"email"!=t&&"image"!=t&&"address"!=t&&"photo_id"!=t&&"passport"!=t&&"add_member"!=t&&"checkbox"!=t&&"lookup"!=t}getOptions(t){return this.questionForm().at(t).get("options")}createOption(t){return this.fb.group({id:t.id,name:t.name})}showItem(t){return t.value.name}showValue(t){return t.value.value}showOptionsValue(t){return t.controls.name.value}showOptionsId(t){return t.controls.id.value}getType(t){return t.value.type}getName(t){return t.value.name}getStatus(t){return t.value.is_locked}checkRequired(t){var i,o,s;return null===(s=null===(o=null===(i=t.controls)||void 0===i?void 0:i.value)||void 0===o?void 0:o.errors)||void 0===s?void 0:s.required}checkPattern(t){var i,o,s;return null===(s=null===(o=null===(i=t.controls)||void 0===i?void 0:i.value)||void 0===o?void 0:o.errors)||void 0===s?void 0:s.pattern}checkMin(t){var i,o,s;return null===(s=null===(o=null===(i=t.controls)||void 0===i?void 0:i.value)||void 0===o?void 0:o.errors)||void 0===s?void 0:s.minlength}checkMax(t){var i,o,s;return null===(s=null===(o=null===(i=t.controls)||void 0===i?void 0:i.value)||void 0===o?void 0:o.errors)||void 0===s?void 0:s.maxlength}getIsRequired(t){return t.value.is_required}getValidation(t){return t.value.validation}getValidationMessage(t){return t.value.validation_message}getControlId(t){return t.controls.id.value}addressFun(t,i){i.value.value=t}onSubmit(){var t,i,o,s,c,d,u,_,g,x;this.errors=[],this.allErrors=[];let f={};!(null===(t=this.passportComponent)||void 0===t)&&t.passportForm&&this.passportComponent.uploadDocumentIfNotUploaded(),!(null===(i=this.photoIdComponent)||void 0===i)&&i.photoIdForm&&this.photoIdComponent.uploadDocumentIfNotUploaded(),null===(o=this.photoIdComponent)||void 0===o||!o.photoIdForm||this.photoIdComponent.photoIdForm.valid?null===(s=this.passportComponent)||void 0===s||!s.passportForm||this.passportComponent.passportForm.valid?null===(c=this.addressComponent)||void 0===c||!c.addressForm||this.addressComponent.addressForm.valid?null===(d=this.fileUploadComponent)||void 0===d||!d.fileUploadForm||this.fileUploadComponent.fileUploadForm.valid?null===(u=this.lookupComponent)||void 0===u||!u.lookupForm||this.lookupComponent.lookupForm.valid?null===(_=this.imageUploadComponent)||void 0===_||!_.imageUploadForm||this.imageUploadComponent.imageUploadForm.valid?null===(g=this.inputEmailComponent)||void 0===g||!g.inputEmailForm||this.inputEmailComponent.inputEmailForm.valid?null===(x=this.inputPhoneComponent)||void 0===x||!x.inputPhoneForm||this.inputPhoneComponent.inputPhoneForm.valid?this.questionForm().valid?(this.questions.value.question.forEach(b=>{f[b.code]=this.isJSON(b.value)}),this.currentStep!=this.total_steps||0!=this.isTerms?(f.save="save",this.globalService.presentLoading(),this.formApiService.updateForms(f,this.id,this.temp_steps[this.currentStep]).subscribe(b=>{this.currentStep==this.total_steps?this.finalSave(b):this.changeStep(this.formCurrentStep!=this.temp_steps[this.total_steps-1]?this.currentStep:this.total_steps-1)},b=>{this.errors=b.error.data.errors[this.temp_steps[this.currentStep]],this.allErrors=b.error.data.errors})):this.globalService.showMessage("Please agree on the acknowledgement")):this.questionForm().markAllAsTouched():this.inputPhoneComponent.inputPhoneForm.markAllAsTouched():this.inputEmailComponent.inputEmailForm.markAllAsTouched():this.imageUploadComponent.imageUploadForm.markAllAsTouched():this.lookupComponent.lookupForm.markAllAsTouched():this.fileUploadComponent.fileUploadForm.markAllAsTouched():this.addressComponent.addressForm.markAllAsTouched():this.passportComponent.passportForm.markAllAsTouched():this.photoIdComponent.photoIdForm.markAllAsTouched()}getErrors(t){return this.allErrors[this.temp_steps[t]]}finalSave(t){let i={};t.data[0].attributes.forEach(o=>{o.value&&(i[o.attribute.code]=this.isJSON(o.value))}),i.save="final_save",this.formApiService.updateForms(i,this.id,this.temp_steps[this.currentStep]).subscribe(o=>{this.contentUploading()},o=>{console.log(this.temp_steps[this.currentStep]),this.errors=o.error.data.errors[this.temp_steps[this.currentStep]],this.allErrors=o.error.data.errors})}isJSON(t){try{return JSON.parse(t)}catch{return t}}segmentChanged(t){this.criticalError=!1,this.clearFormArray(this.questionForm()),this.getSingleForm(this.temp_steps[Number(t.target.value)]),this.currentStep=Number(t.target.value)}changeStep(t){this.errors=[];const i=++t;this.clearFormArray(this.questionForm()),this.segment.value=i.toString()}moveToStep(t){this.errors=[];const i=t;this.clearFormArray(this.questionForm()),this.segment.value=i.toString()}passportFun(t,i){i.value.value=t}criticalFun(t){this.criticalError=1==t}photoIdFun(t,i){i.value.value=t}fileUploadFun(t,i){i.value.value=t.value}imageUploadEvent(t,i){i.value.value=t.value}checkboxFun(t,i){i.value.value=t}lookupFun(t,i){i.value.value=t}inputEmailFun(t,i){console.log(t),i.value.value=t}inputPhoneFun(t,i){console.log(t),i.value.value=t}memberEvent(t,i){i.value.value=t}exitPage(){this.navController.pop()}back(){this.location.back()}scrollScreen(t){console.log("called fun"),this.content.scrollToBottom(1300)}contentUploading(t="scan"){return(0,m.mG)(this,void 0,void 0,function*(){this.globalService.completeFormEvent.next("update"),this.formSuccess=yield this.modalController.create({component:$e,backdropDismiss:!0,mode:"ios",componentProps:{heading:"Form Submitted",group_form:this.group_form,content_type:t}}),yield this.formSuccess.present()})}formatDate(t,i){Array.isArray(t)&&(t=t[0]);const o=new Date(t);let s=o.getDate().toString();1==s.length&&(s="0"+s);const c=o.getFullYear()+"-"+F.j8[o.getMonth()]+"-"+s;return i.value.value=c,c}formatDate2(t,i){Array.isArray(t)&&(t=t[0]);const o=new Date(t);let s=o.getDate().toString();1==s.length&&(s="0"+s);let c=o.getHours().toString();1==c.length&&(c="0"+c);let d=o.getMinutes().toString();1==d.length&&(d="0"+d);let u=o.getSeconds().toString();1==u.length&&(u="0"+u);const _=o.getFullYear()+"-"+F.j8[o.getMonth()]+"-"+s+" "+c+":"+d+":"+u;return i.value.value=_,_}closePopup(){this.popoverCtrl.dismiss()}termsChkBoxEvent(){this.isTerms=!this.isTerms}submitButtonEvent(){setTimeout(()=>{this.onSubmit()},1e3)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.$),e.Y36(C.gz),e.Y36(r.qu),e.Y36(l.Br),e.Y36(w.U),e.Y36(l.SH),e.Y36(p.Ye),e.Y36(l.Dh),e.Y36(l.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-fill-form"]],viewQuery:function(t,i){if(1&t&&(e.Gf(K,5),e.Gf(X,5),e.Gf(j,5),e.Gf(O,5),e.Gf(H,5),e.Gf($,5),e.Gf(R,5),e.Gf(V,5),e.Gf(ln,5),e.Gf(cn,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.passportComponent=o.first),e.iGM(o=e.CRH())&&(i.photoIdComponent=o.first),e.iGM(o=e.CRH())&&(i.addressComponent=o.first),e.iGM(o=e.CRH())&&(i.fileUploadComponent=o.first),e.iGM(o=e.CRH())&&(i.lookupComponent=o.first),e.iGM(o=e.CRH())&&(i.imageUploadComponent=o.first),e.iGM(o=e.CRH())&&(i.inputEmailComponent=o.first),e.iGM(o=e.CRH())&&(i.inputPhoneComponent=o.first),e.iGM(o=e.CRH())&&(i.content=o.first),e.iGM(o=e.CRH())&&(i.segment=o.first)}},decls:28,vars:10,consts:[["content",""],[1,"box-form"],["size-xs","12","size-md","3"],["mode","android","value","0","scrollable","",3,"ionChange"],["segment",""],[3,"value",4,"ngFor","ngForOf"],["size-xs","12","size-md","9"],[3,"formGroup","ngSubmit"],["color","danger",4,"ngIf"],["formArrayName","question",4,"ngFor","ngForOf"],[4,"ngIf"],["style","text-align: center",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","class","primary-btn","ion-button","","size","full",3,"click",4,"ngIf"],["type","submit","class","primary-btn","ion-button","","size","full",3,"disabled",4,"ngIf"],[3,"value"],["color","danger"],["formArrayName","question"],[1,"form-group",3,"formGroupName"],[3,"disabled"],["class","compulsory",4,"ngIf"],["formControlName","value",3,"multiple"],["class","error-message",4,"ngIf"],[1,"compulsory"],[1,"error-message"],["type","date","formControlName","value"],["type","datetime-local","formControlName","value"],["formControlName","value","type","text"],["text-wrap","","lines","none"],["slot","end","formControlName","value",1,"custom-spacing",3,"enableOnOffLabels"],["formControlName","value"],["formControlName","value","type","number"],["formControlName","value","v-model","accept"],["slot","start",3,"value"],[3,"item","inputPhoneEvent"],[3,"item","inputEmailEvent"],[3,"item","lookupEvent"],[3,"item","checkboxEvent"],[3,"item","fileUploadEvent"],[3,"item","imageUploadEvent"],[3,"item","isRequired","addressEvent"],[3,"item","form_data","criticalEvent","photoIdEvent","submitPhotoIDEvent","scrollEvent"],[3,"item","form_data","criticalEvent","passportEvent","scrollEvent","submitPassportEvent"],[3,"item","lang","form_data","memberEvent"],[3,"innerHTML"],[3,"checked","ionChange"],[2,"text-align","center"],["src","assets/images/loading.gif","width","300px"],[2,"color","blue","text-decoration","underline",3,"click"],[2,"color","red"],["type","button","ion-button","","size","full",1,"primary-btn",3,"click"],["type","submit","ion-button","","size","full",1,"primary-btn",3,"disabled"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",null,0)(2,"div",1),e._UZ(3,"app-header"),e.TgZ(4,"ion-grid")(5,"ion-row")(6,"ion-col",2)(7,"ion-card")(8,"ion-card-content")(9,"ion-segment",3,4),e.NdJ("ionChange",function(s){return i.segmentChanged(s)}),e.YNc(11,dn,3,2,"ion-segment-button",5),e.qZA()()()(),e.TgZ(12,"ion-col",6)(13,"ion-card")(14,"ion-card-content")(15,"ion-row")(16,"ion-col")(17,"h1"),e._uU(18),e.qZA()()(),e._UZ(19,"hr"),e.TgZ(20,"form",7),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.YNc(21,pn,3,0,"ion-card",8),e.YNc(22,oo,13,12,"ng-container",9),e.YNc(23,ao,8,2,"ion-card",10),e.YNc(24,so,2,0,"div",11),e.YNc(25,co,2,1,"ng-container",12),e.YNc(26,po,2,1,"ion-button",13),e.YNc(27,uo,2,2,"ion-button",14),e.qZA()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("ngForOf",i.slides),e.xp6(7),e.Oqu(i.form_name),e.xp6(2),e.Q6J("formGroup",i.questions),e.xp6(1),e.Q6J("ngIf",!i.loading&&"completed"==i.form_status),e.xp6(1),e.Q6J("ngForOf",i.questionForm().controls),e.xp6(1),e.Q6J("ngIf",!i.loading&&i.total_steps==i.currentStep),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngForOf",i.slides),e.xp6(1),e.Q6J("ngIf",!i.loading&&"completed"==i.form_status),e.xp6(1),e.Q6J("ngIf",!i.loading&&"completed"!=i.form_status))},dependencies:[p.sg,p.O5,r._Y,r.Fj,r.JJ,r.JL,l.YG,l.PM,l.FN,l.nz,l.wI,l.W2,l.jY,l.pK,l.Ie,l.Q$,l.B7,l.se,l.Nd,l.cJ,l.GO,l.t9,l.n0,l.g2,l.ho,l.w,l.as,l.U5,l.QI,l.j9,r.sg,r.u,r.x0,r.CE,j,X,K,O,H,nn,on.G,rn,$,R,V],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-card[_ngcontent-%COMP%]{margin:10px 0}.box-form[_ngcontent-%COMP%]{overflow:scroll;background:var(--bgcolor);padding:15px;height:100%}ion-segment[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;text-align:left;height:auto;width:auto}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{float:left;clear:left;text-align:left;width:100%;max-width:100%}ion-segment-button[_ngcontent-%COMP%]{--indicator-color: var(--button-bgcolor)}ion-segment-button.md[_ngcontent-%COMP%]{--color: #000;--color-checked: var(--button-bgcolor);--indicator-height: 2px}ion-segment-button.ios[_ngcontent-%COMP%]{--color: var(--button-bgcolor);--color-checked: #fff;--border-radius: 20px}ion-popover[_ngcontent-%COMP%]{--width: 300px}ion-datetime[_ngcontent-%COMP%]{background:#fff;--background: #fff}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),n})()}];let mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[C.Bz.forChild(_o),C.Bz]}),n})(),go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),n})(),Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),n})();const ho=[];let fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[C.Bz.forChild(ho),C.Bz]}),n})(),ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,fo]}),n})(),vo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,J,Q,ee]}),n})(),xo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,J,Q,ee]}),n})(),te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,J,Q]}),n})(),bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),n})(),Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,te]}),n})(),yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,Fo]}),n})();var To=h(4546);let Zo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),n})(),Io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),n})(),Co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX,J,Q]}),n})(),ko=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),n})(),Po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,r.UX]}),n})(),wo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,l.Pc,mo,r.UX,go,vo,xo,te,bo,Io,yo,To.O,Zo,Co,ko,Po]}),n})()}}]);